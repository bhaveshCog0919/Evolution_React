{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Button,Col,Container,Input,Row,Modal,ModalBody,ModalHeader,ModalFooter,Collapse,Card,CardBody,CardHeader}from'reactstrap';import moment from'moment';import{toast}from'react-toastify';import{withTranslation}from'react-i18next';import api from'../../utils/apiClient';import{apiBase}from'../../utils/config';import APIConstant from'../../utils/constants';import{CommonConfig}from'../../utils/constants';import SidebarNav from'../SidebarNav/SidebarNav';var userDefaultImg=require('../../assets/img/defaultProfile.png');var ViewContactDetails=/*#__PURE__*/function(_React$Component){_inherits(ViewContactDetails,_React$Component);var _super=_createSuper(ViewContactDetails);function ViewContactDetails(props){var _this;_classCallCheck(this,ViewContactDetails);_this=_super.call(this,props);_this.formatPhone=function(ph){var phone;if(ph.CountryCode&&ph.CountryCode!==''&&ph.CountryCode!==undefined&&ph.CountryCode!==null){if(ph.AreaCode&&ph.AreaCode!==''&&ph.AreaCode!==undefined&&ph.AreaCode!==null){// phone = ph.CountryCode + ' ' + ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\nphone=ph.CountryCode+' '+ph.AreaCode+' '+CommonConfig.formatPhoneNumber(ph.PhoneNumber);}else{// phone = ph.CountryCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\nphone=ph.CountryCode+' '+CommonConfig.formatPhoneNumber(ph.PhoneNumber);}}else{if(ph.AreaCode&&ph.AreaCode!==''&&ph.AreaCode!==undefined&&ph.AreaCode!==null){// phone = ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\nphone=ph.AreaCode+' '+CommonConfig.formatPhoneNumber(ph.PhoneNumber);}else{// phone = CommonConfig.formatPhoneNumber(ph.PhoneNumber);\nphone=CommonConfig.formatPhoneNumber(ph.PhoneNumber);}}return phone;};_this.toggleCustom=function(tab){var prevState=_this.state.custom;var state=prevState.map(function(x,index){return tab===index?!x:false;});_this.setState({custom:state,isExpand:false});};_this.toggleAll=function(toggleType){var prevState=_this.state.custom;if(toggleType==='expand'){var state=prevState.map(function(x,index){return x=true;});_this.setState({custom:state,isExpand:true});}else{var _state=prevState.map(function(x,index){return x=false;});_this.setState({custom:_state,isExpand:false});}};_this.reset=function(){_this.setState({showModal:false,selectedRecord:'',verificationArray:[],note:'',selected1:false,selected2:false,selected3:false});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.value===''||e.target.value===null){// this.show(e.target.name, true);\n}else{_this.show(e.target.name,false);_this.setState({note:e.target.value});}};_this.selectType=function(value,type,i){if(value===''){_this.show(type,true);if(i===0)_this.setState({selected1:false});if(i===1)_this.setState({selected2:false});if(i===2)_this.setState({selected3:false});}else if(value==='Incorrect'){if(i===0)_this.setState({selected1:false});if(i===1)_this.setState({selected2:false});if(i===2)_this.setState({selected3:false});}else{_this.show(type,false);if(i===0)_this.setState({selected1:true});if(i===1)_this.setState({selected2:true});if(i===2)_this.setState({selected3:true});}};_this.goToEdit=function(){var t=_this.props.t;try{var selectedValues=0;if(_this.state.selected1)selectedValues++;if(_this.state.selected2)selectedValues++;if(_this.state.selected3)selectedValues++;var checkValid=true;if(_this.state.entityType.toLowerCase()==='person'){if(selectedValues===0||selectedValues===1){checkValid=false;toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));}else if(selectedValues<3&&CommonConfig.isEmpty(_this.state.note)){checkValid=false;toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));}}else{if(selectedValues===0){checkValid=false;toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));}else if(selectedValues<2&&CommonConfig.isEmpty(_this.state.note)){checkValid=false;toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));}}// if(selectedValues < 2){\n//     toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));\n// }else if(selectedValues === 2 && this.state.note.trim() === ''){\n//     toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));\n// }else if((selectedValues === 2 && this.state.note.trim() !== '') || (selectedValues === 3)){\nif(checkValid){var id=_this.state.selectedRecord.id;var entityType=_this.state.selectedRecord.entityType;var data={verificationArray:_this.state.verificationArray,isCorrect:true,note:_this.state.note,id:id};api.post('api/addVerificationDetails',data).then(function(res){if(res.success){if(res.data.success){_this.reset();toast.success(res.data.message);_this.props.history.push({pathname:'/editContactDetails/'+id+'/'+entityType,state:{id:id,entityType:entityType}});}else{}}else{toast.error('User verification failed');}}).catch(function(err){console.log(\"err\",err);});}}catch(error){console.log(\"error\",error);}};_this.goBack=function(){_this.props.history.push({pathname:'/contactList'});// this.props.history.push('/contactList');\n};_this.state={id:'',entityType:'',selectedLanguage:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,isEdit:false,isInternalStaff:false,contactcode:0,selectedContactName:'',isCompany:'Individual',contactPreference:'',gender:'',userImg:'',companyname:'',titleName:'',forename:'',surname:'',salutation:'',fullName:'',passportno:'',countryShown:'',companyIdentifier:'',businesstypeShown:'',dob:'',addrCountryShown:'',addrline1:'',addrline2:'',addrline3:'',cityShown:'',stateShown:'',postalcode:'',phoneList:[],emailList:[],contactModes:[],docdeliverySelected:'',userNote:'',bankcode:'',commission:'',custom:[false,false,false],isExpand:false,showModal:false,personQuestion:[],organizationQuestion:[],arrayToDisplay:[],selectedRecord:'',verificationArray:[],mobile:null,note:'',selected1:false,selected2:false,selected3:false};return _this;}_createClass(ViewContactDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPersonQuestion();this.getOrganizationQuestion();if(this.props.match.params.constructor===Object&&Object.keys(this.props.match.params).length!==0){this.getContactDetails(this.props.match.params.id,this.props.match.params.entityType);}}},{key:\"getPersonQuestion\",value:function getPersonQuestion(){var _this2=this;try{var data={stringmaptype:'PERSONQUESTION',orderby:'SortOrder',languageid:this.state.selectedLanguage};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this2.setState({personQuestion:res.data});}else{}}).catch(function(err){console.log(\"error\",err);});}catch(error){console.log(\"err\",error);}}},{key:\"getOrganizationQuestion\",value:function getOrganizationQuestion(){var _this3=this;try{var data={stringmaptype:'ORGQUESTION',orderby:'SortOrder',languageid:this.state.selectedLanguage};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this3.setState({organizationQuestion:res.data});}else{}}).catch(function(err){console.log(\"error\",err);});}catch(error){console.log(\"err\",error);}}},{key:\"getContactDetails\",value:function getContactDetails(id,entityType){var _this4=this;try{var data={id:id,entityType:entityType};this.setState({id:id,entityType:entityType});console.log(\"data\",data);api.post('api/getContactDetailsByTypeAndID',data).then(function(res){console.log(\"res\",res);if(res.success){console.log(\"getContactDetailsByTypeAndID > \",res);var contactModes=[];var profileImage;var phones=res.data.phoneData.sort(function(x,y){return y.IsPreferred.data[0]-x.IsPreferred.data[0];});var emails=res.data.emailData.sort(function(x,y){return y.IsPreferred.data[0]-x.IsPreferred.data[0];});var preferredPhone=phones.find(function(x){return x.IsPreferred.data[0]===1;});var phonestr=_this4.formatPhone(preferredPhone);for(var k=0;k<res.data.contactModes.length;k++){contactModes.push({contactmodeid:res.data.contactModes[k].ContactModeId,stringmapid:res.data.contactModes[k].ContactModeType,stringmapname:res.data.contactModes[k].contactmodename,isSelected:res.data.contactModes[k].Status==='Active'?true:false});}if(res.data.personData[0].PicturePath!==''&&res.data.personData[0].PicturePath!==undefined&&res.data.personData[0].PicturePath!==null){profileImage=apiBase+res.data.personData[0].PicturePath;}if(entityType.toString().toLowerCase()==='person'){_this4.setState({contactcode:res.data.personData[0].ContactCode,selectedContactName:res.data.personData[0].contactTypeName,isInternalStaff:res.data.personData[0].ContactType==\"InternalStaff\"?true:false,isCompany:'Individual',userImg:profileImage,companyname:res.data.personData[0].CompanyName,titleName:res.data.personData[0].titleName,forename:res.data.personData[0].Forename,surname:res.data.personData[0].Surname,salutation:res.data.personData[0].Salutation,gender:res.data.personData[0].Gender,passportno:res.data.personData[0].PassportNumber,countryShown:CommonConfig.isEmpty(res.data.personData[0].passportcountryName)?'':res.data.personData[0].passportcountryName,dob:CommonConfig.isEmpty(res.data.personData[0].DOB)||res.data.personData[0].DOB=='0000-00-00'||res.data.personData[0].DOB==\"Invalid date\"?'':moment(res.data.personData[0].DOB).format(CommonConfig.dateFormat.dateOnly),businesstypeShown:CommonConfig.isEmpty(res.data.personData[0].businesstypeName)?'':res.data.personData[0].businesstypeName,addrCountryShown:CommonConfig.isEmpty(res.data.addressData[0].countryname)?'':res.data.addressData[0].countryname,addrline1:res.data.addressData[0].AddrLine1,addrline2:res.data.addressData[0].AddrLine2,addrline3:res.data.addressData[0].AddrLine3,stateShown:CommonConfig.isEmpty(res.data.addressData[0].State)?'':res.data.addressData[0].State,cityShown:res.data.addressData[0].City,postalcode:res.data.addressData[0].PostalCode,phoneList:phones,emailList:emails,contactPreference:res.data.personData[0].IsOkToContact.data[0]===1?'oktocontact':'donotcontact',contactModes:contactModes,docdeliverySelected:res.data.personData[0].DocumentDelivery,userNote:res.data.personData[0].Note,mobile:phonestr,fullName:res.data.personData[0].titleName+' '+res.data.personData[0].Forename+' '+res.data.personData[0].Surname});}else if(entityType.toString().toLowerCase()==='organization'){_this4.setState({contactcode:res.data.personData[0].ContactCode,selectedContactName:res.data.personData[0].contactTypeName,isInternalStaff:res.data.personData[0].ContactType==\"InternalStaff\"?true:false,isCompany:'Company',userImg:profileImage,companyIdentifier:res.data.personData[0].CompanyIdentifier,companyname:res.data.personData[0].OrganizationName,businesstypeShown:CommonConfig.isEmpty(res.data.personData[0].businesstypeName)?'':res.data.personData[0].businesstypeName,addrCountryShown:CommonConfig.isEmpty(res.data.addressData[0].countryname)?'':res.data.addressData[0].countryname,addrline1:res.data.addressData[0].AddrLine1,addrline2:res.data.addressData[0].AddrLine2,addrline3:res.data.addressData[0].AddrLine3,stateShown:res.data.addressData[0].statename!==undefined&&res.data.addressData[0].statename!==null&&res.data.addressData[0].statename!==''?res.data.addressData[0].statename:'',cityShown:res.data.addressData[0].City,postalcode:res.data.addressData[0].PostalCode,phoneList:phones,emailList:emails,contactPreference:res.data.personData[0].IsOkToContact.data[0]===1?'oktocontact':'donotcontact',contactModes:contactModes,docdeliverySelected:res.data.personData[0].DocumentDelivery,userNote:res.data.personData[0].Note,mobile:phonestr,fullName:res.data.personData[0].OrganizationName});}else{}}else{console.log(\"error in get data\");}}).catch(function(err){console.log(\"err\",err);});}catch(error){console.log(\"error\",error);}}},{key:\"editContacts\",value:function editContacts(state){// debugger;\nif(this.state.selectedContactName==\"Client\"){this.setState({showModal:true,selectedRecord:state,arrayToDisplay:this.state.isCompany==='Individual'?this.state.personQuestion:this.state.organizationQuestion});}else{var id=state.id;var entityType=state.entityType;this.props.history.push({pathname:'/editContactDetails/'+id+'/'+entityType,state:{id:id,entityType:entityType}});}// old code \n// if (this.state.isInternalStaff) {\n//     let id = state.id;\n//     let entityType = state.entityType;\n//     this.props.history.push({\n//         pathname: '/editContactDetails/' + id + '/' + entityType,\n//         state: {\n//             id: id,\n//             entityType: entityType\n//         }\n//     });\n// } else {\n//     this.setState({\n//         showModal: true, selectedRecord: state,\n//         arrayToDisplay: (this.state.isCompany === 'Individual') ? this.state.personQuestion : this.state.organizationQuestion\n//     });\n// }\n}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"render\",value:function render(){var _this5=this;var t=this.props.t;var EditButton=t(\"buttons.Edit\");var BackButton=t(\"buttons.Back\");return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-content\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"b\",{style:{marginRight:20}},\"Contact# \",this.state.contactcode))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:10}},this.state.fullName!=\"\"?/*#__PURE__*/React.createElement(Col,{md:\"12\",style:{marginBottom:10}},/*#__PURE__*/React.createElement(SidebarNav,Object.assign({contactEntityType:this.props.match.params.entityType,contactEntityId:this.props.match.params.id,contactName:this.state.fullName,NavPage:\"User\",NavID:this.props.match.params.id},this.props))):null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-img\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.userImg&&this.state.userImg!==''?this.state.userImg:userDefaultImg,alt:\"user_profile_image\",width:\"100%\",height:\"auto\"}))),/*#__PURE__*/React.createElement(Col,{md:\"8\"},this.state.isCompany==='Individual'?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"b\",null,this.state.titleName,\" \",this.state.forename,\" \",this.state.surname)),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},\"(\",this.state.selectedContactName,\")\"),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-phone\",style:{marginRight:5}}),this.state.mobile),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-envelope\",style:{marginRight:5}}),this.state.emailList[0]!==undefined?this.state.emailList[0].Email:'')),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,this.state.businesstypeShown)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,this.state.companyname)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},t(\"contactDetails:Gender\"),\": \",this.state.gender),this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},t(\"contactDetails:DOB.label\"),\": \",this.state.dob),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},t(\"contactDetails:Salutation.label\"),\": \",this.state.salutation))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"b\",null,this.state.companyname)),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},\"(\",this.state.selectedContactName,\")\"),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-phone\",style:{marginRight:5}}),this.state.mobile),/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-envelope\",style:{marginRight:5}}),this.state.emailList[0]!==undefined?this.state.emailList[0].Email:'')),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,this.state.businesstypeShown)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,this.state.companyIdentifier)))),/*#__PURE__*/React.createElement(Col,{md:\"2\",style:{textAlign:\"right\"}},/*#__PURE__*/React.createElement(Button,{style:{marginRight:5},color:\"primary\",onClick:function onClick(){return _this5.editContacts(_this5.state);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\",style:{marginRight:5}}),EditButton),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:function onClick(){return _this5.goBack();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-angle-left\"}),BackButton))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:10}},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\",style:{marginBottom:5}},/*#__PURE__*/React.createElement(Button,{color:\"primary\",title:this.state.isExpand?t(\"contactDetails:ViewPage.CollapseAll\"):t(\"contactDetails:ViewPage.ExpandAll\"),onClick:this.state.isExpand?function(){return _this5.toggleAll('collapse');}:function(){return _this5.toggleAll('expand');}},/*#__PURE__*/React.createElement(\"i\",{className:this.state.isExpand?\"fa fa-compress\":\"fa fa-expand\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"accordion\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-0\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"headingOne\"},/*#__PURE__*/React.createElement(Button,{block:true,color:\"link\",className:\"text-left m-0 p-0\",onClick:function onClick(){return _this5.toggleCustom(0);},\"aria-expanded\":this.state.custom[0],\"aria-controls\":\"collapseOne\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0 p-0\"},t(\"contactDetails:ViewPage.ContactDetails\"),/*#__PURE__*/React.createElement(\"i\",{style:{float:'right'},className:this.state.custom[0]?\"fa fa-chevron-down\":\"fa fa-chevron-up\"})))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.custom[0],\"data-parent\":\"#accordion\",id:\"collapseOne\",\"aria-labelledby\":\"headingOne\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-phone-square\",style:{marginRight:10}}),/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:PhoneHeader\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10},className:\"input-box\"},/*#__PURE__*/React.createElement(\"table\",{className:\"added-detail-table\"},/*#__PURE__*/React.createElement(\"thead\",null),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.phoneList.map(function(ph,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,ph.phonetypeName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,_this5.formatPhone(ph),ph.IsPreferred.data[0]===1?/*#__PURE__*/React.createElement(\"i\",{style:{marginLeft:10},title:t(\"contactDetails:PhonePrimary\"),className:\"fa fa-check-circle\"}):null)));}))))))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-envelope-square\",style:{marginRight:10}}),/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:EmailHeader\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10},className:\"input-box\"},/*#__PURE__*/React.createElement(\"table\",{className:\"added-detail-table\"},/*#__PURE__*/React.createElement(\"thead\",null),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.emailList.map(function(email,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,email.EmailTypeName)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,email.Email,email.IsPreferred.data[0]===1?/*#__PURE__*/React.createElement(\"i\",{style:{marginLeft:10},title:t(\"contactDetails:EmailPrimary\"),className:\"fa fa-check-circle\"}):null)));}))))))),this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-map-marker\",style:{marginRight:10}}),/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:Address\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"p\",null,this.state.addrline1,/*#__PURE__*/React.createElement(\"br\",null),!CommonConfig.isEmpty(this.state.addrline2)&&!CommonConfig.isEmpty(this.state.addrline3)?(this.state.addrline2,this.state.addrline3):!CommonConfig.isEmpty(this.state.addrline2)&&CommonConfig.isEmpty(this.state.addrline3)?this.state.addrline2:CommonConfig.isEmpty(this.state.addrline2)&&!CommonConfig.isEmpty(this.state.addrline3)?this.state.addrline3:null,CommonConfig.isEmpty(this.state.addrline2)&&CommonConfig.isEmpty(this.state.addrline3)?null:/*#__PURE__*/React.createElement(\"br\",null),this.state.cityShown,/*#__PURE__*/React.createElement(\"br\",null),this.state.stateShown,/*#__PURE__*/React.createElement(\"br\",null),this.state.addrCountryShown,\" \",/*#__PURE__*/React.createElement(\"br\",null),this.state.postalcode))))),this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:ContactPreference\")))),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,this.state.contactPreference=='oktocontact'?t(\"contactDetails:OktoContact\"):t(\"contactDetails:DonotContact\")))),this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:ContactMode\")))),this.state.contactModes.map(function(cm,i){if(cm.isSelected){return/*#__PURE__*/ (//   <div key={i}>\n//     <p>{cm.stringmapname}</p> \n//   </div>\nReact.createElement(Col,{md:\"2\",key:i},/*#__PURE__*/React.createElement(\"p\",null,cm.stringmapname)));}})),this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:DocumentDelivery.label\")))),/*#__PURE__*/React.createElement(Col,{md:\"10\"},/*#__PURE__*/React.createElement(\"span\",null,this.state.docdeliverySelected=='both'?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},t(\"contactDetails:DocumentDelivery.Email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},t(\"contactDetails:DocumentDelivery.Post\"))):this.state.docdeliverySelected=='email'?/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},t(\"contactDetails:DocumentDelivery.Email\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},t(\"contactDetails:DocumentDelivery.Post\"))))))))),this.state.isCompany==='Individual'?this.state.isInternalStaff?null:/*#__PURE__*/React.createElement(Card,{className:\"mb-0\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"headingTwo\"},/*#__PURE__*/React.createElement(Button,{block:true,color:\"link\",className:\"text-left m-0 p-0\",onClick:function onClick(){return _this5.toggleCustom(1);},\"aria-expanded\":this.state.custom[1],\"aria-controls\":\"collapseTwo\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0 p-0\"},t(\"contactDetails:ViewPage.PassportDetails\"),/*#__PURE__*/React.createElement(\"i\",{style:{float:'right'},className:this.state.custom[1]?\"fa fa-chevron-down\":\"fa fa-chevron-up\"})))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.custom[1],\"data-parent\":\"#accordion\",id:\"collapseTwo\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:PassportNumber.label\")))),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,this.state.passportno)),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"b\",null,t(\"contactDetails:PassportCountry.label\")))),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"span\",null,this.state.countryShown)))))):null,CommonConfig.isEmpty(this.state.userNote)?null:/*#__PURE__*/React.createElement(Card,{className:\"mb-0\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"headingThree\"},/*#__PURE__*/React.createElement(Button,{block:true,color:\"link\",className:\"text-left m-0 p-0\",onClick:function onClick(){return _this5.toggleCustom(2);},\"aria-expanded\":this.state.custom[2],\"aria-controls\":\"collapseThree\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0 p-0\"},t(\"contactDetails:ViewPage.NoteDetails\"),/*#__PURE__*/React.createElement(\"i\",{style:{float:'right'},className:this.state.custom[2]?\"fa fa-chevron-down\":\"fa fa-chevron-up\"})))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.custom[2],\"data-parent\":\"#accordion\",id:\"collapseThree\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"span\",null,t(\"contactDetails:Notes.label\"))),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"p\",null,this.state.userNote)))))))))),/*#__PURE__*/React.createElement(Modal,{toggle:function toggle(){return _this5.reset();},isOpen:this.state.showModal},/*#__PURE__*/React.createElement(ModalHeader,{toggle:function toggle(){return _this5.reset();}},t(\"contactDetails:ViewPage.ModalHeader\")),/*#__PURE__*/React.createElement(ModalBody,null,this.state.arrayToDisplay.map(function(que,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"input-box rc-box\",key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"rc-inline\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,que.StringMapName)),/*#__PURE__*/React.createElement(Col,{md:\"5\"},/*#__PURE__*/React.createElement(\"label\",null,_this5.state.selectedRecord[que.StringMapKey.toLowerCase()])),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:que.StringMapKey,id:que.StringMapKey,className:\"\",onChange:function onChange(e){return _this5.selectType(e.target.value,e.target.name,i);}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},t(\"contactDetails:ViewPage.OptionDefault\")),/*#__PURE__*/React.createElement(\"option\",{value:\"Correct\"},t(\"contactDetails:ViewPage.OptionCorrect\")),/*#__PURE__*/React.createElement(\"option\",{value:\"Incorrect\"},t(\"contactDetails:ViewPage.OptionIncorrect\"))),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"contactDetails:ViewPage.OptionError\"))))));}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box rc-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rc-inline\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"contactDetails:ViewPage.CommentLabel\"))),/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(Input,{name:\"note\",type:\"textarea\",id:\"note\",className:\"\",maxLength:\"500\",value:this.state.note,onChange:function onChange(e){return _this5.handleChange(e);}}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"contactDetails:ViewPage.CommentErrorBlank\"))))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:function onClick(){return _this5.reset();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close\"}),t(\"contactDetails:ViewPage.VerificationFailed\")),/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:function onClick(){return _this5.goToEdit();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check\"}),t(\"contactDetails:ViewPage.VerificationDone\"))))));}}]);return ViewContactDetails;}(React.Component);export default withTranslation()(ViewContactDetails);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/ContactManagement/ViewContactDetails.js"],"names":["React","Button","Col","Container","Input","Row","Modal","ModalBody","ModalHeader","ModalFooter","Collapse","Card","CardBody","CardHeader","moment","toast","withTranslation","api","apiBase","APIConstant","CommonConfig","SidebarNav","userDefaultImg","require","ViewContactDetails","props","formatPhone","ph","phone","CountryCode","undefined","AreaCode","formatPhoneNumber","PhoneNumber","toggleCustom","tab","prevState","state","custom","map","x","index","setState","isExpand","toggleAll","toggleType","reset","showModal","selectedRecord","verificationArray","note","selected1","selected2","selected3","handleChange","e","target","name","value","show","selectType","type","i","goToEdit","t","selectedValues","checkValid","entityType","toLowerCase","error","isEmpty","id","data","isCorrect","post","then","res","success","message","history","push","pathname","catch","err","console","log","goBack","selectedLanguage","i18n","language","isEdit","isInternalStaff","contactcode","selectedContactName","isCompany","contactPreference","gender","userImg","companyname","titleName","forename","surname","salutation","fullName","passportno","countryShown","companyIdentifier","businesstypeShown","dob","addrCountryShown","addrline1","addrline2","addrline3","cityShown","stateShown","postalcode","phoneList","emailList","contactModes","docdeliverySelected","userNote","bankcode","commission","personQuestion","organizationQuestion","arrayToDisplay","mobile","getPersonQuestion","getOrganizationQuestion","match","params","constructor","Object","keys","length","getContactDetails","stringmaptype","orderby","languageid","path","dropdownbycode","profileImage","phones","phoneData","sort","y","IsPreferred","emails","emailData","preferredPhone","find","phonestr","k","contactmodeid","ContactModeId","stringmapid","ContactModeType","stringmapname","contactmodename","isSelected","Status","personData","PicturePath","toString","ContactCode","contactTypeName","ContactType","CompanyName","Forename","Surname","Salutation","Gender","PassportNumber","passportcountryName","DOB","format","dateFormat","dateOnly","businesstypeName","addressData","countryname","AddrLine1","AddrLine2","AddrLine3","State","City","PostalCode","IsOkToContact","DocumentDelivery","Note","CompanyIdentifier","OrganizationName","statename","field","condition","document","getElementById","className","EditButton","BackButton","marginRight","marginTop","marginBottom","margin","Email","textAlign","editContacts","float","phonetypeName","marginLeft","email","EmailTypeName","cm","que","StringMapName","StringMapKey","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    Button, Col, Container, Input, Row, Modal, ModalBody, ModalHeader, ModalFooter,\n    Collapse, Card, CardBody, CardHeader\n} from 'reactstrap';\nimport moment from 'moment';\nimport { toast } from 'react-toastify';\nimport { withTranslation } from 'react-i18next';\n\nimport api from '../../utils/apiClient';\nimport { apiBase } from '../../utils/config';\nimport APIConstant from '../../utils/constants';\nimport { CommonConfig } from '../../utils/constants';\nimport SidebarNav from '../SidebarNav/SidebarNav';\n\nconst userDefaultImg = require('../../assets/img/defaultProfile.png');\n\nclass ViewContactDetails extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            id: '',\n            entityType: '',\n            selectedLanguage: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\n            isEdit: false,\n            isInternalStaff: false,\n            contactcode: 0,\n            selectedContactName: '',\n            isCompany: 'Individual',\n            contactPreference: '',\n            gender: '',\n            userImg: '',\n            companyname: '',\n            titleName: '',\n            forename: '',\n            surname: '',\n            salutation: '',\n            fullName: '',\n\n            passportno: '',\n            countryShown: '',\n\n            companyIdentifier: '',\n\n            businesstypeShown: '',\n            dob: '',\n            addrCountryShown: '',\n            addrline1: '',\n            addrline2: '',\n            addrline3: '',\n            cityShown: '',\n            stateShown: '',\n            postalcode: '',\n\n            phoneList: [],\n            emailList: [],\n\n            contactModes: [],\n\n            docdeliverySelected: '',\n\n            userNote: '',\n            bankcode: '',\n            commission: '',\n\n            custom: [false, false, false],\n            isExpand: false,\n\n            showModal: false,\n            personQuestion: [],\n            organizationQuestion: [],\n\n            arrayToDisplay: [],\n            selectedRecord: '',\n            verificationArray: [],\n            mobile: null,\n            note: '',\n            selected1: false,\n            selected2: false,\n            selected3: false\n        }\n    }\n\n    componentDidMount() {\n        this.getPersonQuestion();\n        this.getOrganizationQuestion();\n\n        if (this.props.match.params.constructor === Object && Object.keys(this.props.match.params).length !== 0) {\n            this.getContactDetails(this.props.match.params.id, this.props.match.params.entityType);\n        }\n    }\n\n    getPersonQuestion() {\n        try {\n            const data = {\n                stringmaptype: 'PERSONQUESTION',\n                orderby: 'SortOrder',\n                languageid: this.state.selectedLanguage\n            };\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\n                if (res.success) {\n                    this.setState({ personQuestion: res.data });\n                } else {\n\n                }\n            }).catch(err => {\n                console.log(\"error\", err);\n            });\n        } catch (error) {\n            console.log(\"err\", error);\n        }\n    }\n\n    getOrganizationQuestion() {\n        try {\n            const data = {\n                stringmaptype: 'ORGQUESTION',\n                orderby: 'SortOrder',\n                languageid: this.state.selectedLanguage\n            };\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\n                if (res.success) {\n                    this.setState({ organizationQuestion: res.data });\n                } else {\n\n                }\n            }).catch(err => {\n                console.log(\"error\", err);\n            });\n        } catch (error) {\n            console.log(\"err\", error);\n        }\n    }\n\n    getContactDetails(id, entityType) {\n       \n        try {\n            let data = {\n                id: id,\n                entityType: entityType\n            }\n            this.setState({ id: id, entityType: entityType });\n            console.log(\"data\",data);\n            \n            api.post('api/getContactDetailsByTypeAndID', data).then(res => {\n                console.log(\"res\",res);\n                if (res.success) {\n                    console.log(\"getContactDetailsByTypeAndID > \", res);\n                    let contactModes = [];\n                    let profileImage;\n\n                    let phones = res.data.phoneData.sort((x, y) => {\n                        return y.IsPreferred.data[0] - x.IsPreferred.data[0]\n                    });\n\n                    let emails = res.data.emailData.sort((x, y) => {\n                        return y.IsPreferred.data[0] - x.IsPreferred.data[0]\n                    });\n\n                    let preferredPhone = phones.find(x => x.IsPreferred.data[0] === 1);\n                    let phonestr = this.formatPhone(preferredPhone);\n\n                    for (let k = 0; k < res.data.contactModes.length; k++) {\n                        contactModes.push({\n                            contactmodeid: res.data.contactModes[k].ContactModeId,\n                            stringmapid: res.data.contactModes[k].ContactModeType,\n                            stringmapname: res.data.contactModes[k].contactmodename,\n                            isSelected: (res.data.contactModes[k].Status === 'Active') ? true : false\n                        });\n                    }\n\n                    if (res.data.personData[0].PicturePath !== '' && res.data.personData[0].PicturePath !== undefined && res.data.personData[0].PicturePath !== null) {\n                        profileImage = apiBase + res.data.personData[0].PicturePath;\n                    }\n                    if (entityType.toString().toLowerCase() === 'person') {\n                        this.setState({\n                            contactcode: res.data.personData[0].ContactCode,\n                            selectedContactName: res.data.personData[0].contactTypeName,\n                            isInternalStaff: (res.data.personData[0].ContactType == \"InternalStaff\") ? true : false,\n                            isCompany: 'Individual',\n                            userImg: profileImage,\n                            companyname: res.data.personData[0].CompanyName,\n                            titleName: res.data.personData[0].titleName,\n                            forename: res.data.personData[0].Forename,\n                            surname: res.data.personData[0].Surname,\n                            salutation: res.data.personData[0].Salutation,\n                            gender: res.data.personData[0].Gender,\n                            passportno: res.data.personData[0].PassportNumber,\n                            countryShown: (CommonConfig.isEmpty(res.data.personData[0].passportcountryName)) ? '' : res.data.personData[0].passportcountryName,\n                            dob: CommonConfig.isEmpty(res.data.personData[0].DOB) || res.data.personData[0].DOB=='0000-00-00' || res.data.personData[0].DOB == \"Invalid date\" ?'':moment(res.data.personData[0].DOB).format(CommonConfig.dateFormat.dateOnly),\n                            businesstypeShown: (CommonConfig.isEmpty(res.data.personData[0].businesstypeName)) ? '' : res.data.personData[0].businesstypeName,\n                            addrCountryShown: (CommonConfig.isEmpty(res.data.addressData[0].countryname)) ? '' : res.data.addressData[0].countryname,\n                            addrline1: res.data.addressData[0].AddrLine1,\n                            addrline2: res.data.addressData[0].AddrLine2,\n                            addrline3: res.data.addressData[0].AddrLine3,\n                            stateShown: (CommonConfig.isEmpty(res.data.addressData[0].State)) ? '' : res.data.addressData[0].State,\n                            cityShown: res.data.addressData[0].City,\n                            postalcode: res.data.addressData[0].PostalCode,\n                            phoneList: phones,\n                            emailList: emails,\n                            contactPreference: (res.data.personData[0].IsOkToContact.data[0] === 1) ? 'oktocontact' : 'donotcontact',\n                            contactModes: contactModes,\n                            docdeliverySelected: res.data.personData[0].DocumentDelivery,\n                            userNote: res.data.personData[0].Note,\n                            mobile: phonestr,\n                            fullName: res.data.personData[0].titleName + ' ' + res.data.personData[0].Forename + ' ' + res.data.personData[0].Surname\n                        });\n                    } else if (entityType.toString().toLowerCase() === 'organization') {\n                        this.setState({\n                            contactcode: res.data.personData[0].ContactCode,\n                            selectedContactName: res.data.personData[0].contactTypeName,\n                            isInternalStaff: (res.data.personData[0].ContactType == \"InternalStaff\") ? true : false,\n                            isCompany: 'Company',\n                            userImg: profileImage,\n                            companyIdentifier: res.data.personData[0].CompanyIdentifier,\n                            companyname: res.data.personData[0].OrganizationName,\n                            businesstypeShown: (CommonConfig.isEmpty(res.data.personData[0].businesstypeName)) ? '' : res.data.personData[0].businesstypeName,\n                            addrCountryShown: (CommonConfig.isEmpty(res.data.addressData[0].countryname)) ? '' : res.data.addressData[0].countryname,\n                            addrline1: res.data.addressData[0].AddrLine1,\n                            addrline2: res.data.addressData[0].AddrLine2,\n                            addrline3: res.data.addressData[0].AddrLine3,\n                            stateShown: (res.data.addressData[0].statename !== undefined && res.data.addressData[0].statename !== null && res.data.addressData[0].statename !== '') ? res.data.addressData[0].statename : '',\n                            cityShown: res.data.addressData[0].City,\n                            postalcode: res.data.addressData[0].PostalCode,\n                            phoneList: phones,\n                            emailList: emails,\n                            contactPreference: (res.data.personData[0].IsOkToContact.data[0] === 1) ? 'oktocontact' : 'donotcontact',\n                            contactModes: contactModes,\n                            docdeliverySelected: res.data.personData[0].DocumentDelivery,\n                            userNote: res.data.personData[0].Note,\n                            mobile: phonestr,\n                            fullName: res.data.personData[0].OrganizationName\n                        });\n                    } else {\n\n                    }\n                } else {\n                    console.log(\"error in get data\");\n                }\n            }).catch(err => {\n                console.log(\"err\", err);\n            });\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n\n    formatPhone = (ph) => {\n        let phone;\n        if (ph.CountryCode && ph.CountryCode !== '' && ph.CountryCode !== undefined && ph.CountryCode !== null) {\n            if (ph.AreaCode && ph.AreaCode !== '' && ph.AreaCode !== undefined && ph.AreaCode !== null) {\n                // phone = ph.CountryCode + ' ' + ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n                phone = ph.CountryCode + ' ' + ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n            } else {\n                // phone = ph.CountryCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n                phone = ph.CountryCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n            }\n        } else {\n            if (ph.AreaCode && ph.AreaCode !== '' && ph.AreaCode !== undefined && ph.AreaCode !== null) {\n                // phone = ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n                phone = ph.AreaCode + ' ' + CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n            } else {\n                // phone = CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n                phone = CommonConfig.formatPhoneNumber(ph.PhoneNumber);\n            }\n        }\n        return phone;\n    }\n\n    toggleCustom = (tab) => {\n        const prevState = this.state.custom;\n        const state = prevState.map((x, index) => tab === index ? !x : false);\n        this.setState({ custom: state, isExpand: false });\n    }\n\n    toggleAll = (toggleType) => {\n        const prevState = this.state.custom;\n        if (toggleType === 'expand') {\n            const state = prevState.map((x, index) => x = true);\n            this.setState({ custom: state, isExpand: true });\n        } else {\n            const state = prevState.map((x, index) => x = false);\n            this.setState({ custom: state, isExpand: false });\n        }\n    }\n\n    editContacts(state) {\n        // debugger;\n         if(this.state.selectedContactName == \"Client\"){\n            this.setState({\n                showModal: true, selectedRecord: state,\n                arrayToDisplay: (this.state.isCompany === 'Individual') ? this.state.personQuestion : this.state.organizationQuestion\n            });\n         }else{\n            let id = state.id;\n            let entityType = state.entityType;\n            this.props.history.push({\n                pathname: '/editContactDetails/' + id + '/' + entityType,\n                state: {\n                    id: id,\n                    entityType: entityType\n                }\n            });\n         }\n         // old code \n        // if (this.state.isInternalStaff) {\n        //     let id = state.id;\n        //     let entityType = state.entityType;\n        //     this.props.history.push({\n        //         pathname: '/editContactDetails/' + id + '/' + entityType,\n        //         state: {\n        //             id: id,\n        //             entityType: entityType\n        //         }\n        //     });\n        // } else {\n        //     this.setState({\n        //         showModal: true, selectedRecord: state,\n        //         arrayToDisplay: (this.state.isCompany === 'Individual') ? this.state.personQuestion : this.state.organizationQuestion\n        //     });\n        // }\n    }\n\n    reset = () => {\n        this.setState({\n            showModal: false, selectedRecord: '', verificationArray: [],\n            note: '', selected1: false, selected2: false, selected3: false\n        });\n    }\n\n    handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n\n        if (e.target.value === '' || e.target.value === null) {\n            // this.show(e.target.name, true);\n        } else {\n            this.show(e.target.name, false);\n            this.setState({ note: e.target.value });\n        }\n    }\n\n    show(field, condition) {\n        if (condition) {\n            document.getElementById(field).className = \"form-control is-invalid\";\n        } else {\n            document.getElementById(field).className = \"form-control\";\n        }\n    }\n\n    selectType = (value, type, i) => {\n        if (value === '') {\n            this.show(type, true);\n            if (i === 0) this.setState({ selected1: false });\n            if (i === 1) this.setState({ selected2: false });\n            if (i === 2) this.setState({ selected3: false });\n        } else if (value === 'Incorrect') {\n            if (i === 0) this.setState({ selected1: false });\n            if (i === 1) this.setState({ selected2: false });\n            if (i === 2) this.setState({ selected3: false });\n        } else {\n            this.show(type, false);\n            if (i === 0) this.setState({ selected1: true });\n            if (i === 1) this.setState({ selected2: true });\n            if (i === 2) this.setState({ selected3: true });\n        }\n    }\n\n    goToEdit = () => {\n        const { t } = this.props;\n        try {\n            let selectedValues = 0;\n            if (this.state.selected1) selectedValues++;\n            if (this.state.selected2) selectedValues++;\n            if (this.state.selected3) selectedValues++;\n\n            let checkValid = true;\n            if (this.state.entityType.toLowerCase() === 'person') {\n                if (selectedValues === 0 || selectedValues === 1) {\n                    checkValid = false;\n                    toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));\n                } else if (selectedValues < 3 && CommonConfig.isEmpty(this.state.note)) {\n                    checkValid = false;\n                    toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));\n                }\n            } else {\n                if (selectedValues === 0) {\n                    checkValid = false;\n                    toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));\n                } else if (selectedValues < 2 && CommonConfig.isEmpty(this.state.note)) {\n                    checkValid = false;\n                    toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));\n                }\n            }\n\n            // if(selectedValues < 2){\n            //     toast.error(t(\"contactDetails:ViewPage.SelectAnswerError\"));\n            // }else if(selectedValues === 2 && this.state.note.trim() === ''){\n            //     toast.error(t(\"contactDetails:ViewPage.AddCommentError\"));\n            // }else if((selectedValues === 2 && this.state.note.trim() !== '') || (selectedValues === 3)){\n\n            if (checkValid) {\n                let id = this.state.selectedRecord.id;\n                let entityType = this.state.selectedRecord.entityType;\n\n                let data = {\n                    verificationArray: this.state.verificationArray,\n                    isCorrect: true,\n                    note: this.state.note,\n                    id: id\n                }\n\n                api.post('api/addVerificationDetails', data).then(res => {\n                    if (res.success) {\n                        if (res.data.success) {\n                            this.reset();\n                            toast.success(res.data.message);\n\n                            this.props.history.push({\n                                pathname: '/editContactDetails/' + id + '/' + entityType,\n                                state: {\n                                    id: id,\n                                    entityType: entityType\n                                }\n                            });\n                        } else {\n\n                        }\n                    } else {\n                        toast.error('User verification failed');\n                    }\n                }).catch(err => {\n                    console.log(\"err\", err);\n                });\n            }\n        } catch (error) {\n            console.log(\"error\", error);\n        }\n    }\n\n    goBack = () => {\n        this.props.history.push({\n            pathname: '/contactList'\n        });\n        // this.props.history.push('/contactList');\n    }\n\n    render() {\n        const { t } = this.props;\n        const EditButton = t(\"buttons.Edit\");\n        const BackButton = t(\"buttons.Back\");\n\n        return (\n            <div className=\"animated fadeIn\">\n                <div className=\"main-content\">\n                    <Container>\n                        <Row>\n                            <Col md=\"12\">\n                                <b style={{ marginRight: 20 }}>Contact# {this.state.contactcode}</b>\n                            </Col>\n                        </Row>\n\n                        <Row style={{ marginTop: 10 }}>\n                            {(this.state.fullName != \"\") ? (\n                                <Col md=\"12\" style={{ marginBottom: 10 }}>\n                                    <SidebarNav contactEntityType={this.props.match.params.entityType}\n                                        contactEntityId={this.props.match.params.id}\n                                        contactName={this.state.fullName}\n                                        NavPage=\"User\" NavID={this.props.match.params.id} {...this.props} />\n                                </Col>\n                            ) : (null)}\n                            <Col md=\"2\">\n                                <div className=\"profile-img\">\n                                    <img src={(this.state.userImg && this.state.userImg !== '') ? this.state.userImg : userDefaultImg} alt=\"user_profile_image\" width=\"100%\" height=\"auto\" />\n                                </div>\n                            </Col>\n\n                            <Col md=\"8\">\n                                {(this.state.isCompany === 'Individual') ?\n                                    (\n                                        <div>\n                                            <div className=\"row\">\n                                                <h2>\n                                                    <b>{this.state.titleName} {this.state.forename} {this.state.surname}</b>\n                                                </h2>\n                                                <span style={{ margin: 10 }}>({this.state.selectedContactName})</span>\n\n                                                <span style={{ margin: 10 }}>\n                                                    <i className=\"fa fa-phone\" style={{ marginRight: 5 }}></i>\n                                                    {this.state.mobile}\n                                                </span>\n\n                                                <span style={{ margin: 10 }}>\n                                                    <i className=\"fa fa-envelope\" style={{ marginRight: 5 }}></i>\n                                                    {(this.state.emailList[0] !== undefined) ? this.state.emailList[0].Email : ''}\n                                                </span>\n                                            </div>\n\n                                            <div>\n                                                <span>{this.state.businesstypeShown}</span>\n                                            </div>\n\n                                            <div>\n                                                <span>{this.state.companyname}</span>\n                                            </div>\n\n                                            <div className=\"row\">\n                                                <div className=\"col-md-2\">\n                                                    {t(\"contactDetails:Gender\")}: {this.state.gender}\n                                                </div>\n                                                {(this.state.isInternalStaff) ? (null) : (\n                                                    <div className=\"col-md-4\">\n                                                        {t(\"contactDetails:DOB.label\")}: {this.state.dob}\n                                                    </div>\n                                                )}\n                                                <div className=\"col-md-4\">\n                                                    {t(\"contactDetails:Salutation.label\")}: {this.state.salutation}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ) : (\n                                        <div>\n                                            <div className=\"row\">\n                                                <h2>\n                                                    <b>{this.state.companyname}</b>\n                                                </h2>\n\n                                                <span style={{ margin: 10 }}>({this.state.selectedContactName})</span>\n\n                                                <span style={{ margin: 10 }}>\n                                                    <i className=\"fa fa-phone\" style={{ marginRight: 5 }}></i>\n                                                    {this.state.mobile}\n                                                </span>\n\n                                                <span style={{ margin: 10 }}>\n                                                    <i className=\"fa fa-envelope\" style={{ marginRight: 5 }}></i>\n                                                    {(this.state.emailList[0] !== undefined) ? this.state.emailList[0].Email : ''}\n                                                </span>\n                                            </div>\n\n                                            <div>\n                                                <span>{this.state.businesstypeShown}</span>\n                                            </div>\n\n                                            <div>\n                                                <span>{this.state.companyIdentifier}</span>\n                                            </div>\n                                        </div>\n                                    )\n                                }\n                            </Col>\n\n                            <Col md=\"2\" style={{ textAlign: \"right\" }}>\n\n                                <Button style={{ marginRight: 5 }} color=\"primary\" onClick={() => this.editContacts(this.state)}>\n                                    <i className=\"fa fa-pencil\" style={{ marginRight: 5 }}></i>\n                                    {EditButton}\n                                </Button>\n\n                                <Button color=\"primary\" onClick={() => this.goBack()}>\n                                    <i className=\"fa fa-angle-left\"></i>\n                                    {BackButton}\n                                </Button>\n\n                            </Col>\n                        </Row>\n\n                        <Card style={{ marginTop: 10 }}>\n                            <CardBody>\n                                <div className=\"text-right\" style={{ marginBottom: 5 }}>\n                                    <Button color=\"primary\" title={(this.state.isExpand) ? t(\"contactDetails:ViewPage.CollapseAll\") : t(\"contactDetails:ViewPage.ExpandAll\")}\n                                        onClick={(this.state.isExpand) ? () => this.toggleAll('collapse') : () => this.toggleAll('expand')}\n                                    >\n                                        <i className={(this.state.isExpand) ? \"fa fa-compress\" : \"fa fa-expand\"}></i>\n                                    </Button>\n                                </div>\n\n                                <div id=\"accordion\">\n                                    <Card className=\"mb-0\">\n                                        <CardHeader id=\"headingOne\">\n                                            <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleCustom(0)} aria-expanded={this.state.custom[0]} aria-controls=\"collapseOne\">\n                                                <h5 className=\"m-0 p-0\">\n                                                    {/* <i style={{marginRight: 5}} className=\"fa fa-address-card-o\"></i> */}\n                                                    {t(\"contactDetails:ViewPage.ContactDetails\")}\n                                                    <i style={{ float: 'right' }} className={this.state.custom[0] ? \"fa fa-chevron-down\" : \"fa fa-chevron-up\"}></i>\n                                                </h5>\n                                            </Button>\n                                        </CardHeader>\n                                        <Collapse isOpen={this.state.custom[0]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\n                                            <CardBody>\n                                                <Row>\n                                                    <Col md=\"4\">\n                                                        <span>\n                                                            <i className=\"fa fa-phone-square\" style={{ marginRight: 10 }}></i>\n                                                            <b>{t(\"contactDetails:PhoneHeader\")}</b>\n                                                        </span>\n\n                                                        <Row>\n                                                            <Col md=\"12\">\n                                                                <div style={{ marginTop: 10 }} className=\"input-box\">\n                                                                    <table className=\"added-detail-table\">\n                                                                        <thead></thead>\n\n                                                                        <tbody>\n                                                                            {this.state.phoneList.map((ph, i) => {\n                                                                                return (\n                                                                                    <tr key={i}>\n                                                                                        <td>\n                                                                                            <span>\n                                                                                                {ph.phonetypeName}\n                                                                                            </span>\n                                                                                        </td>\n\n                                                                                        <td>\n                                                                                            <span>\n                                                                                                {this.formatPhone(ph)}\n                                                                                                {(ph.IsPreferred.data[0] === 1) ?\n                                                                                                    (<i style={{ marginLeft: 10 }} title={t(\"contactDetails:PhonePrimary\")} className=\"fa fa-check-circle\"></i>) : null\n                                                                                                }\n                                                                                            </span>\n                                                                                        </td>\n                                                                                    </tr>\n                                                                                )\n                                                                            })}\n                                                                        </tbody>\n                                                                    </table>\n                                                                </div>\n                                                            </Col>\n                                                        </Row>\n                                                    </Col>\n\n                                                    <Col md=\"4\">\n                                                        <span>\n                                                            <i className=\"fa fa-envelope-square\" style={{ marginRight: 10 }}></i>\n                                                            <b>{t(\"contactDetails:EmailHeader\")}</b>\n                                                        </span>\n\n                                                        <Row>\n                                                            <Col md=\"12\">\n                                                                <div style={{ marginTop: 10 }} className=\"input-box\">\n                                                                    <table className=\"added-detail-table\">\n                                                                        <thead></thead>\n\n                                                                        <tbody>\n                                                                            {this.state.emailList.map((email, i) => {\n                                                                                return (\n                                                                                    <tr key={i}>\n                                                                                        <td>\n                                                                                            <span>{email.EmailTypeName}</span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span>\n                                                                                                {email.Email}\n                                                                                                {(email.IsPreferred.data[0] === 1) ?\n                                                                                                    (<i style={{ marginLeft: 10 }} title={t(\"contactDetails:EmailPrimary\")} className=\"fa fa-check-circle\"></i>) : null\n                                                                                                }\n                                                                                            </span>\n                                                                                        </td>\n                                                                                    </tr>\n                                                                                )\n                                                                            })\n                                                                            }\n                                                                        </tbody>\n                                                                    </table>\n                                                                </div>\n                                                            </Col>\n                                                        </Row>\n                                                    </Col>\n\n                                                    {(this.state.isInternalStaff) ? (null) : (\n                                                        <Col md=\"4\">\n                                                            <span>\n                                                                <i className=\"fa fa-map-marker\" style={{ marginRight: 10 }}></i>\n                                                                <b>{t(\"contactDetails:Address\")}</b>\n                                                            </span>\n\n                                                            <Row>\n                                                                <Col md=\"12\">\n                                                                    <p>\n                                                                        {this.state.addrline1}<br />\n                                                                        {((!CommonConfig.isEmpty(this.state.addrline2) && !CommonConfig.isEmpty(this.state.addrline3)) ?\n                                                                            (this.state.addrline2, this.state.addrline3) :\n                                                                            ((!CommonConfig.isEmpty(this.state.addrline2) && CommonConfig.isEmpty(this.state.addrline3)) ?\n                                                                                (this.state.addrline2) :\n                                                                                ((CommonConfig.isEmpty(this.state.addrline2) && !CommonConfig.isEmpty(this.state.addrline3)) ?\n                                                                                    (this.state.addrline3) : null)))\n                                                                        }\n                                                                        {(CommonConfig.isEmpty(this.state.addrline2) && CommonConfig.isEmpty(this.state.addrline3)) ?\n                                                                            null : <br />\n                                                                        }\n                                                                        {this.state.cityShown}<br />\n                                                                        {this.state.stateShown}<br />\n                                                                        {this.state.addrCountryShown} <br />\n                                                                        {this.state.postalcode}\n                                                                    </p>\n                                                                </Col>\n                                                            </Row>\n                                                        </Col>\n                                                    )}\n                                                </Row>\n\n                                                {(this.state.isInternalStaff) ? (null) : (\n                                                    <Row>\n                                                        <Col md=\"2\">\n                                                            <span><b>{t(\"contactDetails:ContactPreference\")}</b></span>\n                                                        </Col>\n                                                        <Col md=\"2\">\n                                                            <span>{(this.state.contactPreference == 'oktocontact' ? t(\"contactDetails:OktoContact\") : t(\"contactDetails:DonotContact\"))}</span>\n                                                        </Col>\n                                                    </Row>\n                                                )}\n\n                                                {(this.state.isInternalStaff) ? (null) : (\n                                                    <Row>\n                                                        <Col md=\"2\">\n                                                            <span><b>{t(\"contactDetails:ContactMode\")}</b></span>\n                                                        </Col>\n                                                        {this.state.contactModes.map((cm, i) => {\n                                                            if (cm.isSelected) {\n                                                                return (\n                                                                    //   <div key={i}>\n                                                                    //     <p>{cm.stringmapname}</p> \n                                                                    //   </div>\n                                                                    <Col md=\"2\" key={i}>\n                                                                        <p>{cm.stringmapname}</p>\n                                                                    </Col>\n                                                                )\n                                                            }\n                                                        })\n                                                        }\n                                                    </Row>\n                                                )}\n\n                                                {(this.state.isInternalStaff) ? (null) : (\n                                                    <Row>\n                                                        <Col md=\"2\">\n                                                            <span><b>{t(\"contactDetails:DocumentDelivery.label\")}</b></span>\n                                                        </Col>\n                                                        <Col md=\"10\">\n                                                            <span>\n                                                                {(this.state.docdeliverySelected == 'both' ?\n                                                                    (<div className=\"row\">\n                                                                        <div className=\"col-md-2\">\n                                                                            {t(\"contactDetails:DocumentDelivery.Email\")}\n                                                                        </div>\n                                                                        <div className=\"col-md-2\">\n                                                                            {t(\"contactDetails:DocumentDelivery.Post\")}\n                                                                        </div>\n                                                                    </div>) :\n                                                                    (this.state.docdeliverySelected == 'email') ?\n                                                                        (<div className=\"row\">\n                                                                            <div className=\"col-md-2\">\n                                                                                {t(\"contactDetails:DocumentDelivery.Email\")}\n                                                                            </div>\n                                                                        </div>) :\n                                                                        (<div className=\"row\">\n                                                                            <div className=\"col-md-2\">\n                                                                                {t(\"contactDetails:DocumentDelivery.Post\")}\n                                                                            </div>\n                                                                        </div>)\n                                                                )}\n                                                            </span>\n                                                        </Col>\n                                                    </Row>\n                                                )}\n\n                                            </CardBody>\n                                        </Collapse>\n                                    </Card>\n\n                                    {(this.state.isCompany === 'Individual') ? (\n                                        (this.state.isInternalStaff) ? (null) : (\n                                            <Card className=\"mb-0\">\n                                                <CardHeader id=\"headingTwo\">\n                                                    <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleCustom(1)} aria-expanded={this.state.custom[1]} aria-controls=\"collapseTwo\">\n                                                        <h5 className=\"m-0 p-0\">\n                                                            {t(\"contactDetails:ViewPage.PassportDetails\")}\n                                                            <i style={{ float: 'right' }} className={this.state.custom[1] ? \"fa fa-chevron-down\" : \"fa fa-chevron-up\"}></i>\n                                                        </h5>\n                                                    </Button>\n                                                </CardHeader>\n                                                <Collapse isOpen={this.state.custom[1]} data-parent=\"#accordion\" id=\"collapseTwo\">\n                                                    <CardBody>\n                                                        <Row>\n                                                            <Col md=\"3\">\n                                                                <span><b>{t(\"contactDetails:PassportNumber.label\")}</b></span>\n                                                            </Col>\n                                                            <Col md=\"2\">\n                                                                <span>{this.state.passportno}</span>\n                                                            </Col>\n                                                            <Col md=\"3\">\n                                                                <span><b>{t(\"contactDetails:PassportCountry.label\")}</b></span>\n                                                            </Col>\n                                                            <Col md=\"2\">\n                                                                <span>{this.state.countryShown}</span>\n                                                            </Col>\n                                                        </Row>\n                                                    </CardBody>\n                                                </Collapse>\n                                            </Card>\n                                        )\n                                    ) : null\n                                    }\n\n                                    {CommonConfig.isEmpty(this.state.userNote) ?\n                                        null : (\n                                            <Card className=\"mb-0\">\n                                                <CardHeader id=\"headingThree\">\n                                                    <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleCustom(2)} aria-expanded={this.state.custom[2]} aria-controls=\"collapseThree\">\n                                                        <h5 className=\"m-0 p-0\">\n                                                            {t(\"contactDetails:ViewPage.NoteDetails\")}\n                                                            <i style={{ float: 'right' }} className={this.state.custom[2] ? \"fa fa-chevron-down\" : \"fa fa-chevron-up\"}></i>\n                                                        </h5>\n                                                    </Button>\n                                                </CardHeader>\n                                                <Collapse isOpen={this.state.custom[2]} data-parent=\"#accordion\" id=\"collapseThree\">\n                                                    <CardBody>\n                                                        <Row>\n                                                            <Col md=\"3\">\n                                                                <span>{t(\"contactDetails:Notes.label\")}</span>\n                                                            </Col>\n                                                            <Col md=\"9\">\n                                                                <p>{this.state.userNote}</p>\n                                                            </Col>\n                                                        </Row>\n                                                    </CardBody>\n                                                </Collapse>\n                                            </Card>\n                                        )\n                                    }\n                                </div>\n                            </CardBody>\n                        </Card>\n\n                    </Container>\n\n                    <Modal toggle={() => this.reset()} isOpen={this.state.showModal}>\n                        <ModalHeader toggle={() => this.reset()}>\n                            {t(\"contactDetails:ViewPage.ModalHeader\")}\n                        </ModalHeader>\n\n                        <ModalBody>\n                            {this.state.arrayToDisplay.map((que, i) => {\n                                return (\n                                    <div className=\"input-box rc-box\" key={i}>\n                                        <div className=\"rc-inline\">\n                                            <Row>\n                                                <Col md=\"4\">\n                                                    <label>{que.StringMapName}</label>\n                                                </Col>\n\n                                                <Col md=\"5\">\n                                                    <label>{this.state.selectedRecord[que.StringMapKey.toLowerCase()]}</label>\n                                                </Col>\n\n                                                <Col md=\"3\">\n                                                    <Input type=\"select\" name={que.StringMapKey} id={que.StringMapKey} className=\"\"\n                                                        onChange={(e) => this.selectType(e.target.value, e.target.name, i)}\n                                                    >\n                                                        <option value=''>{t(\"contactDetails:ViewPage.OptionDefault\")}</option>\n                                                        <option value='Correct'>{t(\"contactDetails:ViewPage.OptionCorrect\")}</option>\n                                                        <option value='Incorrect'>{t(\"contactDetails:ViewPage.OptionIncorrect\")}</option>\n                                                    </Input>\n                                                    <em className=\"error invalid-feedback\">{t(\"contactDetails:ViewPage.OptionError\")}</em>\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                    </div>\n                                )\n                            })\n                            }\n\n                            <div className=\"input-box rc-box\">\n                                <div className=\"rc-inline\">\n                                    <Row>\n                                        <Col md=\"4\">\n                                            <label>{t(\"contactDetails:ViewPage.CommentLabel\")}</label>\n                                        </Col>\n\n                                        <Col md=\"8\">\n                                            <Input name=\"note\" type=\"textarea\" id=\"note\" className=\"\" maxLength=\"500\"\n                                                value={this.state.note} onChange={e => this.handleChange(e)}\n                                            />\n                                            <em className=\"error invalid-feedback\" >{t(\"contactDetails:ViewPage.CommentErrorBlank\")}</em>\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </div>\n                        </ModalBody>\n\n                        <ModalFooter>\n                            <Button color=\"danger\" onClick={() => this.reset()}>\n                                <i className=\"fa fa-close\"></i>\n                                {t(\"contactDetails:ViewPage.VerificationFailed\")}\n                            </Button>\n                            <Button color=\"success\" onClick={() => this.goToEdit()}>\n                                <i className=\"fa fa-check\"></i>\n                                {t(\"contactDetails:ViewPage.VerificationDone\")}\n                            </Button>\n                        </ModalFooter>\n                    </Modal>\n                    {/* </Container> */}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withTranslation()(ViewContactDetails);\n"]},"metadata":{},"sourceType":"module"}