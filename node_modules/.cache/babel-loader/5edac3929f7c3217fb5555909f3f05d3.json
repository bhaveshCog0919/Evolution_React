{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button,Card,CardBody,Col,Container,Form,Input,InputGroup,InputGroupAddon,InputGroupText,Row}from\"reactstrap\";import api from\"../../../utils/apiClient\";import APIConstant from\"../../../utils/constants\";import{ToastContainer,toast}from\"react-toastify\";var ForgotPassword=/*#__PURE__*/function(_Component){_inherits(ForgotPassword,_Component);var _super=_createSuper(ForgotPassword);function ForgotPassword(props,context){var _this;_classCallCheck(this,ForgotPassword);_this=_super.call(this,props,context);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name===\"username\"){if(e.target.value===\"\"||e.target.value===null){_this.setState({usernameError:true});_this.show(\"username\",true);}else{_this.setState({usernameError:false,username:e.target.value});_this.show(\"username\",false);}}};_this.state={username:\"\",usernameError:true};return _this;}_createClass(ForgotPassword,[{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"onForgot\",value:function onForgot(){var _this2=this;if(this.state.usernameError===false){var form={'username':this.state.username};api.post(APIConstant.path.forgotpassword,form).then(function(res){if(res.success){toast.success(res.message);_this2.props.history.push('/login');}else{toast.error(res.message);}}).catch(function(err){toast.error(err);});}else{this.show(\"username\",this.state.usernameError);}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:\"app flex-row align-items-center\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Col,{md:\"9\",lg:\"7\",xl:\"6\"},/*#__PURE__*/React.createElement(Card,{className:\"mx-4\"},/*#__PURE__*/React.createElement(CardBody,{className:\"p-4\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h1\",null,\"ForgotPassword\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Reset Password Form\"),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"icon-user\"}))),/*#__PURE__*/React.createElement(Input,{name:\"username\",type:\"text\",id:\"username\",className:\"\",placeholder:\"Username\",autoComplete:\"username\",onChange:function onChange(e){return _this3.handleChange(e);},value:this.state.username})),/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"px-4\",onClick:function onClick(){return _this3.onForgot();}},\"Submit\")))))))));}}]);return ForgotPassword;}(Component);export default ForgotPassword;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Pages/ForgotPassword/ForgotPassword.js"],"names":["React","Component","Button","Card","CardBody","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","api","APIConstant","ToastContainer","toast","ForgotPassword","props","context","handleChange","e","setState","target","name","value","usernameError","show","username","state","field","condition","document","getElementById","className","form","post","path","forgotpassword","then","res","success","message","history","push","error","catch","err","onForgot"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  Col,\n  Container,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Row\n} from \"reactstrap\";\nimport api from \"../../../utils/apiClient\";\nimport APIConstant from \"../../../utils/constants\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass ForgotPassword extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      username: \"\",\n      usernameError: true\n    };\n  }\n\n  \n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name === \"username\") {\n      if (e.target.value === \"\" || e.target.value === null) {\n        this.setState({\n          usernameError: true\n        });\n        this.show(\"username\", true);\n      } else {\n        this.setState({\n          usernameError: false,\n          username: e.target.value\n        });\n        this.show(\"username\", false);\n      }\n    }\n  };\n\n  show(field,condition)\n  {\n    if (condition) {\n      document.getElementById(field).className = \"form-control is-invalid\";\n    }\n    else\n    {\n      document.getElementById(field).className = \"form-control\";\n    }\n  }\n\n  onForgot() {\n    if(this.state.usernameError===false){\n      const form = {\n        'username': this.state.username\n      }\n\n      api.post(APIConstant.path.forgotpassword, form)\n      .then(res => {\n        if (res.success) {\n          toast.success(res.message)\n          this.props.history.push('/login')\n        }\n        else {\n          toast.error(res.message)\n       }\n      }).catch(err => {\n          toast.error(err)\n      })\n     }\n     else\n     {\n        this.show(\"username\",this.state.usernameError)\n     }\n  }\n\n  render() {\n    return (\n      <div>\n         <ToastContainer></ToastContainer>\n      <div className=\"app flex-row align-items-center\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md=\"9\" lg=\"7\" xl=\"6\">\n              <Card className=\"mx-4\">\n                <CardBody className=\"p-4\">\n                  <Form>\n                    <h1>ForgotPassword</h1>\n                    <p className=\"text-muted\">Reset Password Form</p>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-user\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        name=\"username\"\n                        type=\"text\"\n                        id=\"username\"\n                        className=\"\"\n                        placeholder=\"Username\"\n                        autoComplete=\"username\"\n                        onChange={e => this.handleChange(e)}\n                        value={this.state.username}\n                      />\n                    </InputGroup>\n                    <Button\n                      color=\"primary\"\n                      className=\"px-4\"\n                      onClick={() => this.onForgot()}\n                    >\n                      Submit\n                    </Button>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default ForgotPassword;\n"]},"metadata":{},"sourceType":"module"}