{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{DataTable}from'primereact/datatable';import api from'../../utils/apiClient';import APIConstant from'../../utils/constants';import{Column}from'primereact/column';import{MultiSelect}from'primereact/multiselect';import{InputText}from'primereact/inputtext';import{Button}from'primereact/button';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{toast}from'react-toastify';import{Sidebar}from'primereact/sidebar';import{ScrollPanel}from'primereact/scrollpanel';import{Button as BTN,Row,Col,Input,InputGroup}from'reactstrap';import{apiBase}from'../../utils/config';import axios from'axios';import moment from'moment';import{CommonConfig}from'../../utils/constants';var x_Documents=/*#__PURE__*/function(_Component){_inherits(x_Documents,_Component);var _super=_createSuper(x_Documents);function x_Documents(props){var _this;_classCallCheck(this,x_Documents);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.documentList.length?l:_this.state.documentList.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.documentList.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.selectFile=function(event){if(event.target.files&&event.target.files[0]){var docname=event.target.files[0].name.split('.').slice(0,-1).join('.');var ext=event.target.files[0].name.split('.').pop();_this.setState({selectedfile:event.target.files[0],FileName:docname,FileNameError:false,Extension:ext});_this.show(\"FileName\",false);var reader=new FileReader();reader.onload=function(e){_this.setState({file:e.target.result});_this.show(\"file\",false);};reader.readAsDataURL(event.target.files[0]);}else{_this.setState({FileNameError:true,FileName:'',Extension:''});}};_this.handleChange=function(e){// debugger\n_this.setState(_defineProperty({},e.target.name,e.target.value));console.log(e.target.name);if(e.target.name==='Description'){if(CommonConfig.isEmpty(e.target.value)){_this.setState({Description:e.target.value});}else{_this.setState({Description:e.target.value});}}else{if(CommonConfig.isEmpty(e.target.value)){_this.setState({FileNameError:true,FileName:e.target.value});_this.show(\"FileName\",true);}else{_this.setState({FileName:e.target.value,FileNameError:false});_this.show(\"FileName\",false);}}};_this.reset=function(){_this.setState({selecteddirectory:'',Description:'',valueError:true,selectedfile:'',file:'',FileName:'',FileNameError:true,Extension:''});_this.show(\"FileName\",false);_this.show(\"file\",false);_this.show(\"directory\",false);document.getElementById(\"file\").value=null;};_this.clear=function(){document.getElementById(\"file\").value=null;document.getElementById(\"file\").style.display=\"block\";document.getElementById(\"FileName\").style.display=\"none\";_this.setState({Extension:'',FileName:'',FileNameError:false});_this.show(\"FileName\",false);};_this.downloadData=function(rowdata){var path=apiBase+rowdata.url;axios({url:path,method:'GET',responseType:'blob'// important\n}).then(function(response){var url=window.URL.createObjectURL(new Blob([response.data]));var link=document.createElement('a');link.href=url;link.setAttribute('download',rowdata.filename);//or any other extension\ndocument.body.appendChild(link);link.click();});};_this.download=function(rowData){document.getElementById('download').click();};_this.bulk_Download=function(){var bulk_Data=_this.state.selectedCars3;if(bulk_Data.length){var _loop=function _loop(i){path=apiBase+bulk_Data[i].url;axios({url:path,method:'GET',responseType:'blob'// important\n}).then(function(response){var url=window.URL.createObjectURL(new Blob([response.data]));var link=document.createElement('a');link.href=url;link.setAttribute('download',bulk_Data[i].filename);//or any other extension\ndocument.body.appendChild(link);link.click();});};for(var i=0;i<bulk_Data.length;i++){var path;_loop(i);}}};var columns=[{selectionMode:\"multiple\",style:{width:'3em'},id:0},{field:\"filename\",header:\"Name\",sortable:true,filter:true,id:1},{field:\"createdon\",header:\"Created\",sortable:true,filter:true,id:2},{field:\"createdby\",header:\"CreatedBy\",sortable:true,filter:true,id:3},{field:\"directory\",header:\"Directory\",sortable:true,filter:true,id:4},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,id:5}];_this.state={documentList:[],directoryList:[],selecteddirectory:'',selectedfile:'',file:'',Description:'',colors:null,primary:false,cols:columns,valueError:true,fileError:true,Extension:'',FileName:'',FileNameError:true,str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,selectedPage:0,selectedCars3:''};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.onColumnToggle=_this.onColumnToggle.bind(_assertThisInitialized(_this));_this.export=_this.export.bind(_assertThisInitialized(_this));_this.togglePrimary=_this.togglePrimary.bind(_assertThisInitialized(_this));_this.download=_this.download.bind(_assertThisInitialized(_this));_this.upload=_this.upload.bind(_assertThisInitialized(_this));// this.downloadData = this.downloadData.bind(this);\nreturn _this;}_createClass(x_Documents,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDocumentList();this.getDirectoryList();}},{key:\"getDocumentList\",value:function getDocumentList(){var _this2=this;try{var data={};api.post(\"api/getDocumentListByTypeAndId\",data).then(function(res){console.log(\"res\",res);if(res.success){var formattedData=[];for(var i=0;i<res.data.length;i++){formattedData.push({documentid:[i+1],filename:res.data[i].Filename,createdon:moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),type:res.data[i].Type,url:res.data[i].URL,directory:res.data[i].Directory,createdby:res.data[i].forename});}var lastPage=_this2.state.rowsPerPage<formattedData.length?_this2.state.rowsPerPage:formattedData.length;var str='1 to '+lastPage+' out of '+formattedData.length+' records';_this2.setState({documentList:formattedData,str:str});}else{}}).catch(function(err){});}catch(error){}}},{key:\"getDirectoryList\",value:function getDirectoryList(){var _this3=this;try{var data={stringmaptype:'DOCUMENTDIRECTORY'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this3.setState({directoryList:res.data});}else{}}).catch(function(err){});}catch(error){}}},{key:\"selectType\",value:function selectType(value){if(value===''){this.setState({valueError:true,selecteddirectory:value});this.show(\"directory\",true);}else{this.setState({selecteddirectory:value,valueError:false});this.show(\"directory\",false);}}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"export\",value:function _export(){this.dt.exportCSV();}},{key:\"upload\",value:function upload(){var _this4=this;if(this.state.selectedfile!==\"\"&&this.state.valueError===false&&this.state.FileNameError===false){var formData=new FormData();formData.append('directory',this.state.selecteddirectory);formData.append('Description',this.state.Description.trim());formData.append('FileName',this.state.FileName.trim());formData.append('Extension',this.state.Extension);formData.append('document',this.state.selectedfile);api.post('api/uploadDocument',formData).then(function(res){if(res.success){toast.success(\"Document's uploaded successfully\");_this4.togglePrimary();_this4.getDocumentList();}else{}}).catch(function(err){});}else{if(this.state.valueError)this.show(\"directory\",true);if(this.state.FileNameError)this.show(\"FileName\",true);if(this.state.selectedfile===''||this.state.selectedfile===undefined||this.state.selectedfile===null)this.show(\"file\",true);}}},{key:\"printData\",value:function printData(){// window.print();\n// var content = document.getElementById(\"FileName\");\n// var pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\n// pri.document.open();\n// pri.document.write(content.innerHTML);\n// pri.document.close();\n// pri.focus();\n// pri.print();\n}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-download\",style:{margin:2},tooltip:\"Download\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this5.downloadData(rowData);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-envelope\",style:{margin:2},tooltip:\"Email\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this5.emailData();}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-print\",style:{margin:2},tooltip:\"Print\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this5.printData();}}));}},{key:\"togglePrimary\",value:function togglePrimary(){this.setState({primary:!this.state.primary});this.reset();}},{key:\"onColumnToggle\",value:function onColumnToggle(event){var valueInOrder=event.value.sort(function(x,y){return x.id-y.id;});this.setState({cols:valueInOrder});}},{key:\"mulSelect\",value:function mulSelect(e){console.log(\"eeeee\",e.value);this.setState({selectedCars3:e.value});}},{key:\"HideSideBar\",value:function HideSideBar(){this.setState({visible:false});this.reset();}},{key:\"render\",value:function render(){var _this6=this;var header=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:10,paddingBottom:10,borderBottomStyle:'solid',borderBottomWidth:1,borderBottomColor:\"#d8d6d6\",display:\"inline-block\",width:\"100%\"}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(\"h4\",{style:{float:'left'}},\"Upload a New Document\"))),/*#__PURE__*/React.createElement(\"form\",{className:\"form\",action:\"#\"},/*#__PURE__*/React.createElement(\"div\",{className:\"file-field\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\",className:\"pull-right\"},/*#__PURE__*/React.createElement(\"label\",{for:\"\"},\"Select File*\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary \",style:{width:\"100%\"}},/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"file\",id:\"file\",className:\"\",onChange:this.selectFile}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please select file \"))))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Col,{md:\"3\",className:\"pull-right\"},/*#__PURE__*/React.createElement(\"label\",{for:\"\"},\"File Name*\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"FileName\",id:\"FileName\",onChange:function onChange(e){return _this6.handleChange(e);},placeholder:\"File Name\",value:this.state.FileName}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please enter file name \")))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Col,{md:\"3\",className:\"pull-right\"},/*#__PURE__*/React.createElement(\"label\",{for:\"\"},\"Directory*\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"directory\",id:\"directory\",className:\"\",onChange:function onChange(e){return _this6.selectType(e.target.value,'directory');},value:this.state.selecteddirectory},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--Document Type--\"),this.state.directoryList.map(function(ct,i){return/*#__PURE__*/React.createElement(\"option\",{value:ct.StringMapKey},ct.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please select directory \")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\",className:\"pull-left\"},/*#__PURE__*/React.createElement(\"label\",{for:\"\"},\"Description\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Input,{name:\"Description\",type:\"textarea\",id:\"Description\",className:\"\",onChange:function onChange(e){return _this6.handleChange(e);},value:this.state.Description,placeholder:\"Description\"}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please enter description \")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:this.upload},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Upload\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.reset},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))),/*#__PURE__*/React.createElement(\"div\",{style:{'textAlign':'Right',marginTop:10}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'right'}},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{margin:'4px 4px 0 0'}}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this6.setState({globalFilter:e.target.value});},placeholder:\"Global Search\",size:\"30\",style:{marginRight:10}})),/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\",onChange:this.onColumnToggle,style:{width:'50px'}}),this.state.selectedCars3.length>1?/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-download\",tooltip:\"Bulk Download\",tooltipOptions:{position:'bottom'},onClick:this.bulk_Download}):null,this.state.selectedCars3.length>1?/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-envelope\",tooltip:\"Bulk Email\",tooltipOptions:{position:'bottom'},onClick:this.bulk_Email}):null,this.state.selectedCars3.length>1?/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-print\",tooltip:\"Bulk Print\",tooltipOptions:{position:'bottom'},onClick:this.bulk_Print}):null,/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-file-o\",tooltip:\"Export as CSV\",tooltipOptions:{position:'bottom'},onClick:this.export,style:{marginRight:10}})))))));var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,selectionMode:col.selectionMode,style:col.style});});return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(e){return _this6.setState({visible:true});}},\"Documents\"),/*#__PURE__*/React.createElement(Sidebar,{showCloseIcon:false,blockScroll:true,visible:this.state.visible,position:\"right\",onHide:function onHide(e){return _this6.HideSideBar();},style:{width:550}},/*#__PURE__*/React.createElement(ScrollPanel,{style:{width:'100%',height:'560px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{style:{},ref:function ref(el){return _this6.dt=el;},value:this.state.documentList,currentPageReportTemplate:this.state.str,first:this.state.selectedPage,onPage:function onPage(e){return _this6.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,header:header,exportFilename:\"Documents\",paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown \",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\",scrollable:true,scrollHeight:\"265px\",selection:this.state.selectedCars3,onSelectionChange:function onSelectionChange(e){return _this6.mulSelect(e);}},columns)))));}}]);return x_Documents;}(Component);export default x_Documents;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/ContactManagement/Documents.js"],"names":["React","Component","DataTable","api","APIConstant","Column","MultiSelect","InputText","Button","toast","Sidebar","ScrollPanel","BTN","Row","Col","Input","InputGroup","apiBase","axios","moment","CommonConfig","x_Documents","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","documentList","length","str","setState","selectedPage","rowsPerPage","selectFile","event","target","files","docname","name","split","slice","join","ext","pop","selectedfile","FileName","FileNameError","Extension","show","reader","FileReader","onload","file","result","readAsDataURL","handleChange","value","console","log","isEmpty","Description","reset","selecteddirectory","valueError","document","getElementById","clear","style","display","downloadData","rowdata","path","url","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","createElement","href","setAttribute","filename","body","appendChild","click","download","rowData","bulk_Download","bulk_Data","selectedCars3","i","columns","selectionMode","width","id","field","header","sortable","filter","actionTemplate","bind","directoryList","colors","primary","cols","fileError","dataTableConfig","rowsPerPageOptions","colOptions","col","push","label","onColumnToggle","export","togglePrimary","upload","getDocumentList","getDirectoryList","post","res","success","formattedData","documentid","Filename","createdon","CreatedOn","format","dateFormat","dateTime","type","Type","directory","Directory","createdby","forename","catch","err","error","stringmaptype","dropdownbycode","condition","className","dt","exportCSV","formData","FormData","append","trim","undefined","column","margin","position","emailData","printData","valueInOrder","sort","x","y","visible","paddingTop","paddingBottom","borderBottomStyle","borderBottomWidth","borderBottomColor","float","marginTop","selectType","map","ct","StringMapKey","StringMapName","textAlign","globalFilter","marginRight","columnToggleIcon","bulk_Email","bulk_Print","HideSideBar","height","el","mulSelect"],"mappings":"4nCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,sBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,SAAT,KAA0B,sBAA1B,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAO,kDAAP,CACA,MAAO,yCAAP,CACA,MAAO,2BAAP,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASH,MAAM,GAAII,CAAAA,GAAnB,CAAwBC,GAAxB,CAA6BC,GAA7B,CAAkCC,KAAlC,CAAyCC,UAAzC,KAA2D,YAA3D,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,YAAT,KAA6B,uBAA7B,C,GAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MAyGnBC,aAzGmB,CAyGH,SAACC,CAAD,CAAO,CACrB,GAAIC,CAAAA,SAAS,CAAGD,CAAC,CAACE,KAAF,CAAU,CAA1B,CACA,GAAIC,CAAAA,CAAC,CAAGH,CAAC,CAACI,IAAF,EAAUJ,CAAC,CAACK,IAAF,CAAS,CAAnB,CAAR,CACA,GAAIC,CAAAA,QAAQ,CAAIH,CAAC,CAAG,MAAKI,KAAL,CAAWC,YAAX,CAAwBC,MAA7B,CAAuCN,CAAvC,CAA2C,MAAKI,KAAL,CAAWC,YAAX,CAAwBC,MAAlF,CACA,GAAIC,CAAAA,GAAG,CAAGT,SAAS,CAAG,MAAZ,CAAqBK,QAArB,CAAgC,UAAhC,CAA6C,MAAKC,KAAL,CAAWC,YAAX,CAAwBC,MAArE,CAA8E,UAAxF,CACA,MAAKE,QAAL,CAAc,CAAEC,YAAY,CAAEZ,CAAC,CAACE,KAAlB,CAAyBQ,GAAG,CAAEA,GAA9B,CAAmCG,WAAW,CAAEb,CAAC,CAACI,IAAlD,CAAd,EACD,CA/GkB,OA6HnBU,UA7HmB,CA6HN,SAACC,KAAD,CAAW,CAEtB,GAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,EAAsBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAA1B,CAAiD,CAC/C,GAAIC,CAAAA,OAAO,CAAGH,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBE,IAAtB,CAA2BC,KAA3B,CAAiC,GAAjC,EAAsCC,KAAtC,CAA4C,CAA5C,CAA+C,CAAC,CAAhD,EAAmDC,IAAnD,CAAwD,GAAxD,CAAd,CACA,GAAIC,CAAAA,GAAG,CAAGR,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBE,IAAtB,CAA2BC,KAA3B,CAAiC,GAAjC,EAAsCI,GAAtC,EAAV,CAEA,MAAKb,QAAL,CAAc,CAAEc,YAAY,CAAEV,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAhB,CAAuCS,QAAQ,CAAER,OAAjD,CAA0DS,aAAa,CAAE,KAAzE,CAAgFC,SAAS,CAAEL,GAA3F,CAAd,EACA,MAAKM,IAAL,CAAU,UAAV,CAAsB,KAAtB,EACA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,MAAP,CAAgB,SAAChC,CAAD,CAAO,CACrB,MAAKW,QAAL,CAAc,CAAEsB,IAAI,CAAEjC,CAAC,CAACgB,MAAF,CAASkB,MAAjB,CAAd,EACA,MAAKL,IAAL,CAAU,MAAV,CAAkB,KAAlB,EACD,CAHD,CAIAC,MAAM,CAACK,aAAP,CAAqBpB,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAArB,EACD,CAZD,IAaK,CACH,MAAKN,QAAL,CAAc,CAAEgB,aAAa,CAAE,IAAjB,CAAuBD,QAAQ,CAAE,EAAjC,CAAqCE,SAAS,CAAE,EAAhD,CAAd,EACD,CACF,CA/IkB,OAiJnBQ,YAjJmB,CAiJJ,SAACpC,CAAD,CAAO,CACpB;AACA,MAAKW,QAAL,oBAAiBX,CAAC,CAACgB,MAAF,CAASG,IAA1B,CAAiCnB,CAAC,CAACgB,MAAF,CAASqB,KAA1C,GACAC,OAAO,CAACC,GAAR,CAAYvC,CAAC,CAACgB,MAAF,CAASG,IAArB,EACA,GAAInB,CAAC,CAACgB,MAAF,CAASG,IAAT,GAAkB,aAAtB,CAAqC,CACnC,GAAIvB,YAAY,CAAC4C,OAAb,CAAqBxC,CAAC,CAACgB,MAAF,CAASqB,KAA9B,CAAJ,CAA0C,CACxC,MAAK1B,QAAL,CAAc,CAAE8B,WAAW,CAAEzC,CAAC,CAACgB,MAAF,CAASqB,KAAxB,CAAd,EACD,CAFD,IAGK,CACH,MAAK1B,QAAL,CAAc,CAAE8B,WAAW,CAAEzC,CAAC,CAACgB,MAAF,CAASqB,KAAxB,CAAd,EACD,CACF,CAPD,IAOO,CACL,GAAIzC,YAAY,CAAC4C,OAAb,CAAqBxC,CAAC,CAACgB,MAAF,CAASqB,KAA9B,CAAJ,CAA0C,CACxC,MAAK1B,QAAL,CAAc,CAAEgB,aAAa,CAAE,IAAjB,CAAuBD,QAAQ,CAAE1B,CAAC,CAACgB,MAAF,CAASqB,KAA1C,CAAd,EACA,MAAKR,IAAL,CAAU,UAAV,CAAsB,IAAtB,EACD,CAHD,IAIK,CACH,MAAKlB,QAAL,CAAc,CAAEe,QAAQ,CAAE1B,CAAC,CAACgB,MAAF,CAASqB,KAArB,CAA4BV,aAAa,CAAE,KAA3C,CAAd,EACA,MAAKE,IAAL,CAAU,UAAV,CAAsB,KAAtB,EACD,CACF,CACF,CAtKkB,OAwKnBa,KAxKmB,CAwKX,UAAM,CACZ,MAAK/B,QAAL,CAAc,CACZgC,iBAAiB,CAAE,EADP,CACWF,WAAW,CAAE,EADxB,CAC4BG,UAAU,CAAE,IADxC,CAC8CnB,YAAY,CAAE,EAD5D,CACgEQ,IAAI,CAAE,EADtE,CAC0EP,QAAQ,CAAE,EADpF,CACwFC,aAAa,CAAE,IADvG,CAC6GC,SAAS,CAAE,EADxH,CAAd,EAGA,MAAKC,IAAL,CAAU,UAAV,CAAsB,KAAtB,EACA,MAAKA,IAAL,CAAU,MAAV,CAAkB,KAAlB,EACA,MAAKA,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACAgB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCT,KAAhC,CAAwC,IAAxC,CACD,CAhLkB,OA8LnBU,KA9LmB,CA8LX,UAAM,CACZF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCT,KAAhC,CAAwC,IAAxC,CACAQ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCE,KAAhC,CAAsCC,OAAtC,CAAgD,OAAhD,CACAJ,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCE,KAApC,CAA0CC,OAA1C,CAAoD,MAApD,CACA,MAAKtC,QAAL,CAAc,CAAEiB,SAAS,CAAE,EAAb,CAAiBF,QAAQ,CAAE,EAA3B,CAA+BC,aAAa,CAAE,KAA9C,CAAd,EACA,MAAKE,IAAL,CAAU,UAAV,CAAsB,KAAtB,EACD,CApMkB,OAuOnBqB,YAvOmB,CAuOJ,SAACC,OAAD,CAAa,CAC1B,GAAIC,CAAAA,IAAI,CAAG3D,OAAO,CAAG0D,OAAO,CAACE,GAA7B,CAEA3D,KAAK,CAAC,CACJ2D,GAAG,CAAED,IADD,CAEJE,MAAM,CAAE,KAFJ,CAGJC,YAAY,CAAE,MAAQ;AAHlB,CAAD,CAAL,CAIGC,IAJH,CAIQ,SAACC,QAAD,CAAc,CACpB,GAAMJ,CAAAA,GAAG,CAAGK,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,GAAIC,CAAAA,IAAJ,CAAS,CAACJ,QAAQ,CAACK,IAAV,CAAT,CAA3B,CAAZ,CACA,GAAMC,CAAAA,IAAI,CAAGlB,QAAQ,CAACmB,aAAT,CAAuB,GAAvB,CAAb,CACAD,IAAI,CAACE,IAAL,CAAYZ,GAAZ,CACAU,IAAI,CAACG,YAAL,CAAkB,UAAlB,CAA8Bf,OAAO,CAACgB,QAAtC,EAAiD;AACjDtB,QAAQ,CAACuB,IAAT,CAAcC,WAAd,CAA0BN,IAA1B,EACAA,IAAI,CAACO,KAAL,GACD,CAXD,EAYD,CAtPkB,OAwPnBC,QAxPmB,CAwPR,SAACC,OAAD,CAAa,CACtB3B,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCwB,KAApC,GACD,CA1PkB,OAiSnBG,aAjSmB,CAiSH,UAAM,CACpB,GAAIC,CAAAA,SAAS,CAAG,MAAKnE,KAAL,CAAWoE,aAA3B,CACA,GAAID,SAAS,CAACjE,MAAd,CAAsB,0BACXmE,CADW,EAEdxB,IAAI,CAAG3D,OAAO,CAAGiF,SAAS,CAACE,CAAD,CAAT,CAAavB,GAFhB,CAGlB3D,KAAK,CAAC,CACJ2D,GAAG,CAAED,IADD,CAEJE,MAAM,CAAE,KAFJ,CAGJC,YAAY,CAAE,MAAQ;AAHlB,CAAD,CAAL,CAIGC,IAJH,CAIQ,SAACC,QAAD,CAAc,CACpB,GAAMJ,CAAAA,GAAG,CAAGK,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,GAAIC,CAAAA,IAAJ,CAAS,CAACJ,QAAQ,CAACK,IAAV,CAAT,CAA3B,CAAZ,CACA,GAAMC,CAAAA,IAAI,CAAGlB,QAAQ,CAACmB,aAAT,CAAuB,GAAvB,CAAb,CACAD,IAAI,CAACE,IAAL,CAAYZ,GAAZ,CACAU,IAAI,CAACG,YAAL,CAAkB,UAAlB,CAA8BQ,SAAS,CAACE,CAAD,CAAT,CAAaT,QAA3C,EAAsD;AACtDtB,QAAQ,CAACuB,IAAT,CAAcC,WAAd,CAA0BN,IAA1B,EACAA,IAAI,CAACO,KAAL,GACD,CAXD,EAHkB,EACpB,IAAK,GAAIM,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,SAAS,CAACjE,MAA9B,CAAsCmE,CAAC,EAAvC,CAA2C,IACrCxB,CAAAA,IADqC,OAAlCwB,CAAkC,EAc1C,CACF,CACF,CApTkB,CAGjB,GAAIC,CAAAA,OAAO,CAAG,CACZ,CAAEC,aAAa,CAAE,UAAjB,CAA6B9B,KAAK,CAAE,CAAE+B,KAAK,CAAE,KAAT,CAApC,CAAsDC,EAAE,CAAE,CAA1D,CADY,CAEZ,CAAEC,KAAK,CAAE,UAAT,CAAqBC,MAAM,CAAE,MAA7B,CAAqCC,QAAQ,CAAE,IAA/C,CAAqDC,MAAM,CAAE,IAA7D,CAAmEJ,EAAE,CAAE,CAAvE,CAFY,CAGZ,CAAEC,KAAK,CAAE,WAAT,CAAsBC,MAAM,CAAE,SAA9B,CAAyCC,QAAQ,CAAE,IAAnD,CAAyDC,MAAM,CAAE,IAAjE,CAAuEJ,EAAE,CAAE,CAA3E,CAHY,CAIZ,CAAEC,KAAK,CAAE,WAAT,CAAsBC,MAAM,CAAE,WAA9B,CAA2CC,QAAQ,CAAE,IAArD,CAA2DC,MAAM,CAAE,IAAnE,CAAyEJ,EAAE,CAAE,CAA7E,CAJY,CAKZ,CAAEC,KAAK,CAAE,WAAT,CAAsBC,MAAM,CAAE,WAA9B,CAA2CC,QAAQ,CAAE,IAArD,CAA2DC,MAAM,CAAE,IAAnE,CAAyEJ,EAAE,CAAE,CAA7E,CALY,CAMZ,CAAEZ,IAAI,CAAE,MAAKiB,cAAL,CAAoBC,IAApB,+BAAR,CAAwCJ,MAAM,CAAE,QAAhD,CAA0DC,QAAQ,CAAE,KAApE,CAA2EC,MAAM,CAAE,KAAnF,CAA0FJ,EAAE,CAAE,CAA9F,CANY,CAAd,CASA,MAAKzE,KAAL,CAAa,CACXC,YAAY,CAAE,EADH,CAEX+E,aAAa,CAAE,EAFJ,CAGX5C,iBAAiB,CAAE,EAHR,CAIXlB,YAAY,CAAE,EAJH,CAKXQ,IAAI,CAAE,EALK,CAMXQ,WAAW,CAAE,EANF,CAOX+C,MAAM,CAAE,IAPG,CAQXC,OAAO,CAAE,KARE,CASXC,IAAI,CAAEb,OATK,CAUXjC,UAAU,CAAE,IAVD,CAWX+C,SAAS,CAAE,IAXA,CAYX/D,SAAS,CAAE,EAZA,CAaXF,QAAQ,CAAE,EAbC,CAcXC,aAAa,CAAE,IAdJ,CAeXjB,GAAG,CAAE,EAfM,CAgBXG,WAAW,CAAEjB,YAAY,CAACgG,eAAb,CAA6B/E,WAhB/B,CAiBXgF,kBAAkB,CAAEjG,YAAY,CAACgG,eAAb,CAA6BC,kBAjBtC,CAkBXjF,YAAY,CAAE,CAlBH,CAmBX+D,aAAa,CAAE,EAnBJ,CAAb,CAsBA,MAAKmB,UAAL,CAAkB,EAAlB,CACA,sBAAgBjB,OAAhB,yBAAyB,CAApB,GAAIkB,CAAAA,GAAG,aAAP,CACH,MAAKD,UAAL,CAAgBE,IAAhB,CAAqB,CAAEC,KAAK,CAAEF,GAAG,CAACb,MAAb,CAAqB7C,KAAK,CAAE0D,GAA5B,CAArB,EACD,CAED,MAAKG,cAAL,CAAsB,MAAKA,cAAL,CAAoBZ,IAApB,+BAAtB,CACA,MAAKa,MAAL,CAAc,MAAKA,MAAL,CAAYb,IAAZ,+BAAd,CACA,MAAKc,aAAL,CAAqB,MAAKA,aAAL,CAAmBd,IAAnB,+BAArB,CACA,MAAKf,QAAL,CAAgB,MAAKA,QAAL,CAAce,IAAd,+BAAhB,CACA,MAAKe,MAAL,CAAc,MAAKA,MAAL,CAAYf,IAAZ,+BAAd,CACA;AA5CiB,aA6ClB,C,qFAEmB,CAClB,KAAKgB,eAAL,GACA,KAAKC,gBAAL,GACD,C,yDAEiB,iBAChB,GAAI,CACF,GAAMzC,CAAAA,IAAI,CAAG,EAAb,CAGAnF,GAAG,CAAC6H,IAAJ,CAAS,gCAAT,CAA2C1C,IAA3C,EAAiDN,IAAjD,CAAsD,SAAAiD,GAAG,CAAI,CAC3DnE,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBkE,GAAnB,EACA,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,IAAK,GAAI/B,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG6B,GAAG,CAAC3C,IAAJ,CAASrD,MAA7B,CAAqCmE,CAAC,EAAtC,CAA0C,CACxC+B,aAAa,CAACX,IAAd,CAAmB,CACjBY,UAAU,CAAE,CAAChC,CAAC,CAAG,CAAL,CADK,CAEjBT,QAAQ,CAAEsC,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAYiC,QAFL,CAGjBC,SAAS,CAAEnH,MAAM,CAAC8G,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAYmC,SAAb,CAAN,CAA8BC,MAA9B,CAAqCpH,YAAY,CAACqH,UAAb,CAAwBC,QAA7D,CAHM,CAIjBC,IAAI,CAAEV,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAYwC,IAJD,CAKjB/D,GAAG,CAAEoD,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAYjB,GALA,CAMjB0D,SAAS,CAAEZ,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAY0C,SANN,CAOjBC,SAAS,CAAEd,GAAG,CAAC3C,IAAJ,CAASc,CAAT,EAAY4C,QAPN,CAAnB,EASD,CACD,GAAIlH,CAAAA,QAAQ,CAAI,MAAI,CAACC,KAAL,CAAWM,WAAX,CAAyB8F,aAAa,CAAClG,MAAxC,CAAkD,MAAI,CAACF,KAAL,CAAWM,WAA7D,CAA2E8F,aAAa,CAAClG,MAAxG,CACA,GAAIC,CAAAA,GAAG,CAAG,QAAUJ,QAAV,CAAqB,UAArB,CAAkCqG,aAAa,CAAClG,MAAhD,CAAyD,UAAnE,CACA,MAAI,CAACE,QAAL,CAAc,CAAEH,YAAY,CAAEmG,aAAhB,CAA+BjG,GAAG,CAAEA,GAApC,CAAd,EACD,CAhBD,IAgBO,CAEN,CACF,CArBD,EAqBG+G,KArBH,CAqBS,SAAAC,GAAG,CAAI,CAEf,CAvBD,EAwBD,CAAC,MAAOC,KAAP,CAAc,CAEf,CACF,C,2DAEkB,iBACjB,GAAI,CACF,GAAM7D,CAAAA,IAAI,CAAG,CACX8D,aAAa,CAAE,mBADJ,CAAb,CAGAjJ,GAAG,CAAC6H,IAAJ,CAAS5H,WAAW,CAACwE,IAAZ,CAAiByE,cAA1B,CAA0C/D,IAA1C,EAAgDN,IAAhD,CAAqD,SAAAiD,GAAG,CAAI,CAC1D,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,MAAI,CAAC/F,QAAL,CAAc,CAAE4E,aAAa,CAAEkB,GAAG,CAAC3C,IAArB,CAAd,EACD,CAFD,IAEO,CAEN,CACF,CAND,EAMG2D,KANH,CAMS,SAAAC,GAAG,CAAI,CAEf,CARD,EASD,CAAC,MAAOC,KAAP,CAAc,CAEf,CACF,C,8CAUUtF,K,CAAO,CAEhB,GAAIA,KAAK,GAAK,EAAd,CAAkB,CAChB,KAAK1B,QAAL,CAAc,CAAEiC,UAAU,CAAE,IAAd,CAAoBD,iBAAiB,CAAEN,KAAvC,CAAd,EACA,KAAKR,IAAL,CAAU,WAAV,CAAuB,IAAvB,EACD,CAHD,IAIK,CACH,KAAKlB,QAAL,CAAc,CAAEgC,iBAAiB,CAAEN,KAArB,CAA4BO,UAAU,CAAE,KAAxC,CAAd,EACA,KAAKf,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CACF,C,kCAuDIoD,K,CAAO6C,S,CAAW,CACrB,GAAIA,SAAJ,CAAe,CACbjF,QAAQ,CAACC,cAAT,CAAwBmC,KAAxB,EAA+B8C,SAA/B,CAA2C,yBAA3C,CACD,CAFD,IAEO,CACLlF,QAAQ,CAACC,cAAT,CAAwBmC,KAAxB,EAA+B8C,SAA/B,CAA2C,cAA3C,CACD,CACF,C,wCAEQ,CACP,KAAKC,EAAL,CAAQC,SAAR,GACD,C,uCAUQ,iBACP,GACE,KAAK1H,KAAL,CAAWkB,YAAX,GAA4B,EAA5B,EACA,KAAKlB,KAAL,CAAWqC,UAAX,GAA0B,KAD1B,EAEA,KAAKrC,KAAL,CAAWoB,aAAX,GAA6B,KAH/B,CAIE,CAEA,GAAIuG,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CAEAD,QAAQ,CAACE,MAAT,CAAgB,WAAhB,CAA6B,KAAK7H,KAAL,CAAWoC,iBAAxC,EACAuF,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAAgC,KAAK7H,KAAL,CAAWkC,WAAZ,CAAyB4F,IAAzB,EAA/B,EACAH,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA6B,KAAK7H,KAAL,CAAWmB,QAAZ,CAAsB2G,IAAtB,EAA5B,EACAH,QAAQ,CAACE,MAAT,CAAgB,WAAhB,CAA6B,KAAK7H,KAAL,CAAWqB,SAAxC,EACAsG,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4B,KAAK7H,KAAL,CAAWkB,YAAvC,EAEA9C,GAAG,CAAC6H,IAAJ,CAAS,oBAAT,CAA+B0B,QAA/B,EAAyC1E,IAAzC,CAA8C,SAAAiD,GAAG,CAAI,CAEnD,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACfzH,KAAK,CAACyH,OAAN,CAAc,kCAAd,EACA,MAAI,CAACN,aAAL,GACA,MAAI,CAACE,eAAL,GACD,CAJD,IAIO,CACN,CACF,CARD,EAQGmB,KARH,CAQS,SAAAC,GAAG,CAAI,CACf,CATD,EAUD,CAxBD,IAyBK,CACH,GAAI,KAAKnH,KAAL,CAAWqC,UAAf,CAA2B,KAAKf,IAAL,CAAU,WAAV,CAAuB,IAAvB,EAC3B,GAAI,KAAKtB,KAAL,CAAWoB,aAAf,CAA8B,KAAKE,IAAL,CAAU,UAAV,CAAsB,IAAtB,EAC9B,GAAI,KAAKtB,KAAL,CAAWkB,YAAX,GAA4B,EAA5B,EAAkC,KAAKlB,KAAL,CAAWkB,YAAX,GAA4B6G,SAA9D,EAA2E,KAAK/H,KAAL,CAAWkB,YAAX,GAA4B,IAA3G,CAAiH,KAAKI,IAAL,CAAU,MAAV,CAAkB,IAAlB,EAClH,CACF,C,6CAuBW,CACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,C,sDAEc2C,O,CAAS+D,M,CAAQ,iBAE9B,mBAAO,2BAAK,SAAS,CAAC,aAAf,eACJ,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,gBAA3B,CAA4C,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CAAnD,CAAkE,OAAO,CAAC,UAA1E,CAAqF,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAArG,CAA6H,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvF,YAAL,CAAkBsB,OAAlB,CAAN,EAAtI,EADI,cAEJ,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,gBAA3B,CAA4C,KAAK,CAAE,CAAEgE,MAAM,CAAE,CAAV,CAAnD,CAAkE,OAAO,CAAC,OAA1E,CAAkF,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAAlG,CAA0H,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,SAAL,EAAN,EAAnI,EAFI,cAGJ,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,aAA3B,CAAyC,KAAK,CAAE,CAAEF,MAAM,CAAE,CAAV,CAAhD,CAA+D,OAAO,CAAC,OAAvE,CAA+E,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAA/F,CAAuH,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACE,SAAL,EAAN,EAAhI,EAHI,CAAP,CAKD,C,qDAEe,CACd,KAAKhI,QAAL,CAAc,CACZ8E,OAAO,CAAE,CAAC,KAAKlF,KAAL,CAAWkF,OADT,CAAd,EAGA,KAAK/C,KAAL,GACD,C,sDAEc3B,K,CAAO,CACpB,GAAI6H,CAAAA,YAAY,CAAG7H,KAAK,CAACsB,KAAN,CAAYwG,IAAZ,CAAiB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAAE,MAAOD,CAAAA,CAAC,CAAC9D,EAAF,CAAO+D,CAAC,CAAC/D,EAAhB,CAAoB,CAAjD,CAAnB,CACA,KAAKrE,QAAL,CAAc,CAAE+E,IAAI,CAAEkD,YAAR,CAAd,EACD,C,4CAES5I,C,CAAG,CACXsC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBvC,CAAC,CAACqC,KAAvB,EACA,KAAK1B,QAAL,CAAc,CAAEgE,aAAa,CAAE3E,CAAC,CAACqC,KAAnB,CAAd,EACD,C,iDAuBa,CACZ,KAAK1B,QAAL,CAAc,CAAEqI,OAAO,CAAE,KAAX,CAAd,EACA,KAAKtG,KAAL,GACD,C,uCAEQ,iBACP,GAAIwC,CAAAA,MAAM,cACR,4CACE,2BAAK,KAAK,CAAE,CAAE+D,UAAU,CAAE,EAAd,CAAkBC,aAAa,CAAE,EAAjC,CAAqCC,iBAAiB,CAAE,OAAxD,CAAiEC,iBAAiB,CAAE,CAApF,CAAuFC,iBAAiB,CAAE,SAA1G,CAAqHpG,OAAO,CAAE,cAA9H,CAA8I8B,KAAK,CAAE,MAArJ,CAAZ,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,IAAhB,eACE,0BAAI,KAAK,CAAE,CAAEuE,KAAK,CAAE,MAAT,CAAX,0BADF,CADF,CADF,cAME,4BAAM,SAAS,CAAC,MAAhB,CAAuB,MAAM,CAAC,GAA9B,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,SAAS,CAAC,YAAtB,eACE,6BAAO,GAAG,CAAC,EAAX,iBADF,CADF,cAIE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,KAAK,CAAE,CAAEvE,KAAK,CAAE,MAAT,CAAzC,eACE,oBAAC,UAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,EAAE,CAAC,MAAlC,CAAyC,SAAS,CAAC,EAAnD,CAAsD,QAAQ,CAAE,KAAKjE,UAArE,EADF,cAEE,0BAAI,SAAS,CAAC,wBAAd,yBAFF,CADF,CADF,CAJF,CADF,cAgBE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEyI,SAAS,CAAE,MAAb,CAAZ,eACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,SAAS,CAAC,YAAtB,eACE,6BAAO,GAAG,CAAC,EAAX,eADF,CADF,cAIE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,oBAAC,UAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,EAAE,CAAC,UAAtC,CAAiD,QAAQ,CAAE,kBAAAvJ,CAAC,QAAI,CAAA,MAAI,CAACoC,YAAL,CAAkBpC,CAAlB,CAAJ,EAA5D,CAAsF,WAAW,CAAC,WAAlG,CAA8G,KAAK,CAAE,KAAKO,KAAL,CAAWmB,QAAhI,EADF,cAEE,0BAAI,SAAS,CAAC,wBAAd,6BAFF,CADF,CAJF,CAhBF,cA6BE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAE6H,SAAS,CAAE,MAAb,CAAZ,eACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,SAAS,CAAC,YAAtB,eACE,6BAAO,GAAG,CAAC,EAAX,eADF,CADF,cAIE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,WAA1B,CAAsC,EAAE,CAAC,WAAzC,CAAqD,SAAS,CAAC,EAA/D,CAAkE,QAAQ,CAAE,kBAACvJ,CAAD,QAAO,CAAA,MAAI,CAACwJ,UAAL,CAAgBxJ,CAAC,CAACgB,MAAF,CAASqB,KAAzB,CAAgC,WAAhC,CAAP,EAA5E,CAAiI,KAAK,CAAE,KAAK9B,KAAL,CAAWoC,iBAAnJ,eACE,8BAAQ,KAAK,CAAC,EAAd,sBADF,CAEG,KAAKpC,KAAL,CAAWgF,aAAX,CAAyBkE,GAAzB,CAA6B,SAACC,EAAD,CAAK9E,CAAL,CAAW,CACvC,mBAAQ,8BAAQ,KAAK,CAAE8E,EAAE,CAACC,YAAlB,EAAiCD,EAAE,CAACE,aAApC,CAAR,CACD,CAFA,CAFH,CADF,cAQE,0BAAI,SAAS,CAAC,wBAAd,8BARF,CADF,CAJF,CA7BF,cA+CE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,SAAS,CAAC,WAAtB,eACE,6BAAO,GAAG,CAAC,EAAX,gBADF,CADF,cAIE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,IAAI,CAAC,UAA/B,CAA0C,EAAE,CAAC,aAA7C,CAA2D,SAAS,CAAC,EAArE,CAAwE,QAAQ,CAAE,kBAAA5J,CAAC,QAAI,CAAA,MAAI,CAACoC,YAAL,CAAkBpC,CAAlB,CAAJ,EAAnF,CAA6G,KAAK,CAAE,KAAKO,KAAL,CAAWkC,WAA/H,CAA4I,WAAW,CAAC,aAAxJ,EADF,cAEE,0BAAI,SAAS,CAAC,wBAAd,+BAFF,CADF,CAJF,CA/CF,CADF,CANF,cAwEE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,KAAK4D,MAAnC,eAA2C,yBAAG,KAAK,CAAC,aAAT,EAA3C,WADF,CACsF,GADtF,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,KAAK3D,KAAnC,eAA0C,yBAAG,KAAK,CAAC,kBAAT,EAA1C,WAFF,CAxEF,CADF,cA8EE,2BAAK,KAAK,CAAE,CAAE,YAAa,OAAf,CAAwB6G,SAAS,CAAE,EAAnC,CAAZ,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,qBAAf,eACE,2BAAK,KAAK,CAAE,CAAEM,SAAS,CAAE,OAAb,CAAZ,eACE,yBAAG,SAAS,CAAC,cAAb,CAA4B,KAAK,CAAE,CAAErB,MAAM,CAAE,aAAV,CAAnC,EADF,cAEE,oBAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,OAAO,CAAE,iBAACxI,CAAD,QAAO,CAAA,MAAI,CAACW,QAAL,CAAc,CAAEmJ,YAAY,CAAE9J,CAAC,CAACgB,MAAF,CAASqB,KAAzB,CAAd,CAAP,EAAlC,CAA0F,WAAW,CAAC,eAAtG,CAAsH,IAAI,CAAC,IAA3H,CAAgI,KAAK,CAAE,CAAE0H,WAAW,CAAE,EAAf,CAAvI,EAFF,CADF,cAKE,oBAAC,WAAD,EAAa,KAAK,CAAE,KAAKxJ,KAAL,CAAWmF,IAA/B,CAAqC,OAAO,CAAE,KAAKI,UAAnD,CACE,gBAAgB,CAAE,IADpB,CAC0B,WAAW,CAAElG,YAAY,CAACgG,eAAb,CAA6BoE,gBADpE,CACsF,OAAO,CAAC,oBAD9F,CAEE,QAAQ,CAAE,KAAK9D,cAFjB,CAEiC,KAAK,CAAE,CAAEnB,KAAK,CAAE,MAAT,CAFxC,EALF,CASI,KAAKxE,KAAL,CAAWoE,aAAX,CAAyBlE,MAAzB,CAAkC,CAAnC,cACC,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,gBAA3B,CAA4C,OAAO,CAAC,eAApD,CAAoE,cAAc,CAAE,CAAEgI,QAAQ,CAAE,QAAZ,CAApF,CAA4G,OAAO,CAAE,KAAKhE,aAA1H,EADD,CAGG,IAZN,CAeI,KAAKlE,KAAL,CAAWoE,aAAX,CAAyBlE,MAAzB,CAAkC,CAAnC,cACC,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,gBAA3B,CAA4C,OAAO,CAAC,YAApD,CAAiE,cAAc,CAAE,CAAEgI,QAAQ,CAAE,QAAZ,CAAjF,CAAyG,OAAO,CAAE,KAAKwB,UAAvH,EADD,CAGG,IAlBN,CAqBI,KAAK1J,KAAL,CAAWoE,aAAX,CAAyBlE,MAAzB,CAAkC,CAAnC,cACC,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,aAA3B,CAAyC,OAAO,CAAC,YAAjD,CAA8D,cAAc,CAAE,CAAEgI,QAAQ,CAAE,QAAZ,CAA9E,CAAsG,OAAO,CAAE,KAAKyB,UAApH,EADD,CAGG,IAxBN,cA2BE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,cAA3B,CAA0C,OAAO,CAAC,eAAlD,CAAkE,cAAc,CAAE,CAAEzB,QAAQ,CAAE,QAAZ,CAAlF,CAA0G,OAAO,CAAE,KAAKtC,MAAxH,CAAgI,KAAK,CAAE,CAAE4D,WAAW,CAAE,EAAf,CAAvI,EA3BF,CADF,CADF,CADF,CADF,CA9EF,CADF,CAsHA,GAAIlF,CAAAA,OAAO,CAAG,KAAKtE,KAAL,CAAWmF,IAAX,CAAgB+D,GAAhB,CAAoB,SAAC1D,GAAD,CAAMnB,CAAN,CAAY,CAC5C,mBAAO,oBAAC,MAAD,EAAQ,KAAK,CAAEmB,GAAG,CAACd,KAAnB,CAA0B,MAAM,CAAEc,GAAG,CAACb,MAAtC,CAA8C,IAAI,CAAEa,GAAG,CAAC3B,IAAxD,CAA8D,QAAQ,CAAE2B,GAAG,CAACZ,QAA5E,CAAsF,MAAM,CAAEY,GAAG,CAACX,MAAlG,CAA0G,aAAa,CAAEW,GAAG,CAACjB,aAA7H,CAA4I,KAAK,CAAEiB,GAAG,CAAC/C,KAAvJ,EAAP,CACD,CAFa,CAAd,CAIA,mBACE,2BAAK,SAAS,CAAC,iBAAf,eACE,yBAAG,IAAI,CAAC,oBAAR,CAA6B,OAAO,CAAE,iBAAChD,CAAD,QAAO,CAAA,MAAI,CAACW,QAAL,CAAc,CAAEqI,OAAO,CAAE,IAAX,CAAd,CAAP,EAAtC,cADF,cAGE,oBAAC,OAAD,EAAS,aAAa,CAAE,KAAxB,CAA+B,WAAW,CAAE,IAA5C,CAAkD,OAAO,CAAE,KAAKzI,KAAL,CAAWyI,OAAtE,CAA+E,QAAQ,CAAC,OAAxF,CAAgG,MAAM,CAAE,gBAAChJ,CAAD,QAAO,CAAA,MAAI,CAACmK,WAAL,EAAP,EAAxG,CAAmI,KAAK,CAAE,CAAEpF,KAAK,CAAE,GAAT,CAA1I,eACE,oBAAC,WAAD,EAAa,KAAK,CAAE,CAAEA,KAAK,CAAE,MAAT,CAAiBqF,MAAM,CAAE,OAAzB,CAApB,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,SAAD,EAAW,KAAK,CAAE,EAAlB,CAAsB,GAAG,CAAE,aAACC,EAAD,QAAQ,CAAA,MAAI,CAACrC,EAAL,CAAUqC,EAAlB,EAA3B,CAAiD,KAAK,CAAE,KAAK9J,KAAL,CAAWC,YAAnE,CACE,yBAAyB,CAAE,KAAKD,KAAL,CAAWG,GADxC,CAC6C,KAAK,CAAE,KAAKH,KAAL,CAAWK,YAD/D,CAC6E,MAAM,CAAE,gBAACZ,CAAD,QAAO,CAAA,MAAI,CAACD,aAAL,CAAmBC,CAAnB,CAAP,EADrF,CAEE,SAAS,CAAE,IAFb,CAEmB,IAAI,CAAE,KAAKO,KAAL,CAAWM,WAFpC,CAEiD,MAAM,CAAEqE,MAFzD,CAEiE,cAAc,CAAC,WAFhF,CAGE,iBAAiB,CAAC,uGAHpB,CAIE,kBAAkB,CAAE,KAAK3E,KAAL,CAAWsF,kBAJjC,CAIqD,YAAY,CAAE,KAAKtF,KAAL,CAAWuJ,YAJ9E,CAI4F,YAAY,CAAC,kBAJzG,CAKE,UAAU,CAAE,IALd,CAKoB,gBAAgB,CAAE,IALtC,CAK4C,gBAAgB,CAAC,KAL7D,CAME,UAAU,CAAE,IANd,CAMoB,YAAY,CAAC,OANjC,CAOE,SAAS,CAAE,KAAKvJ,KAAL,CAAWoE,aAPxB,CAQE,iBAAiB,CAAE,2BAAC3E,CAAD,QAAO,CAAA,MAAI,CAACsK,SAAL,CAAetK,CAAf,CAAP,EARrB,EAUG6E,OAVH,CADF,CADF,CADF,CAHF,CADF,CAyBD,C,yBAhduBpG,S,EAmd1B,cAAeoB,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport api from '../../utils/apiClient'\nimport APIConstant from '../../utils/constants';\nimport { Column } from 'primereact/column';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { toast } from 'react-toastify';\nimport { Sidebar } from 'primereact/sidebar';\nimport { ScrollPanel } from 'primereact/scrollpanel';\nimport { Button as BTN, Row, Col, Input, InputGroup } from 'reactstrap';\nimport { apiBase } from '../../utils/config';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { CommonConfig } from '../../utils/constants';\n\nclass x_Documents extends Component {\n  constructor(props) {\n    super(props);\n    \n    let columns = [\n      { selectionMode: \"multiple\", style: { width: '3em' }, id: 0 },\n      { field: \"filename\", header: \"Name\", sortable: true, filter: true, id: 1 },\n      { field: \"createdon\", header: \"Created\", sortable: true, filter: true, id: 2 },\n      { field: \"createdby\", header: \"CreatedBy\", sortable: true, filter: true, id: 3 },\n      { field: \"directory\", header: \"Directory\", sortable: true, filter: true, id: 4 },\n      { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, id: 5 },\n    ];\n\n    this.state = {\n      documentList: [],\n      directoryList: [],\n      selecteddirectory: '',\n      selectedfile: '',\n      file: '',\n      Description: '',\n      colors: null,\n      primary: false,\n      cols: columns,\n      valueError: true,\n      fileError: true,\n      Extension: '',\n      FileName: '',\n      FileNameError: true,\n      str: '',\n      rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n      rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n      selectedPage: 0,\n      selectedCars3: ''\n    };\n\n    this.colOptions = [];\n    for (let col of columns) {\n      this.colOptions.push({ label: col.header, value: col });\n    }\n\n    this.onColumnToggle = this.onColumnToggle.bind(this);\n    this.export = this.export.bind(this);\n    this.togglePrimary = this.togglePrimary.bind(this);\n    this.download = this.download.bind(this);\n    this.upload = this.upload.bind(this);\n    // this.downloadData = this.downloadData.bind(this);\n  }\n\n  componentDidMount() {\n    this.getDocumentList();\n    this.getDirectoryList();\n  }\n\n  getDocumentList() {\n    try {\n      const data = {\n\n      };\n      api.post(\"api/getDocumentListByTypeAndId\", data).then(res => {\n        console.log(\"res\", res);\n        if (res.success) {\n          var formattedData = [];\n          for (var i = 0; i < res.data.length; i++) {\n            formattedData.push({\n              documentid: [i + 1],\n              filename: res.data[i].Filename,\n              createdon: moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),\n              type: res.data[i].Type,\n              url: res.data[i].URL,\n              directory: res.data[i].Directory,\n              createdby: res.data[i].forename\n            })\n          }\n          let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\n          let str = '1 to ' + lastPage + ' out of ' + formattedData.length + ' records';\n          this.setState({ documentList: formattedData, str: str });\n        } else {\n\n        }\n      }).catch(err => {\n\n      });\n    } catch (error) {\n\n    }\n  }\n\n  getDirectoryList() {\n    try {\n      const data = {\n        stringmaptype: 'DOCUMENTDIRECTORY'\n      };\n      api.post(APIConstant.path.dropdownbycode, data).then(res => {\n        if (res.success) {\n          this.setState({ directoryList: res.data });\n        } else {\n\n        }\n      }).catch(err => {\n\n      });\n    } catch (error) {\n\n    }\n  }\n\n  getPageString = (e) => {\n    let firstPage = e.first + 1;\n    let l = e.rows * (e.page + 1);\n    let lastPage = (l < this.state.documentList.length) ? l : this.state.documentList.length\n    var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.documentList.length + ' records';\n    this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\n  }\n\n  selectType(value) {\n\n    if (value === '') {\n      this.setState({ valueError: true, selecteddirectory: value });\n      this.show(\"directory\", true);\n    }\n    else {\n      this.setState({ selecteddirectory: value, valueError: false });\n      this.show(\"directory\", false);\n    }\n  }\n\n  selectFile = (event) => {\n\n    if (event.target.files && event.target.files[0]) {\n      var docname = event.target.files[0].name.split('.').slice(0, -1).join('.');\n      var ext = event.target.files[0].name.split('.').pop();\n\n      this.setState({ selectedfile: event.target.files[0], FileName: docname, FileNameError: false, Extension: ext });\n      this.show(\"FileName\", false);\n      let reader = new FileReader();\n      reader.onload = (e) => {\n        this.setState({ file: e.target.result });\n        this.show(\"file\", false);\n      };\n      reader.readAsDataURL(event.target.files[0]);\n    }\n    else {\n      this.setState({ FileNameError: true, FileName: '', Extension: '' });\n    }\n  }\n\n  handleChange = (e) => {\n    // debugger\n    this.setState({ [e.target.name]: e.target.value });\n    console.log(e.target.name);\n    if (e.target.name === 'Description') {\n      if (CommonConfig.isEmpty(e.target.value)) {\n        this.setState({ Description: e.target.value });\n      }\n      else {\n        this.setState({ Description: e.target.value });\n      }\n    } else {\n      if (CommonConfig.isEmpty(e.target.value)) {\n        this.setState({ FileNameError: true, FileName: e.target.value });\n        this.show(\"FileName\", true);\n      }\n      else {\n        this.setState({ FileName: e.target.value, FileNameError: false });\n        this.show(\"FileName\", false);\n      }\n    }\n  }\n\n  reset = () => {\n    this.setState({\n      selecteddirectory: '', Description: '', valueError: true, selectedfile: '', file: '', FileName: '', FileNameError: true, Extension: ''\n    });\n    this.show(\"FileName\", false);\n    this.show(\"file\", false);\n    this.show(\"directory\", false);\n    document.getElementById(\"file\").value = null;\n  }\n\n  show(field, condition) {\n    if (condition) {\n      document.getElementById(field).className = \"form-control is-invalid\";\n    } else {\n      document.getElementById(field).className = \"form-control\";\n    }\n  }\n\n  export() {\n    this.dt.exportCSV();\n  }\n\n  clear = () => {\n    document.getElementById(\"file\").value = null;\n    document.getElementById(\"file\").style.display = \"block\";\n    document.getElementById(\"FileName\").style.display = \"none\";\n    this.setState({ Extension: '', FileName: '', FileNameError: false });\n    this.show(\"FileName\", false);\n  }\n\n  upload() {\n    if (\n      this.state.selectedfile !== \"\" &&\n      this.state.valueError === false &&\n      this.state.FileNameError === false\n    ) {\n\n      var formData = new FormData();\n\n      formData.append('directory', this.state.selecteddirectory);\n      formData.append('Description', (this.state.Description).trim());\n      formData.append('FileName', (this.state.FileName).trim());\n      formData.append('Extension', this.state.Extension);\n      formData.append('document', this.state.selectedfile);\n\n      api.post('api/uploadDocument', formData).then(res => {\n\n        if (res.success) {\n          toast.success(\"Document's uploaded successfully\");\n          this.togglePrimary();\n          this.getDocumentList();\n        } else {\n        }\n      }).catch(err => {\n      });\n    }\n    else {\n      if (this.state.valueError) this.show(\"directory\", true);\n      if (this.state.FileNameError) this.show(\"FileName\", true);\n      if (this.state.selectedfile === '' || this.state.selectedfile === undefined || this.state.selectedfile === null) this.show(\"file\", true);\n    }\n  }\n\n  downloadData = (rowdata) => {\n    var path = apiBase + rowdata.url;\n\n    axios({\n      url: path,\n      method: 'GET',\n      responseType: 'blob', // important\n    }).then((response) => {\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', rowdata.filename); //or any other extension\n      document.body.appendChild(link);\n      link.click();\n    });\n  }\n\n  download = (rowData) => {\n    document.getElementById('download').click();\n  }\n\n  printData() {\n    // window.print();\n    // var content = document.getElementById(\"FileName\");\n    // var pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\n    // pri.document.open();\n    // pri.document.write(content.innerHTML);\n    // pri.document.close();\n    // pri.focus();\n    // pri.print();\n  }\n\n  actionTemplate(rowData, column) {\n\n    return <div className=\"text-center\">\n       <Button type=\"button\" icon=\"pi pi-download\" style={{ margin: 2 }} tooltip=\"Download\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.downloadData(rowData)}></Button>\n       <Button type=\"button\" icon=\"pi pi-envelope\" style={{ margin: 2 }} tooltip=\"Email\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.emailData()}></Button>\n       <Button type=\"button\" icon=\"pi pi-print\" style={{ margin: 2 }} tooltip=\"Print\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.printData()}></Button>\n    </div>;\n  }\n\n  togglePrimary() {\n    this.setState({\n      primary: !this.state.primary,\n    });\n    this.reset();\n  }\n\n  onColumnToggle(event) {\n    let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\n    this.setState({ cols: valueInOrder });\n  }\n\n  mulSelect(e) {\n    console.log(\"eeeee\", e.value);\n    this.setState({ selectedCars3: e.value });\n  }\n\n  bulk_Download = () => {\n    var bulk_Data = this.state.selectedCars3;\n    if (bulk_Data.length) {\n      for (let i = 0; i < bulk_Data.length; i++) {\n        var path = apiBase + bulk_Data[i].url;\n        axios({\n          url: path,\n          method: 'GET',\n          responseType: 'blob', // important\n        }).then((response) => {\n          const url = window.URL.createObjectURL(new Blob([response.data]));\n          const link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', bulk_Data[i].filename); //or any other extension\n          document.body.appendChild(link);\n          link.click();\n        });\n      }\n    }\n  }\n\n  HideSideBar() {\n    this.setState({ visible: false });\n    this.reset();\n  }\n\n  render() {\n    var header =\n      <div>\n        <div style={{ paddingTop: 10, paddingBottom: 10, borderBottomStyle: 'solid', borderBottomWidth: 1, borderBottomColor: \"#d8d6d6\", display: \"inline-block\", width: \"100%\" }}>\n          <Row>\n            <Col xs=\"12\" md=\"12\">\n              <h4 style={{ float: 'left' }}>Upload a New Document</h4>\n            </Col>\n          </Row>\n          <form className=\"form\" action=\"#\" >\n            <div className=\"file-field\">\n              <Row>\n                <Col md=\"3\" className=\"pull-right\">\n                  <label for=\"\">Select File*</label>\n                </Col>\n                <Col md=\"9\">\n                  <div className=\"btn btn-primary \" style={{ width: \"100%\" }}>\n                    <InputGroup>\n                      <Input type=\"file\" name=\"file\" id=\"file\" className=\"\" onChange={this.selectFile} />\n                      <em className=\"error invalid-feedback\"> Please select file </em>\n                    </InputGroup>\n                  </div>\n                </Col>\n              </Row>\n\n\n              <Row style={{ marginTop: \"10px\" }}>\n                <Col md=\"3\" className=\"pull-right\">\n                  <label for=\"\">File Name*</label>\n                </Col>\n                <Col md=\"9\">\n                  <InputGroup>\n                    <Input type=\"text\" name=\"FileName\" id=\"FileName\" onChange={e => this.handleChange(e)} placeholder=\"File Name\" value={this.state.FileName} />\n                    <em className=\"error invalid-feedback\"> Please enter file name </em>\n                  </InputGroup>\n                </Col>\n              </Row>\n\n\n              <Row style={{ marginTop: \"10px\" }}>\n                <Col md=\"3\" className=\"pull-right\">\n                  <label for=\"\">Directory*</label>\n                </Col>\n                <Col md=\"9\">\n                  <div className=\"input-box\">\n                    <Input type=\"select\" name=\"directory\" id=\"directory\" className=\"\" onChange={(e) => this.selectType(e.target.value, 'directory')} value={this.state.selecteddirectory}>\n                      <option value=''>--Document Type--</option>\n                      {this.state.directoryList.map((ct, i) => {\n                        return (<option value={ct.StringMapKey}>{ct.StringMapName}</option>)\n                      })\n                      }\n                    </Input>\n                    <em className=\"error invalid-feedback\"> Please select directory </em>\n                  </div>\n                </Col>\n              </Row>\n\n              <Row>\n                <Col md=\"3\" className=\"pull-left\">\n                  <label for=\"\">Description</label>\n                </Col>\n                <Col md=\"9\">\n                  <div className=\"input-box\">\n                    <Input name=\"Description\" type=\"textarea\" id=\"Description\" className=\"\" onChange={e => this.handleChange(e)} value={this.state.Description} placeholder=\"Description\" />\n                    <em className=\"error invalid-feedback\"> Please enter description </em>\n                  </div>\n                </Col>\n              </Row>\n            </div>\n\n            {/* <div className=\"file-field\">\n              \n            </div> */}\n\n          </form>\n          <div className=\"pull-right\" >\n            <BTN color=\"success\" onClick={this.upload}><i class=\"fa fa-check\"></i> Upload</BTN>{' '}\n            <BTN color=\"primary\" onClick={this.reset}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\n          </div>\n        </div>\n        <div style={{ 'textAlign': 'Right', marginTop: 10 }}>\n          <Row>\n            <Col>\n              <div className=\"basic-header\">\n                <div className=\"header-right-option\">\n                  <div style={{ textAlign: 'right' }}>\n                    <i className=\"pi pi-search\" style={{ margin: '4px 4px 0 0' }}></i>\n                    <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" size=\"30\" style={{ marginRight: 10 }} />\n                  </div>\n                  <MultiSelect value={this.state.cols} options={this.colOptions}\n                    fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\"\n                    onChange={this.onColumnToggle} style={{ width: '50px' }}\n                  />\n                  {(this.state.selectedCars3.length > 1) ? (\n                    <Button type=\"button\" icon=\"pi pi-download\" tooltip=\"Bulk Download\" tooltipOptions={{ position: 'bottom' }} onClick={this.bulk_Download}></Button>\n                  ) : (\n                      null\n                    )}\n\n                  {(this.state.selectedCars3.length > 1) ? (\n                    <Button type=\"button\" icon=\"pi pi-envelope\" tooltip=\"Bulk Email\" tooltipOptions={{ position: 'bottom' }} onClick={this.bulk_Email}></Button>\n                  ) : (\n                      null\n                    )}\n\n                  {(this.state.selectedCars3.length > 1) ? (\n                    <Button type=\"button\" icon=\"pi pi-print\" tooltip=\"Bulk Print\" tooltipOptions={{ position: 'bottom' }} onClick={this.bulk_Print}></Button>\n                  ) : (\n                      null\n                    )}\n\n                  <Button type=\"button\" icon=\"pi pi-file-o\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>;\n\n    let columns = this.state.cols.map((col, i) => {\n      return <Column field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} selectionMode={col.selectionMode} style={col.style} />;\n    });\n\n    return (\n      <div className=\"animated fadeIn\">\n        <a href=\"javascript:void(0)\" onClick={(e) => this.setState({ visible: true })}>Documents</a>\n\n        <Sidebar showCloseIcon={false} blockScroll={true} visible={this.state.visible} position=\"right\" onHide={(e) => this.HideSideBar()} style={{ width: 550 }}>\n          <ScrollPanel style={{ width: '100%', height: '560px' }}>\n            <div className=\"table-custom\">\n              <DataTable style={{}} ref={(el) => this.dt = el} value={this.state.documentList}\n                currentPageReportTemplate={this.state.str} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\n                paginator={true} rows={this.state.rowsPerPage} header={header} exportFilename=\"Documents\"\n                paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown \"\n                rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\n                responsive={true} resizableColumns={true} columnResizeMode=\"fit\"\n                scrollable={true} scrollHeight=\"265px\"\n                selection={this.state.selectedCars3}\n                onSelectionChange={(e) => this.mulSelect(e)}\n              >\n                {columns}\n              </DataTable>\n              {/* <iframe id=\"ifmcontentstoprint\" style={{height: \"0px\", width: \"0px\", position: \"absolute\"}}></iframe> */}\n            </div>\n          </ScrollPanel>\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nexport default x_Documents;"]},"metadata":{},"sourceType":"module"}