{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar crypto = require('crypto');\n\nvar Transform = require('stream').Transform;\n\nvar StreamHash = /*#__PURE__*/function (_Transform) {\n  _inherits(StreamHash, _Transform);\n\n  var _super = _createSuper(StreamHash);\n\n  function StreamHash(attachment, algo) {\n    var _this;\n\n    _classCallCheck(this, StreamHash);\n\n    _this = _super.call(this);\n    _this.attachment = attachment;\n    _this.algo = (algo || 'md5').toLowerCase();\n    _this.hash = crypto.createHash(algo);\n    _this.byteCount = 0;\n    return _this;\n  }\n\n  _createClass(StreamHash, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      this.hash.update(chunk);\n      this.byteCount += chunk.length;\n      done(null, chunk);\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(done) {\n      this.attachment.checksum = this.hash.digest('hex');\n      this.attachment.size = this.byteCount;\n      done();\n    }\n  }]);\n\n  return StreamHash;\n}(Transform);\n\nmodule.exports = StreamHash;","map":null,"metadata":{},"sourceType":"script"}