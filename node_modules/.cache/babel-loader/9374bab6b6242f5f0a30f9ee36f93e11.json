{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import'react-toastify/dist/ReactToastify.css';import{Col,Row,Modal,ModalBody,ModalHeader,ModalFooter,Button as BTN,Input}from'reactstrap';import{withTranslation}from'react-i18next';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{MultiSelect}from'primereact/multiselect';import{InputText}from'primereact/inputtext';import{Button}from'primereact/button';import{CommonConfig}from'../../../utils/constants';import{BulkUpload}from'./BulkUpload';import api from'../../../utils/apiClient';import APIConstant from'../../../utils/constants';import moment from'moment';import{toast}from'react-toastify';import userGuide from\"../../../assets/User Manual/Binder Bulk Upload Guide.pdf\";var RatingBands=/*#__PURE__*/function(_Component){_inherits(RatingBands,_Component);var _super=_createSuper(RatingBands);function RatingBands(props){var _this;_classCallCheck(this,RatingBands);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.RatingBandsData.length?l:_this.state.RatingBandsData.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.RatingBandsData.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.openDeleteModal=function(rowData){debugger;_this.setState({toggleModal:!_this.state.toggleModal,BinderRatingBandHistoryId:_this.state.BinderRatingBandHistoryId,BinderRatingBandFrom:_this.state.rangeFrom,BinderRatingBandTo:_this.state.rangeTo,BinderRatingBandVesselClass:_this.state.Class,BinderRatingBandEffectiveDate:moment(_this.state.effectiveDate).format('DD-MM-YYYY')});};_this.toggleLarge=function(){_this.setState({toggleModal:false// BinderRatingBandHistoryId: \"\",\n// BinderRatingBandFrom: \"\",\n// BinderRatingBandTo: \"\",\n// BinderRatingBandVesselClass: \"\",\n});};_this.toggleUpdateLarge=function(){_this.setState({toggleUpdateModal:false,BinderRatingBandHistoryId:_this.state.oldBinderRatingBandHistoryId?_this.state.oldBinderRatingBandHistoryId:_this.state.BinderRatingBandHistoryId// BinderRatingBandHistoryId: \"\",\n// BinderRatingBandFrom: \"\",\n// BinderRatingBandTo: \"\",\n// BinderRatingBandVesselClass: \"\",\n});};_this.selectType=function(event,type){var filterData=_this.state.filter;if(type==\"country\"){if(event.value===''||event.value===undefined||event.value===null){filterData.country=\"\";filterData.countryid=\"\";_this.setState({filter:filterData});}else{var index=_this.state.countrymaster.findIndex(function(x){return x.value===event.value;});var data=_this.state.countrymaster[index];filterData.country=data.value;filterData.countryid=data.value;_this.setState({filter:filterData});}}else if(type==\"vesseltype\"){if(event.value===''||event.value===undefined||event.value===null){filterData.vesseltype=\"\";filterData.vesseltypeid=\"\";_this.setState({filter:filterData});}else{var _index=_this.state.vesseltypemaster.findIndex(function(x){return x.value===event.value;});var _data=_this.state.vesseltypemaster[_index];filterData.vesseltype=_data.label;filterData.vesseltypeid=_data.value;_this.setState({filter:filterData});}}else if(type==\"classname\"){if(event.value===''||event.value===undefined||event.value===null){filterData.classname=\"\";filterData.classid=\"\";_this.setState({filter:filterData});}else{var _index2=_this.state.classnamemaster.findIndex(function(x){return x.value===event.value;});var _data2=_this.state.classnamemaster[_index2];filterData.classname=_data2.label;filterData.classid=_data2.value;_this.setState({filter:filterData});}_this.getVesselType(event.value);}else if(type==\"currency\"){_this.setState({currency:event.value});}else if(type==\"displayname\"){if(event.value===''||event.value===undefined||event.value===null){// filterData.classname = \"\"\n// filterData.classid = \"\"\n// this.setState({ filter: filterData })\n}else{var _index3=_this.state.displaynamemaster.findIndex(function(x){return x.value===event.value;});var _data3=_this.state.displaynamemaster[_index3];filterData.displayname=_data3.label;_this.setState({filter:filterData});}}else if(type==\"rateOrAmount\"){debugger;_this.setState({rateOrAmount:event.value});if(event.value==\"Rate\"){_this.setState({isRate:true,RNABAmount:0,newBZABAmount:0});}else{_this.setState({isRate:false,RNRate:0,newBZRate:0});}}};_this.toggleAddUpdate=function(){// var filterData = this.state.filter\n// filterData.classname = ''\n// filterData.vesseltype = ''\n// filterData.classid = ''\n// filterData.vesseltypeid = ''\n// filterData.country = ''\n// filterData.countryid = ''\n// this.setState({ filter: filterData })\n_this.setState({toogleAddUpdateRatingBandModal:false});};_this.toggleBulkUpload=function(){if(_this.state.BinderId==''){toast.error('To add Rating Band Please Create New binder or edit existing Binder');}else{_this.setState({toogleBulkUpload:!_this.state.toogleBulkUpload});}};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));var decimalRegExp=CommonConfig.RegExp.decimalWithOne;if(e.target.name==='rangeFrom'){if(e.target.value===''||e.target.value===null){_this.setState({rangeFromError:true});_this.show(\"rangeFrom\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({rangeFromError:true});_this.show(\"rangeFrom\",true);}else{_this.setState({rangeFromError:false,rangeFrom:e.target.value});_this.show(\"rangeFrom\",false);}}}if(e.target.name==='rangeTo'){if(e.target.value===''||e.target.value===null){_this.setState({rangeToError:true});_this.show(\"rangeTo\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({rangeToError:true});_this.show(\"rangeTo\",true);}else{_this.setState({rangeToError:false,rangeTo:e.target.value});_this.show(\"rangeTo\",false);}}}if(e.target.name==='Excess'){if(e.target.value===''||e.target.value===null){_this.setState({ExcessError:true});_this.show(\"Excess\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({ExcessError:true});_this.show(\"Excess\",true);}else{_this.setState({ExcessError:false,Excess:e.target.value});_this.show(\"Excess\",false);}}}if(e.target.name==='RNRate'){if(e.target.value===''||e.target.value===null){_this.setState({RNRateError:true});_this.show(\"RNRate\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({RNRateError:true});_this.show(\"RNRate\",true);}else{_this.setState({RNRateError:false,RNRate:e.target.value});_this.show(\"RNRate\",false);}}}if(e.target.name==='RNABAmount'){if(e.target.value===''||e.target.value===null){_this.setState({RNABAmountError:true});_this.show(\"RNABAmount\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({RNABAmountError:true});_this.show(\"RNABAmount\",true);}else{_this.setState({RNABAmountError:false,RNABAmount:e.target.value});_this.show(\"RNABAmount\",false);}}}if(e.target.name==='newBZRate'){if(e.target.value===''||e.target.value===null){_this.setState({newBZRateError:true});_this.show(\"newBZRate\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({newBZRateError:true});_this.show(\"newBZRate\",true);}else{_this.setState({newBZRateError:false,newBZRate:e.target.value});_this.show(\"newBZRate\",false);}}}if(e.target.name==='newBZABAmount'){if(e.target.value===''||e.target.value===null){_this.setState({newBZABAmountError:true});_this.show(\"newBZABAmount\",true);}else{if(!decimalRegExp.test(e.target.value)){_this.setState({newBZABAmountError:true});_this.show(\"newBZABAmount\",true);}else{_this.setState({newBZABAmountError:false,newBZABAmount:e.target.value});_this.show(\"newBZABAmount\",false);}}}if(e.target.name==='effectiveDate'){if(e.target.value===''||e.target.value===null){_this.setState({effectiveDateError:true});_this.show(\"effectiveDate\",true);}else{_this.setState({effectiveDateError:false,effectiveDate:e.target.value});_this.show(\"effectiveDate\",false);}}if(e.target.name==='isHideRemoved'){debugger;_this.setState({isHideRemoved:e.target.checked,RatingBandsDataAll:_this.state.RatingBandsData});if(e.target.checked){var results=_this.state.RatingBandsData.filter(function(RatingBands){return RatingBands.Status!=='Inactive';});_this.setState({RatingBandsData:results});}else{_this.setState({RatingBandsData:_this.state.RatingBandsDataAll});}}};var columns=[{field:\"Class\",header:\"Class\",sortable:true,filter:true,filterMatchMode:'contains',id:0},{field:\"Type\",header:\"Type\",sortable:true,filter:true,filterMatchMode:'contains',id:1},{field:\"Country\",header:\"Country\",sortable:true,filter:true,filterMatchMode:'contains',id:2},{field:\"From\",header:\"From\",sortable:true,filter:true,filterMatchMode:'contains',id:3},{field:\"To\",header:\"To\",sortable:true,filter:true,filterMatchMode:'contains',id:4},{field:\"Excess\",header:\"Excess\",sortable:true,filter:true,filterMatchMode:'contains',id:5},{field:\"BaseRateRENP\",header:\"Base Rate % - RENEWAL\",sortable:true,filter:true,filterMatchMode:'contains',id:6},{field:\"BaseRateREN\",header:\"Base Absolute Amount RENEWAL\",sortable:true,filter:true,filterMatchMode:'contains',id:7},{field:\"BaseRateNewP\",header:\"Base Rate % - NEW Business\",sortable:true,filter:true,filterMatchMode:'contains',id:8},{field:\"BaseRateNew\",header:\"Base Absolute Amount NEW Business\",sortable:true,filter:true,filterMatchMode:'contains',id:9},{field:\"effectiveDateView\",header:\"Effective Date\",sortable:true,filter:true,filterMatchMode:'contains',id:10},{field:\"Qualifier\",header:\"Qualifier\",sortable:true,filter:true,filterMatchMode:'contains',id:11},{field:\"IsCurrent\",header:\"Is Current\",sortable:true,filter:true,filterMatchMode:'contains',id:12},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,filterMatchMode:'contains',id:13}];var columns1=[{field:\"Row\",header:\"Row\",sortable:true,filter:true,filterMatchMode:'contains',id:0},{field:\"Country\",header:\"Country\",sortable:true,filter:true,filterMatchMode:'contains',id:1},{field:\"Class\",header:\"CLASS\",sortable:true,filter:true,filterMatchMode:'contains',id:2},{field:\"Type\",header:\"TYPE\",sortable:true,filter:true,filterMatchMode:'contains',id:3},{field:\"From\",header:\"Value From\",sortable:true,filter:true,filterMatchMode:'contains',id:4},{field:\"To\",header:\"Value To\",sortable:true,filter:true,filterMatchMode:'contains',id:5},{field:\"Excess\",header:\"Excess\",sortable:true,filter:true,filterMatchMode:'contains',id:6},{field:\"BaseRateNewP\",header:\"Base Rate(%) - New Business\",sortable:true,filter:true,filterMatchMode:'contains',id:7},{field:\"BaseRateNew\",header:\"Absolute - New Business\",sortable:true,filter:true,filterMatchMode:'contains',id:8},{field:\"BaseRateRENP\",header:\"Base Rate(%) – Renewal\",sortable:true,filter:true,filterMatchMode:'contains',id:10},{field:\"BaseRateREN\",header:\"Absolute – Renewal\",sortable:true,filter:true,filterMatchMode:'contains',id:11},{field:\"Status\",header:\"Status\",sortable:true,filter:true,filterMatchMode:'contains',id:12},{field:\"ErrorMessage\",header:\"Error Message\",sortable:true,filter:true,filterMatchMode:'contains',id:13}];var orginial=_this.setState;// this.state = JSON.parse(localStorage.getItem('ratingbandstate'))\n//     ? JSON.parse(localStorage.getItem('ratingbandstate'))\n//     : \n_this.state={LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,cols:columns,cols1:columns1,toogleAddUpdateRatingBandModal:false,toogleBulkUpload:false,filter:{country:\"\",countryid:\"\",classname:\"\",classid:\"\",vesseltype:\"\",vesseltypeid:\"\",displayname:\"Current\"},BinderId:\"\",//dev 1\nUMRN:\"\",Excess:\"\",rangeFrom:\"\",rangeTo:\"\",RNRate:\"\",RNABAmount:\"\",newBZRate:\"\",newBZABAmount:\"\",displaynamemaster:[],countrymaster:[],countryError:false,classnamemaster:[],classnameError:false,vesseltypemaster:[],vesseltypeError:false,RatingBandsData:[],currency:\"\",currencyError:false,currencymaster:[],selectedPage:0,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null,isRate:true,rateOrAmount:\"Rate\",paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rangeFromError:true,rangeToError:true,ExcessError:true,RNRateError:true,RNABAmountError:true,newBZRateError:true,newBZABAmountError:true,toggleUpdateModal:false,isHideRemoved:false,RatingBandsBulkUpload:[],showBulkdt:false};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.colOptions1=[];for(var _i2=0,_columns2=columns1;_i2<_columns2.length;_i2++){var col1=_columns2[_i2];_this.colOptions1.push({label:col1.header,value:col1});}_this.onColumnToggle=_this.onColumnToggle.bind(_assertThisInitialized(_this));_this.actionTemplate=_this.actionTemplate.bind(_assertThisInitialized(_this));_this.export=_this.export.bind(_assertThisInitialized(_this));_this.downloadUserGuide=_this.downloadUserGuide.bind(_assertThisInitialized(_this));var handleCallBack=_this.handleCallBack.bind(_assertThisInitialized(_this));return _this;}_createClass(RatingBands,[{key:\"downloadUserGuide\",value:function downloadUserGuide(){window.location.href=userGuide;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){localStorage.removeItem('ratingbandstate');}},{key:\"onColumnToggle\",value:function onColumnToggle(event){var valueInOrder=event.value.sort(function(x,y){return x.id-y.id;});this.setState({cols:valueInOrder});}},{key:\"export\",value:function _export(){var _this2=this;this.state.showBulkdt=true;this.setState({showBulkdt:true});setTimeout(function(){setTimeout(function(){_this2.state.showBulkdt=false;_this2.setState({showBulkdt:false});},500);_this2.dt.exportCSV();},500);}},{key:\"getVesselType\",value:function getVesselType(value){var _this3=this;try{var data={VesselClassId:value};api.post(APIConstant.path.getVesselType,data).then(function(res){if(res.success){console.log(\"VesselType....\",res.data);var formattedData=[];for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].VesselTypeName,value:res.data[i].VesselTypeId});}_this3.setState({vesseltypemaster:formattedData});}else{}}).catch(function(err){});}catch(error){}}},{key:\"getCurrency\",value:function getCurrency(){var _this4=this;try{api.get(APIConstant.path.getCurrency).then(function(res){var formattedData=[];if(res.success){console.log(\"Currency....\",res.data);for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].CurrncyCode,value:res.data[i].CurrncyCode});}_this4.setState({currencymaster:formattedData});}else{}}).catch(function(err){});}catch(err){}}},{key:\"getVesselClass\",value:function getVesselClass(){var _this5=this;try{api.get(APIConstant.path.getVesselClass).then(function(res){console.log(\"getAuthorizeClass\",res);if(res.success){console.log(\"VesselClass....\",res.data);var formattedData=[];for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].VesselClassName,value:res.data[i].VesselClassId});}_this5.setState({classnamemaster:formattedData});}else{}}).catch(function(err){});}catch(err){}}},{key:\"getCountry\",value:function getCountry(){var _this6=this;try{var data={stringmaptype:'COUNTRY',orderby:'sortorder'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){console.log(\"===========Bounder Class Data\",res.data);var formattedData=[];if(res.success){for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].StringMapName,value:res.data[i].StringMapKey});}_this6.setState({countrymaster:formattedData});}else{}}).catch(function(err){console.log(\"error\",err);});}catch(error){console.log(\"err\",error);}}},{key:\"editBand\",value:function editBand(e){debugger;var filterData=this.state.filter;filterData.classname=e.Class;filterData.vesseltype=e.Type;filterData.classid=e.VesselClassId;filterData.vesseltypeid=e.VesselTypeId;filterData.country=e.Country;filterData.countryid=e.Country;this.setState({toogleAddUpdateRatingBandModal:true,rangeFrom:e.From,rangeTo:e.To,Excess:e.Excess,RNRate:e.BaseRateRENP,RNABAmount:e.BaseRateREN,newBZRate:e.BaseRateNewP,newBZABAmount:e.BaseRateNew,currency:e.Currency,filter:filterData,isEdit:true,isView:false,isAdd:false,effectiveDate:moment(e.effectiveDate).format(\"YYYY-MM-DD\")>moment().format(\"YYYY-MM-DD\")?moment(e.effectiveDate).format(\"YYYY-MM-DD\"):moment().format(\"YYYY-MM-DD\"),rangeFromError:false,rangeToError:false,ExcessError:false,RNRateError:false,RNABAmountError:false,newBZRateError:false,newBZABAmountError:false,isRate:e.isRate,rateOrAmount:e.rateOrAmount,BinderRatingBandHistoryId:e.id,Class:e.Class,Status:e.Status});}},{key:\"viewBand\",value:function viewBand(e){var filterData=this.state.filter;filterData.classname=e.Class;filterData.vesseltype=e.Type;filterData.classid=e.VesselClassId;filterData.vesseltypeid=e.VesselTypeId;filterData.country=e.Country;filterData.countryid=e.Country;this.setState({toogleAddUpdateRatingBandModal:true,rangeFrom:e.From,rangeTo:e.To,Excess:e.Excess,RNRate:e.BaseRateRENP,RNABAmount:e.BaseRateREN,newBZRate:e.BaseRateNewP,newBZABAmount:e.BaseRateNew,BinderRatingBandHistoryId:e.id,currency:e.Currency,filter:filterData,isEdit:false,isView:true,isAdd:false,effectiveDate:moment(e.effectiveDate).format(\"YYYY-MM-DD\"),rangeFromError:false,rangeToError:false,ExcessError:false,RNRateError:false,RNABAmountError:false,newBZRateError:false,newBZABAmountError:false,isRate:e.isRate,rateOrAmount:e.rateOrAmount,Status:e.Status});}},{key:\"addBand\",value:function addBand(){if(this.state.BinderId==''){toast.error('To add Rating Band Please Create New binder or edit existing Binder');}else if(this.state.filter.classid==''){toast.error('Please Select Vessel Class');}else if(this.state.filter.vesseltypeid==''){toast.error('Please Select Vessel Type');}else if(this.state.filter.country==''){toast.error('Please Select Country');}else{this.setState({toogleAddUpdateRatingBandModal:true,rangeFrom:'',rangeTo:'',Excess:'',RNRate:'',RNABAmount:'',newBZRate:'',newBZABAmount:'',BinderRatingBandHistoryId:'',currency:'',isEdit:false,isView:false,isAdd:true,isRate:true,rateOrAbsolute:\"Rate\",effectiveDate:moment().format(\"YYYY-MM-DD\"),rangeFromError:true,rangeToError:true,ExcessError:true,RNRateError:true,RNABAmountError:true,newBZRateError:true,newBZABAmountError:true});}}},{key:\"deleteBand\",value:function deleteBand(){var _this7=this;var data={\"BinderRatingBandHistoryId\":this.state.BinderRatingBandHistoryId,\"UserId\":CommonConfig.loggedInUserId(),\"IsDescard\":true,\"Status\":\"Inactive\",\"CurrentUser\":CommonConfig.loggedInUserId()};api.post(APIConstant.path.deleteRatingBinder,data).then(function(res){if(res.success){debugger;// if (res.data[0][0].ErrorMsg !== \"\") {\n//     console.log(res.data[0][0])\n//     toast.error(res.data[0][0].ErrorMsg);\n// } else {\ntoast.success(\"Rating Band successfully deleted\");// }\n_this7.toggleLarge();_this7.getRatingBinder(_this7.state.BinderId);_this7.setState({toogleAddUpdateRatingBandModal:false});}}).catch(function(err){console.log(err);});}},{key:\"valid\",value:function valid(){debugger;var valid=false;if(this.state.rangeFromError){toast.error('Please Enter Range From');}else if(this.state.rangeToError){toast.error('Please Enter Range To');}else if(this.state.ExcessError){toast.error('Please Enter Excess');}else if(this.state.RNRateError&&this.state.isRate==true){toast.error('Please Enter Renewal Rate (%)');}// else if (parseInt(this.state.RNRate) == 0 && this.state.isRate == true) {\n//     toast.error('Please Enter More than 0 Renewal Rate (%)');\n// } \nelse if(this.state.RNABAmountError&&this.state.isRate==false){toast.error('Please Enter Renewal Absolute Amount');}// else if (parseInt(this.state.RNABAmount) == 0 && this.state.isRate == false) {\n//     toast.error('Please Enter More than 0 Renewal Absolute Amount');\n// } \nelse if(this.state.newBZRateError&&this.state.isRate==true){toast.error('Please Enter New Business Rate (%)');}//  else if (parseInt(this.state.newBZRate) == 0 && this.state.isRate == true) {\n//     toast.error('Please Enter More than 0 New Business Rate (%)');\n// } \nelse if(this.state.newBZABAmountError&&this.state.isRate==false){toast.error('Please Enter New Business Absolute Amount');}//  else if (parseInt(this.state.newBZABAmount) == 0 && this.state.isRate == false) {\n//     toast.error('Please Enter More than 0 New Business Absolute Amount');\n// }\nelse{valid=true;}return valid;}},{key:\"updateRatingBand\",value:function updateRatingBand(results){debugger;this.setState({toggleUpdateModal:true,BinderRatingBandHistoryId:results[0].id,BinderRatingBandFrom:this.state.rangeFrom,BinderRatingBandTo:this.state.rangeTo,currentEffectiveDate:this.state.effectiveDate,updateEffectiveDate:moment(results[0].effectiveDate).format('DD-MM-YYYY'),effectiveDate:results[0].effectiveDate,BinderRatingBandVesselClass:this.state.Class,oldBinderRatingBandHistoryId:this.state.BinderRatingBandHistoryId,isAdd:false,isEdit:true});}},{key:\"addUpdateRatingBand\",value:function addUpdateRatingBand(){var _this8=this;// this.toggleUpdateLarge();\nif(this.valid()){debugger;var results=this.state.RatingBandsData.filter(function(RatingBands){return RatingBands.From==_this8.state.rangeFrom&&RatingBands.To==_this8.state.rangeTo&&RatingBands.effectiveDate==_this8.state.effectiveDate&&RatingBands.id!==_this8.state.BinderRatingBandHistoryId&&RatingBands.Status=='Active';});var resultsData=this.state.RatingBandsData.filter(function(RatingBands){return RatingBands.From==_this8.state.rangeFrom&&RatingBands.To==_this8.state.rangeTo&&RatingBands.id===_this8.state.BinderRatingBandHistoryId;});if(results.length>0){this.updateRatingBand(results);}else{var isAdd=this.state.isAdd;var isEdit=this.state.isEdit;if(resultsData.length>0){if(this.state.effectiveDate!==resultsData[0].effectiveDate&&this.state.isEdit){isAdd=true;isEdit=false;}}var data={\"BinderRatingBandHistoryId\":this.state.isEdit?this.state.BinderRatingBandHistoryId:\"\",\"BinderId\":this.state.BinderId,\"UserId\":CommonConfig.loggedInUserId(),\"VesselClassId\":this.state.filter.classid,\"CurrencyId\":this.state.currency,\"CountryId\":this.state.filter.countryid,\"VesselTypeId\":this.state.filter.vesseltypeid,\"Country\":this.state.filter.country,\"RangeFrom\":this.state.rangeFrom.replace(\",\",\"\"),\"RangeTo\":this.state.rangeTo.replace(\",\",\"\"),\"Excess\":this.state.Excess,\"RenewalRatePercent\":this.state.RNRate?this.state.RNRate:0,\"RenewalRateAbsolute\":this.state.RNABAmount?this.state.RNABAmount:0,\"NewBusinessRatePercent\":this.state.newBZRate?this.state.newBZRate:0,\"NewBusinessRateAbsolute\":this.state.newBZABAmount?this.state.newBZABAmount:0,\"StartDate\":this.state.effectiveDate,\"IsAdd\":isAdd,\"IsEdit\":isEdit,\"IsDescard\":false,\"CurrentUser\":CommonConfig.loggedInUserId(),\"LanguageId\":this.state.LanguageId,\"Status\":\"Active\"};api.post(APIConstant.path.addUpdateBinderRatingBands,data).then(function(res){console.log(res);if(res.success){var filterData=_this8.state.filter;// filterData.classname = ''\n// filterData.vesseltype = ''\n// filterData.classid = ''\n// filterData.vesseltypeid = ''\n// filterData.country = ''\n// filterData.countryid = ''\n// this.setState({ filter: filterData })\ntoast.success(res.data.message);_this8.getRatingBinder(_this8.state.BinderId);}else{toast.error(res.data.message);}_this8.addRatingBand();}).catch(function(err){console.log(err);_this8.addRatingBand();});}}}},{key:\"getRatingBinder\",value:function getRatingBinder(BinderId){var _this9=this;if(this.state.filter.classid!=\"\"||this.state.filter.country!=\"\"){var data={\"BinderId\":BinderId,\"UserId\":CommonConfig.loggedInUserId(),\"VesselClassId\":this.state.filter.classid,\"VesselTypeId\":this.state.filter.vesseltypeid,\"Country\":this.state.filter.country,\"DisplayName\":this.state.filter.displayname// \"isHideRemoved\": this.state.isHideRemoved\n};api.post(APIConstant.path.getBinderRatingBinder,data).then(function(res){debugger;console.log(res);if(res.success){console.log(\"===========Binder Rating Data\");console.log(res.data);_this9.setState({RatingBandsBulkUpload:res.data[0].map(function(obj,key){return{Row:key+1,Class:obj.VesselClassName==undefined?\"NA\":obj.VesselClassName,Type:obj.VesselTypeName==undefined?\"NA\":obj.VesselTypeName,From:obj.RangeFrom,To:obj.RangeTo,Excess:obj.Excess,BaseRateRENP:obj.RenewalRatePercent,BaseRateREN:obj.RenewalRateAbsolute,BaseRateNewP:obj.NewBusinessRatePercent,BaseRateNew:obj.NewBusinessRateAbsolute,Country:obj.Country,Status:\"\",ErrorMessage:\"\"};})});_this9.setState({RatingBandsData:res.data[0].map(function(obj){return{id:obj.BinderRatingBandHistoryId,Class:obj.VesselClassName==undefined?\"NA\":obj.VesselClassName,Type:obj.VesselTypeName==undefined?\"NA\":obj.VesselTypeName,From:obj.RangeFrom.toLocaleString(),To:obj.RangeTo.toLocaleString(),Excess:obj.Excess,BaseRateRENP:obj.RenewalRatePercent,BaseRateREN:obj.RenewalRateAbsolute,BaseRateNewP:obj.NewBusinessRatePercent,BaseRateNew:obj.NewBusinessRateAbsolute,VesselClassId:obj.VesselClassId,VesselTypeId:obj.VesselTypeId,Currency:obj.Currency,Country:obj.Country,UMRN:obj.UMRN,isRate:obj.RenewalRatePercent>0&&obj.NewBusinessRatePercent>0?true:false,rateOrAmount:obj.RenewalRatePercent>0&&obj.NewBusinessRatePercent>0?\"Rate\":\"Amount\",effectiveDate:moment(obj.StartDate).format(\"YYYY-MM-DD\"),effectiveDateView:moment(obj.StartDate).format(\"DD-MM-YYYY\"),Qualifier:obj.Qualifier,IsCurrent:obj.IsCurrent,ACTION:obj.ACTION,Status:obj.Status};})});}}).catch(function(err){console.log(err);});}else{toast.error('Please Select Vessel Class or Country');}}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this10=this;// debugger;\nreturn/*#__PURE__*/React.createElement(\"div\",null,rowData.ACTION==\"Edit\"?/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-pencil\",className:\"p-button-warning\",onClick:function onClick(){return _this10.editBand(rowData);},style:{marginRight:'.5em'},tooltip:\"Edit\",tooltipOptions:{position:'bottom'}}):\"\",rowData.ACTION==\"View\"?/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-eye\",className:\"p-button-primary\",onClick:function onClick(){return _this10.viewBand(rowData);},style:{marginRight:'.5em'},tooltip:\"View\",tooltipOptions:{position:'bottom'}}):\"\");}},{key:\"componentWillMount\",value:function componentWillMount(){}},{key:\"getBounderRisk\",value:function getBounderRisk(BinderId){var _this11=this;var data={\"BinderId\":BinderId,\"UserId\":CommonConfig.loggedInUserId()};api.post(APIConstant.path.getBounder,data).then(function(res){console.log(res);if(res.success){console.log(\"===========Bounder Class Data\",res.data);// console.log(res.data)\nvar formattedData=[];if(res.success){for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].Country,value:res.data[i].Country});}_this11.setState({countrymaster:formattedData});}else{}}}).catch(function(err){console.log(err);});}},{key:\"getAuthorizeClass\",value:function getAuthorizeClass(BinderID){var _this12=this;var data={\"BinderId\":BinderID};api.post(APIConstant.path.getAuthorizeClass,data).then(function(res){console.log(\"getAuthorizeClass\",res);var formattedData=[];if(res.success){for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].VesselClassName,value:res.data[i].VesselClassId});}_this12.setState({classnamemaster:formattedData});}else{}}).catch(function(err){console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var splitData=this.props.location.pathname.split(\"/\");// if (splitData[3] !== undefined) {\nif(!CommonConfig.isEmpty(splitData[3])){this.setState({BinderId:splitData[3]});// this.getRatingBinder(splitData[3])\nthis.getAuthorizeClass(splitData[3]);this.getBounderRisk(splitData[3]);this.getBinderData(splitData[3]);}// if (this.props.match.params.constructor === Object && Object.keys(this.props.match.params).length !== 0) {\n//     this.setState({ BinderId: this.props.match.params.Id })\n//     // this.getRatingBinder(this.props.match.params.Id)\n//     this.getAuthorizeClass(this.props.match.params.Id)\n//     this.getBounderRisk(this.props.match.params.Id)\n//     this.getBinderData(this.props.match.params.Id)\n// }\n// this.getCountry()\nthis.getCurrency();this.getDisplayName();// this.getVesselClass()\n}},{key:\"getBinderData\",value:function getBinderData(binderId){var _this13=this;try{var data={\"binderId\":binderId};api.post(APIConstant.path.getBinderDataById,data).then(function(res){console.log(res);var data=res.data[0];_this13.setState({UMRN:data.UMRN,Currency:data.Currency});_this13.GetSelectedAuthorizeGroup(data.BinderId);_this13.getNextBinderList();}).catch(function(err){});}catch(err){}}},{key:\"getDisplayName\",value:function getDisplayName(){var _this14=this;try{var data={stringmaptype:'DISPLAYMODE'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){console.log(\"displayname\",res.data);var displayname=[];for(var i=0;i<res.data.length;i++){displayname.push({label:res.data[i].StringMapName,value:res.data[i].Description});}_this14.setState({displaynamemaster:displayname});}else{}}).catch(function(err){console.log(\"error\",err);});}catch(error){console.log(\"error\",error);}}},{key:\"filterList\",value:function filterList(){}},{key:\"addRatingBand\",value:function addRatingBand(){this.setState({toogleAddUpdateRatingBandModal:!this.state.toogleAddUpdateRatingBandModal});}},{key:\"handleCallBack\",value:function handleCallBack(aBool){this.setState({toogleBulkUpload:aBool});this.getRatingBinder(this.state.BinderId);}},{key:\"show\",value:function show(field,condition){console.log(\"show\",field);console.log(\"show\",condition);if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"render\",value:function render(){var _this15=this;// console.log(\"Rating Band---\", this.state)\nvar columns1='';var columns='';if(this.state.showBulkdt==true){columns1=this.state.cols1.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode});});}else{columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode});});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box col-md-12\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"1.5\",style:{padding:\"0px 10px\"}},/*#__PURE__*/React.createElement(\"label\",null,\"Class Name *\")),/*#__PURE__*/React.createElement(Col,{md:\"2.5\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"classname\",id:\"classname\",onChange:function onChange(e){return _this15.selectType(e.target,'classname');},value:this.state.filter.classid},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select class name\"),this.state.classnamemaster.map(function(type,i){return/*#__PURE__*/React.createElement(\"option\",{value:type.value,label:type.label});})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please select ClassName\")),/*#__PURE__*/React.createElement(Col,{md:\"1.5\",style:{padding:\"0px 10px\"}},/*#__PURE__*/React.createElement(\"label\",null,\"Vessel Type *\")),/*#__PURE__*/React.createElement(Col,{md:\"2.5\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"vesseltype\",id:\"vesseltype\",onChange:function onChange(e){return _this15.selectType(e.target,'vesseltype');},value:this.state.filter.vesseltypeid},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select VesselType\"),this.state.vesseltypemaster.map(function(type,i){return/*#__PURE__*/React.createElement(\"option\",{value:type.value,label:type.label},type.label);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please select VesselType\")),/*#__PURE__*/React.createElement(Col,{md:\"1.5\",style:{padding:\"0px 10px\"}},/*#__PURE__*/React.createElement(\"label\",null,\"Country *\")),/*#__PURE__*/React.createElement(Col,{md:\"2.5\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"country\",id:\"country\",onChange:function onChange(e){return _this15.selectType(e.target,'country');},value:this.state.filter.country},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select Country\"),this.state.countrymaster.map(function(type,i){return/*#__PURE__*/React.createElement(\"option\",{value:type.value,label:type.label},type.label);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please select Country\")),/*#__PURE__*/React.createElement(Col,{md:\"1.5\",style:{padding:\"0px 10px\"}},/*#__PURE__*/React.createElement(\"label\",null,\"Display Name *\")),/*#__PURE__*/React.createElement(Col,{md:\"2.5\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"displayname\",id:\"displayname\",onChange:function onChange(e){return _this15.selectType(e.target,'displayname');},value:this.state.filter.displayname},this.state.displaynamemaster.map(function(type,i){return/*#__PURE__*/React.createElement(\"option\",{value:type.value,label:type.label},type.label);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please select Country\")),/*#__PURE__*/React.createElement(Col,{md:\"1\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",style:{marginRight:'.5em',borderRadius:\"20px\"},onClick:function onClick(){return _this15.getRatingBinder(_this15.state.BinderId);},title:\"Go\"},\" Go \"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option col-md-5\",style:{marginLeft:\"auto\"}},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"isHideRemoved\",id:\"isHideRemoved\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.isHideRemoved,checked:this.state.isHideRemoved==true}),/*#__PURE__*/React.createElement(\"label\",null,\"Hide Removed\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-plus\",tooltip:\"Add Rating Band\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this15.addBand();}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",tooltip:\"Bulk Uploads\",label:\"Bulk Uploads\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this15.toggleBulkUpload();},style:{margin:\"0px 10px\"}}),/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\",onChange:this.onColumnToggle,style:{width:'50px'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",tooltip:\"Export as CSV\",tooltipOptions:{position:'bottom'},onClick:this.export,style:{marginRight:10}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-question-circle\",tooltip:\"Bulk Upload User Guide\",tooltipOptions:{position:'bottom'},onClick:this.downloadUserGuide,style:{marginRight:10}})),this.state.showBulkdt==true?/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this15.dt=el;},value:this.state.RatingBandsBulkUpload,first:this.state.selectedPage,onPage:function onPage(e){return _this15.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.RatingBandsBulkUpload.length,exportFilename:\"Rating Band List\",currentPageReportTemplate:this.state.str,scrollable:true,scrollHeight:\"340px\",paginatorTemplate:this.state.paginatorTemplate,rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"//stateKey=\"contactList\" stateStorage=\"local\" header={header} \n},columns1)):/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this15.dt=el;},value:this.state.RatingBandsData,first:this.state.selectedPage,onPage:function onPage(e){return _this15.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.RatingBandsData.length,exportFilename:\"Rating Band List\",currentPageReportTemplate:this.state.str,scrollable:true,scrollHeight:\"340px\",paginatorTemplate:this.state.paginatorTemplate,rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"//stateKey=\"contactList\" stateStorage=\"local\" header={header} \n},columns),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toogleAddUpdateRatingBandModal,toggle:function toggle(){return _this15.toggleAddUpdate();},className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:function toggle(){return _this15.toggleAddUpdate();}},\"Add/Update RatingBands\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Binder\")),/*#__PURE__*/React.createElement(Col,{md:\"5\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.UMRN)),/*#__PURE__*/React.createElement(Col,{md:\"1\"},/*#__PURE__*/React.createElement(\"label\",null,\"Currency\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.Currency))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,\"Class Name\")),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.filter.classname)),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,\"Vessel Type\")),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.filter.vesseltype)),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,\"Country\")),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.filter.country))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Range From*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isEdit||this.state.isView,name:\"rangeFrom\",id:\"rangeFrom\",placeholder:\"Range From\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.rangeFrom}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Range From\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"To*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isEdit||this.state.isView,name:\"rangeTo\",id:\"rangeTo\",placeholder:\"Range To\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.rangeTo}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Range To \"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Excess*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isView,name:\"Excess\",id:\"Excess\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.Excess}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Excess\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Rate or Amount*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",disabled:this.state.isView,name:\"rateOrAmount\",id:\"rateOrAmount\",onChange:function onChange(e){return _this15.selectType(e.target,'rateOrAmount');},value:this.state.rateOrAmount},/*#__PURE__*/React.createElement(\"option\",{value:\"Rate\"},\"Rate(%)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Amount\"},\"Absolute Amount\")))),this.state.isRate?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Renewal Rate (%)*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isView,name:\"RNRate\",id:\"RNRate\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.RNRate}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Renewal Rate (%)\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"New Business Rate (%)*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isView,name:\"newBZRate\",id:\"newBZRate\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.newBZRate}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter New Business Rate (%)\"))):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Renewal Absolute Amount*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isView,name:\"RNABAmount\",id:\"RNABAmount\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.RNABAmount}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Renewal Absolute Amount\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"New Business Absolute Amount*\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:this.state.isView,name:\"newBZABAmount\",id:\"newBZABAmount\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.newBZABAmount}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter New Business Absolute Amount\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Effective Date\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"effectiveDate\",disabled:this.state.isView,id:\"effectiveDate\",onChange:function onChange(e){return _this15.handleChange(e);},value:this.state.effectiveDate,min:moment().format('YYYY-MM-DD'),max:moment().add(100,'years').format('YYYY-MM-DD')}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Valid Effective Date\")))),/*#__PURE__*/React.createElement(ModalFooter,null,this.state.isEdit||this.state.isAdd?/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this15.addUpdateRatingBand();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"):\"\",this.state.isEdit&&this.state.effectiveDate>moment().format('YYYY-MM-DD')?/*#__PURE__*/React.createElement(BTN,{color:\"danger\",onClick:function onClick(){return _this15.openDeleteModal();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-times\"}),\" Discard\"):\"\",/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this15.toggleAddUpdate();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toogleBulkUpload,toggle:function toggle(){return _this15.toggleBulkUpload();},className:'modal-lg '+this.props.className,style:{maxWidth:\"1200px\"}},/*#__PURE__*/React.createElement(ModalHeader,{toggle:function toggle(){return _this15.toggleBulkUpload();}},\"Bulk Upload\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(BulkUpload,{name:\"bhavik\",BinderId:this.state.BinderId,handleCallBack:this.handleCallBack.bind(this)}))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toggleModal,toggle:this.toggleLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleLarge},\"Delete Rating Band\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure, You want to delete \",this.state.BinderRatingBandVesselClass,\" \",this.state.BinderRatingBandFrom,\" - \",this.state.BinderRatingBandTo,\" of \",this.state.BinderRatingBandEffectiveDate,\" Rating Band?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this15.deleteBand();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Delete\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.toggleLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\"Cancel\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toggleUpdateModal,toggle:this.toggleUpdateLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleUpdateLarge},\"Update Rating Band\"),/*#__PURE__*/React.createElement(ModalBody,null,\"We have already record of \",this.state.updateEffectiveDate,\" for \",this.state.BinderRatingBandFrom,\" - \",this.state.BinderRatingBandTo,\" Rating Band. \",/*#__PURE__*/React.createElement(\"br\",null),\" Do You want to update \",this.state.BinderRatingBandVesselClass,\" \",this.state.BinderRatingBandFrom,\" - \",this.state.BinderRatingBandTo,\" Rating Band?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){_this15.addUpdateRatingBand();_this15.toggleUpdateLarge();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Yes\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.toggleUpdateLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\"No\")))));}}]);return RatingBands;}(Component);export default withTranslation()(RatingBands);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Binder/AddUdateBinder/RatingBand.js"],"names":["React","Component","Col","Row","Modal","ModalBody","ModalHeader","ModalFooter","Button","BTN","Input","withTranslation","DataTable","Column","MultiSelect","InputText","CommonConfig","BulkUpload","api","APIConstant","moment","toast","userGuide","RatingBands","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","RatingBandsData","length","str","setState","selectedPage","rowsPerPage","openDeleteModal","rowData","toggleModal","BinderRatingBandHistoryId","BinderRatingBandFrom","rangeFrom","BinderRatingBandTo","rangeTo","BinderRatingBandVesselClass","Class","BinderRatingBandEffectiveDate","effectiveDate","format","toggleLarge","toggleUpdateLarge","toggleUpdateModal","oldBinderRatingBandHistoryId","selectType","event","type","filterData","filter","value","undefined","country","countryid","index","countrymaster","findIndex","x","data","vesseltype","vesseltypeid","vesseltypemaster","label","classname","classid","classnamemaster","getVesselType","currency","displaynamemaster","displayname","rateOrAmount","isRate","RNABAmount","newBZABAmount","RNRate","newBZRate","toggleAddUpdate","toogleAddUpdateRatingBandModal","toggleBulkUpload","BinderId","error","toogleBulkUpload","handleChange","target","name","decimalRegExp","RegExp","decimalWithOne","rangeFromError","show","test","rangeToError","ExcessError","Excess","RNRateError","RNABAmountError","newBZRateError","newBZABAmountError","effectiveDateError","isHideRemoved","checked","RatingBandsDataAll","results","Status","columns","field","header","sortable","filterMatchMode","id","body","actionTemplate","bind","columns1","orginial","LanguageId","i18n","language","cols","cols1","UMRN","countryError","classnameError","vesseltypeError","currencyError","currencymaster","rowsPerPageOptions","dataTableConfig","globalFilter","paginatorTemplate","RatingBandsBulkUpload","showBulkdt","colOptions","col","push","colOptions1","col1","onColumnToggle","export","downloadUserGuide","handleCallBack","window","location","href","localStorage","removeItem","valueInOrder","sort","y","setTimeout","dt","exportCSV","VesselClassId","post","path","then","res","success","console","log","formattedData","i","VesselTypeName","VesselTypeId","catch","err","get","getCurrency","CurrncyCode","getVesselClass","VesselClassName","stringmaptype","orderby","dropdownbycode","StringMapName","StringMapKey","Type","Country","From","To","BaseRateRENP","BaseRateREN","BaseRateNewP","BaseRateNew","Currency","isEdit","isView","isAdd","rateOrAbsolute","loggedInUserId","deleteRatingBinder","getRatingBinder","valid","currentEffectiveDate","updateEffectiveDate","resultsData","updateRatingBand","replace","addUpdateBinderRatingBands","message","addRatingBand","getBinderRatingBinder","map","obj","key","RangeFrom","RangeTo","RenewalRatePercent","RenewalRateAbsolute","NewBusinessRatePercent","NewBusinessRateAbsolute","ErrorMessage","toLocaleString","StartDate","effectiveDateView","Qualifier","IsCurrent","ACTION","column","editBand","marginRight","position","viewBand","getBounder","BinderID","getAuthorizeClass","splitData","pathname","split","isEmpty","getBounderRisk","getBinderData","getDisplayName","binderId","getBinderDataById","GetSelectedAuthorizeGroup","getNextBinderList","Description","aBool","condition","document","getElementById","className","padding","borderRadius","marginLeft","addBand","margin","columnToggleIcon","width","el","add","addUpdateRatingBand","maxWidth","deleteBand"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Col, Row, Modal, ModalBody, ModalHeader, ModalFooter, Button as BTN, Input } from 'reactstrap';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Button } from 'primereact/button';\r\nimport { CommonConfig } from '../../../utils/constants';\r\nimport { BulkUpload } from './BulkUpload';\r\nimport api from '../../../utils/apiClient';\r\nimport APIConstant from '../../../utils/constants';\r\nimport moment from 'moment';\r\nimport { toast } from 'react-toastify';\r\nimport userGuide from \"../../../assets/User Manual/Binder Bulk Upload Guide.pdf\"\r\n\r\nclass RatingBands extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let columns = [\r\n            { field: \"Class\", header: \"Class\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\r\n            { field: \"Type\", header: \"Type\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\r\n            { field: \"Country\", header: \"Country\", sortable: true, filter: true, filterMatchMode: 'contains', id: 2 },\r\n            { field: \"From\", header: \"From\", sortable: true, filter: true, filterMatchMode: 'contains', id: 3 },\r\n            { field: \"To\", header: \"To\", sortable: true, filter: true, filterMatchMode: 'contains', id: 4 },\r\n            { field: \"Excess\", header: \"Excess\", sortable: true, filter: true, filterMatchMode: 'contains', id: 5 },\r\n            { field: \"BaseRateRENP\", header: \"Base Rate % - RENEWAL\", sortable: true, filter: true, filterMatchMode: 'contains', id: 6 },\r\n            { field: \"BaseRateREN\", header: \"Base Absolute Amount RENEWAL\", sortable: true, filter: true, filterMatchMode: 'contains', id: 7 },\r\n            { field: \"BaseRateNewP\", header: \"Base Rate % - NEW Business\", sortable: true, filter: true, filterMatchMode: 'contains', id: 8 },\r\n            { field: \"BaseRateNew\", header: \"Base Absolute Amount NEW Business\", sortable: true, filter: true, filterMatchMode: 'contains', id: 9 },\r\n            { field: \"effectiveDateView\", header: \"Effective Date\", sortable: true, filter: true, filterMatchMode: 'contains', id: 10 },\r\n            { field: \"Qualifier\", header: \"Qualifier\", sortable: true, filter: true, filterMatchMode: 'contains', id: 11 },\r\n            { field: \"IsCurrent\", header: \"Is Current\", sortable: true, filter: true, filterMatchMode: 'contains', id: 12 },\r\n            { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, filterMatchMode: 'contains', id: 13 }\r\n        ];\r\n\r\n        let columns1 = [\r\n            { field: \"Row\", header: \"Row\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\r\n            { field: \"Country\", header: \"Country\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\r\n            { field: \"Class\", header: \"CLASS\", sortable: true, filter: true, filterMatchMode: 'contains', id: 2 },\r\n            { field: \"Type\", header: \"TYPE\", sortable: true, filter: true, filterMatchMode: 'contains', id: 3 },\r\n            { field: \"From\", header: \"Value From\", sortable: true, filter: true, filterMatchMode: 'contains', id: 4 },\r\n            { field: \"To\", header: \"Value To\", sortable: true, filter: true, filterMatchMode: 'contains', id: 5 },\r\n            { field: \"Excess\", header: \"Excess\", sortable: true, filter: true, filterMatchMode: 'contains', id: 6 },\r\n            { field: \"BaseRateNewP\", header: \"Base Rate(%) - New Business\", sortable: true, filter: true, filterMatchMode: 'contains', id: 7 },\r\n            { field: \"BaseRateNew\", header: \"Absolute - New Business\", sortable: true, filter: true, filterMatchMode: 'contains', id: 8 },\r\n            { field: \"BaseRateRENP\", header: \"Base Rate(%) – Renewal\", sortable: true, filter: true, filterMatchMode: 'contains', id: 10 },\r\n            { field: \"BaseRateREN\", header: \"Absolute – Renewal\", sortable: true, filter: true, filterMatchMode: 'contains', id: 11 },\r\n            { field: \"Status\", header: \"Status\", sortable: true, filter: true, filterMatchMode: 'contains', id: 12 },\r\n            { field: \"ErrorMessage\", header: \"Error Message\", sortable: true, filter: true, filterMatchMode: 'contains', id: 13 },\r\n        ];\r\n\r\n        const orginial = this.setState;\r\n        // this.state = JSON.parse(localStorage.getItem('ratingbandstate'))\r\n        //     ? JSON.parse(localStorage.getItem('ratingbandstate'))\r\n        //     : \r\n        this.state = {\r\n            LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n            cols: columns,\r\n            cols1: columns1,\r\n            toogleAddUpdateRatingBandModal: false,\r\n            toogleBulkUpload: false,\r\n            filter: {\r\n                country: \"\",\r\n                countryid: \"\",\r\n                classname: \"\",\r\n                classid: \"\",\r\n                vesseltype: \"\",\r\n                vesseltypeid: \"\",\r\n                displayname: \"Current\"\r\n            },\r\n            BinderId: \"\",\r\n            //dev 1\r\n            UMRN: \"\",\r\n            Excess: \"\",\r\n            rangeFrom: \"\",\r\n            rangeTo: \"\",\r\n            RNRate: \"\",\r\n            RNABAmount: \"\",\r\n            newBZRate: \"\",\r\n            newBZABAmount: \"\",\r\n            displaynamemaster: [],\r\n            countrymaster: [],\r\n            countryError: false,\r\n            classnamemaster: [],\r\n            classnameError: false,\r\n            vesseltypemaster: [],\r\n            vesseltypeError: false,\r\n            RatingBandsData: [],\r\n            currency: \"\",\r\n            currencyError: false,\r\n            currencymaster: [],\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            isRate: true,\r\n            rateOrAmount: \"Rate\",\r\n            paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\r\n            rangeFromError: true,\r\n            rangeToError: true,\r\n            ExcessError: true,\r\n            RNRateError: true,\r\n            RNABAmountError: true,\r\n            newBZRateError: true,\r\n            newBZABAmountError: true,\r\n            toggleUpdateModal: false,\r\n            isHideRemoved: false,\r\n            RatingBandsBulkUpload: [],\r\n            showBulkdt: false,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.colOptions1 = [];\r\n        for (let col1 of columns1) {\r\n            this.colOptions1.push({ label: col1.header, value: col1 });\r\n        }\r\n\r\n        this.onColumnToggle = this.onColumnToggle.bind(this);\r\n        this.actionTemplate = this.actionTemplate.bind(this);\r\n        this.export = this.export.bind(this);\r\n        this.downloadUserGuide = this.downloadUserGuide.bind(this);\r\n\r\n        var handleCallBack = this.handleCallBack.bind(this);\r\n    }\r\n\r\n    downloadUserGuide() {\r\n        window.location.href = userGuide;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        localStorage.removeItem('ratingbandstate')\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.RatingBandsData.length) ? l : this.state.RatingBandsData.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.RatingBandsData.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    onColumnToggle(event) {\r\n        let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\r\n        this.setState({ cols: valueInOrder });\r\n    }\r\n\r\n    export() {\r\n        this.state.showBulkdt = true;\r\n        this.setState({ showBulkdt: true });\r\n        setTimeout(() => {\r\n            setTimeout(() => {\r\n                this.state.showBulkdt = false;\r\n                this.setState({ showBulkdt: false });\r\n            }, 500);\r\n            this.dt.exportCSV();\r\n        }, 500);\r\n    }\r\n\r\n    getVesselType(value) {\r\n        try {\r\n            const data = {\r\n                VesselClassId: value\r\n            };\r\n            api.post(APIConstant.path.getVesselType, data).then(res => {\r\n                if (res.success) {\r\n                    console.log(\"VesselType....\", res.data);\r\n                    var formattedData = [];\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].VesselTypeName,\r\n                            value: res.data[i].VesselTypeId,\r\n                        });\r\n                    }\r\n                    this.setState({ vesseltypemaster: formattedData });\r\n                } else {\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n    getCurrency() {\r\n        try {\r\n            api.get(APIConstant.path.getCurrency).then(res => {\r\n                var formattedData = [];\r\n                if (res.success) {\r\n                    console.log(\"Currency....\", res.data);\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].CurrncyCode,\r\n                            value: res.data[i].CurrncyCode,\r\n                        });\r\n                    }\r\n                    this.setState({ currencymaster: formattedData });\r\n                } else {\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    getVesselClass() {\r\n        try {\r\n            api.get(APIConstant.path.getVesselClass).then(res => {\r\n                console.log(\"getAuthorizeClass\", res);\r\n                if (res.success) {\r\n                    console.log(\"VesselClass....\", res.data);\r\n                    var formattedData = [];\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].VesselClassName,\r\n                            value: res.data[i].VesselClassId,\r\n                        });\r\n                    }\r\n                    this.setState({ classnamemaster: formattedData });\r\n                } else {\r\n\r\n                }\r\n            }).catch(err => {\r\n\r\n            });\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    getCountry() {\r\n        try {\r\n            const data = {\r\n                stringmaptype: 'COUNTRY',\r\n                orderby: 'sortorder'\r\n            };\r\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\r\n                console.log(\"===========Bounder Class Data\", res.data)\r\n                var formattedData = [];\r\n                if (res.success) {\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].StringMapName,\r\n                            value: res.data[i].StringMapKey,\r\n                        });\r\n                    }\r\n                    this.setState({ countrymaster: formattedData });\r\n                } else {\r\n                }\r\n            }).catch(err => {\r\n                console.log(\"error\", err);\r\n            });\r\n        } catch (error) {\r\n            console.log(\"err\", error);\r\n        }\r\n    }\r\n\r\n    editBand(e) {\r\n        debugger;\r\n        var filterData = this.state.filter\r\n        filterData.classname = e.Class\r\n        filterData.vesseltype = e.Type\r\n        filterData.classid = e.VesselClassId\r\n        filterData.vesseltypeid = e.VesselTypeId\r\n        filterData.country = e.Country\r\n        filterData.countryid = e.Country\r\n        this.setState({\r\n            toogleAddUpdateRatingBandModal: true,\r\n            rangeFrom: e.From,\r\n            rangeTo: e.To,\r\n            Excess: e.Excess,\r\n            RNRate: e.BaseRateRENP,\r\n            RNABAmount: e.BaseRateREN,\r\n            newBZRate: e.BaseRateNewP,\r\n            newBZABAmount: e.BaseRateNew,\r\n            currency: e.Currency,\r\n            filter: filterData,\r\n            isEdit: true,\r\n            isView: false,\r\n            isAdd: false,\r\n            effectiveDate: (moment(e.effectiveDate).format(\"YYYY-MM-DD\") > moment().format(\"YYYY-MM-DD\")) ? moment(e.effectiveDate).format(\"YYYY-MM-DD\") : moment().format(\"YYYY-MM-DD\"),\r\n            rangeFromError: false,\r\n            rangeToError: false,\r\n            ExcessError: false,\r\n            RNRateError: false,\r\n            RNABAmountError: false,\r\n            newBZRateError: false,\r\n            newBZABAmountError: false,\r\n            isRate: e.isRate,\r\n            rateOrAmount: e.rateOrAmount,\r\n            BinderRatingBandHistoryId: e.id,\r\n            Class: e.Class,\r\n            Status: e.Status\r\n        })\r\n    }\r\n\r\n    viewBand(e) {\r\n        var filterData = this.state.filter\r\n        filterData.classname = e.Class\r\n        filterData.vesseltype = e.Type\r\n        filterData.classid = e.VesselClassId\r\n        filterData.vesseltypeid = e.VesselTypeId\r\n        filterData.country = e.Country\r\n        filterData.countryid = e.Country\r\n        this.setState({\r\n            toogleAddUpdateRatingBandModal: true,\r\n            rangeFrom: e.From,\r\n            rangeTo: e.To,\r\n            Excess: e.Excess,\r\n            RNRate: e.BaseRateRENP,\r\n            RNABAmount: e.BaseRateREN,\r\n            newBZRate: e.BaseRateNewP,\r\n            newBZABAmount: e.BaseRateNew,\r\n            BinderRatingBandHistoryId: e.id,\r\n            currency: e.Currency,\r\n            filter: filterData,\r\n            isEdit: false,\r\n            isView: true,\r\n            isAdd: false,\r\n            effectiveDate: moment(e.effectiveDate).format(\"YYYY-MM-DD\"),\r\n            rangeFromError: false,\r\n            rangeToError: false,\r\n            ExcessError: false,\r\n            RNRateError: false,\r\n            RNABAmountError: false,\r\n            newBZRateError: false,\r\n            newBZABAmountError: false,\r\n            isRate: e.isRate,\r\n            rateOrAmount: e.rateOrAmount,\r\n            Status: e.Status\r\n        })\r\n    }\r\n\r\n    addBand() {\r\n        if (this.state.BinderId == '') {\r\n            toast.error('To add Rating Band Please Create New binder or edit existing Binder');\r\n        }\r\n        else if (this.state.filter.classid == '') {\r\n            toast.error('Please Select Vessel Class');\r\n        } else if (this.state.filter.vesseltypeid == '') {\r\n            toast.error('Please Select Vessel Type');\r\n        } else if (this.state.filter.country == '') {\r\n            toast.error('Please Select Country');\r\n        } else {\r\n            this.setState({\r\n                toogleAddUpdateRatingBandModal: true,\r\n                rangeFrom: '',\r\n                rangeTo: '',\r\n                Excess: '',\r\n                RNRate: '',\r\n                RNABAmount: '',\r\n                newBZRate: '',\r\n                newBZABAmount: '',\r\n                BinderRatingBandHistoryId: '',\r\n                currency: '',\r\n                isEdit: false,\r\n                isView: false,\r\n                isAdd: true,\r\n                isRate: true,\r\n                rateOrAbsolute: \"Rate\",\r\n                effectiveDate: moment().format(\"YYYY-MM-DD\"),\r\n                rangeFromError: true,\r\n                rangeToError: true,\r\n                ExcessError: true,\r\n                RNRateError: true,\r\n                RNABAmountError: true,\r\n                newBZRateError: true,\r\n                newBZABAmountError: true,\r\n            })\r\n        }\r\n    }\r\n\r\n    openDeleteModal = (rowData) => {\r\n        debugger;\r\n        this.setState({\r\n            toggleModal: !this.state.toggleModal,\r\n            BinderRatingBandHistoryId: this.state.BinderRatingBandHistoryId,\r\n            BinderRatingBandFrom: this.state.rangeFrom,\r\n            BinderRatingBandTo: this.state.rangeTo,\r\n            BinderRatingBandVesselClass: this.state.Class,\r\n            BinderRatingBandEffectiveDate: moment(this.state.effectiveDate).format('DD-MM-YYYY')\r\n        });\r\n    }\r\n\r\n    toggleLarge = () => {\r\n        this.setState({\r\n            toggleModal: false,\r\n            // BinderRatingBandHistoryId: \"\",\r\n            // BinderRatingBandFrom: \"\",\r\n            // BinderRatingBandTo: \"\",\r\n            // BinderRatingBandVesselClass: \"\",\r\n        });\r\n    }\r\n\r\n    toggleUpdateLarge = () => {\r\n        this.setState({\r\n            toggleUpdateModal: false,\r\n            BinderRatingBandHistoryId: this.state.oldBinderRatingBandHistoryId ? this.state.oldBinderRatingBandHistoryId : this.state.BinderRatingBandHistoryId\r\n            // BinderRatingBandHistoryId: \"\",\r\n            // BinderRatingBandFrom: \"\",\r\n            // BinderRatingBandTo: \"\",\r\n            // BinderRatingBandVesselClass: \"\",\r\n        });\r\n    }\r\n\r\n    deleteBand() {\r\n        let data = {\r\n            \"BinderRatingBandHistoryId\": this.state.BinderRatingBandHistoryId,\r\n            \"UserId\": CommonConfig.loggedInUserId(),\r\n            \"IsDescard\": true,\r\n            \"Status\": \"Inactive\",\r\n            \"CurrentUser\": CommonConfig.loggedInUserId(),\r\n        }\r\n        api.post(APIConstant.path.deleteRatingBinder, data).then(res => {\r\n            if (res.success) {\r\n                debugger;\r\n                // if (res.data[0][0].ErrorMsg !== \"\") {\r\n                //     console.log(res.data[0][0])\r\n                //     toast.error(res.data[0][0].ErrorMsg);\r\n                // } else {\r\n                toast.success(\"Rating Band successfully deleted\");\r\n                // }\r\n                this.toggleLarge();\r\n                this.getRatingBinder(this.state.BinderId)\r\n                this.setState({ toogleAddUpdateRatingBandModal: false })\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    valid() {\r\n        debugger;\r\n        let valid = false;\r\n\r\n        if (this.state.rangeFromError) {\r\n            toast.error('Please Enter Range From');\r\n        } else if (this.state.rangeToError) {\r\n            toast.error('Please Enter Range To');\r\n        } else if (this.state.ExcessError) {\r\n            toast.error('Please Enter Excess');\r\n        } else if (this.state.RNRateError && this.state.isRate == true) {\r\n            toast.error('Please Enter Renewal Rate (%)');\r\n        }\r\n        // else if (parseInt(this.state.RNRate) == 0 && this.state.isRate == true) {\r\n        //     toast.error('Please Enter More than 0 Renewal Rate (%)');\r\n        // } \r\n        else if (this.state.RNABAmountError && this.state.isRate == false) {\r\n            toast.error('Please Enter Renewal Absolute Amount');\r\n        }\r\n        // else if (parseInt(this.state.RNABAmount) == 0 && this.state.isRate == false) {\r\n        //     toast.error('Please Enter More than 0 Renewal Absolute Amount');\r\n        // } \r\n        else if (this.state.newBZRateError && this.state.isRate == true) {\r\n            toast.error('Please Enter New Business Rate (%)');\r\n        }\r\n        //  else if (parseInt(this.state.newBZRate) == 0 && this.state.isRate == true) {\r\n        //     toast.error('Please Enter More than 0 New Business Rate (%)');\r\n        // } \r\n        else if (this.state.newBZABAmountError && this.state.isRate == false) {\r\n            toast.error('Please Enter New Business Absolute Amount');\r\n        }\r\n        //  else if (parseInt(this.state.newBZABAmount) == 0 && this.state.isRate == false) {\r\n        //     toast.error('Please Enter More than 0 New Business Absolute Amount');\r\n        // }\r\n        else {\r\n            valid = true;\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    updateRatingBand(results) {\r\n        debugger;\r\n        this.setState({\r\n            toggleUpdateModal: true,\r\n            BinderRatingBandHistoryId: results[0].id,\r\n            BinderRatingBandFrom: this.state.rangeFrom,\r\n            BinderRatingBandTo: this.state.rangeTo,\r\n            currentEffectiveDate: this.state.effectiveDate,\r\n            updateEffectiveDate: moment(results[0].effectiveDate).format('DD-MM-YYYY'),\r\n            effectiveDate: results[0].effectiveDate,\r\n            BinderRatingBandVesselClass: this.state.Class,\r\n            oldBinderRatingBandHistoryId: this.state.BinderRatingBandHistoryId,\r\n            isAdd: false,\r\n            isEdit: true,\r\n        });\r\n    }\r\n\r\n    addUpdateRatingBand() {\r\n        // this.toggleUpdateLarge();\r\n        if (this.valid()) {\r\n            debugger;\r\n\r\n            let results = this.state.RatingBandsData.filter((RatingBands) => {\r\n                return RatingBands.From == this.state.rangeFrom && RatingBands.To == this.state.rangeTo && RatingBands.effectiveDate == this.state.effectiveDate && RatingBands.id !== this.state.BinderRatingBandHistoryId && RatingBands.Status == 'Active';\r\n            });\r\n\r\n            let resultsData = this.state.RatingBandsData.filter((RatingBands) => {\r\n                return RatingBands.From == this.state.rangeFrom && RatingBands.To == this.state.rangeTo && RatingBands.id === this.state.BinderRatingBandHistoryId;\r\n            });\r\n\r\n            if (results.length > 0) {\r\n                this.updateRatingBand(results);\r\n            } else {\r\n\r\n                var isAdd = this.state.isAdd;\r\n                var isEdit = this.state.isEdit;\r\n\r\n                if (resultsData.length > 0) {\r\n                    if (this.state.effectiveDate !== resultsData[0].effectiveDate && this.state.isEdit) {\r\n                        isAdd = true;\r\n                        isEdit = false;\r\n                    }\r\n                }\r\n\r\n                let data = {\r\n                    \"BinderRatingBandHistoryId\": this.state.isEdit ? this.state.BinderRatingBandHistoryId : \"\",\r\n                    \"BinderId\": this.state.BinderId,\r\n                    \"UserId\": CommonConfig.loggedInUserId(),\r\n                    \"VesselClassId\": this.state.filter.classid,\r\n                    \"CurrencyId\": this.state.currency,\r\n                    \"CountryId\": this.state.filter.countryid,\r\n                    \"VesselTypeId\": this.state.filter.vesseltypeid,\r\n                    \"Country\": this.state.filter.country,\r\n                    \"RangeFrom\": this.state.rangeFrom.replace(\",\", \"\"),\r\n                    \"RangeTo\": this.state.rangeTo.replace(\",\", \"\"),\r\n                    \"Excess\": this.state.Excess,\r\n                    \"RenewalRatePercent\": (this.state.RNRate) ? this.state.RNRate : 0,\r\n                    \"RenewalRateAbsolute\": (this.state.RNABAmount) ? this.state.RNABAmount : 0,\r\n                    \"NewBusinessRatePercent\": (this.state.newBZRate) ? this.state.newBZRate : 0,\r\n                    \"NewBusinessRateAbsolute\": (this.state.newBZABAmount) ? this.state.newBZABAmount : 0,\r\n                    \"StartDate\": this.state.effectiveDate,\r\n                    \"IsAdd\": isAdd,\r\n                    \"IsEdit\": isEdit,\r\n                    \"IsDescard\": false,\r\n                    \"CurrentUser\": CommonConfig.loggedInUserId(),\r\n                    \"LanguageId\": this.state.LanguageId,\r\n                    \"Status\": \"Active\",\r\n                }\r\n\r\n                api.post(APIConstant.path.addUpdateBinderRatingBands, data).then(res => {\r\n                    console.log(res)\r\n                    if (res.success) {\r\n                        var filterData = this.state.filter\r\n                        // filterData.classname = ''\r\n                        // filterData.vesseltype = ''\r\n                        // filterData.classid = ''\r\n                        // filterData.vesseltypeid = ''\r\n                        // filterData.country = ''\r\n                        // filterData.countryid = ''\r\n                        // this.setState({ filter: filterData })\r\n                        toast.success(res.data.message);\r\n                        this.getRatingBinder(this.state.BinderId)\r\n                    } else {\r\n                        toast.error(res.data.message);\r\n                    }\r\n                    this.addRatingBand()\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                    this.addRatingBand()\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    getRatingBinder(BinderId) {\r\n\r\n        if (this.state.filter.classid != \"\" || this.state.filter.country != \"\") {\r\n            let data = {\r\n                \"BinderId\": BinderId,\r\n                \"UserId\": CommonConfig.loggedInUserId(),\r\n                \"VesselClassId\": this.state.filter.classid,\r\n                \"VesselTypeId\": this.state.filter.vesseltypeid,\r\n                \"Country\": this.state.filter.country,\r\n                \"DisplayName\": this.state.filter.displayname,\r\n                // \"isHideRemoved\": this.state.isHideRemoved\r\n            }\r\n            api.post(APIConstant.path.getBinderRatingBinder, data).then(res => {\r\n                debugger;\r\n                console.log(res)\r\n                if (res.success) {\r\n                    console.log(\"===========Binder Rating Data\")\r\n                    console.log(res.data);\r\n                    this.setState({\r\n                        RatingBandsBulkUpload: res.data[0].map((obj, key) => {\r\n                            return {\r\n                                Row: key + 1,\r\n                                Class: obj.VesselClassName == undefined ? \"NA\" : obj.VesselClassName,\r\n                                Type: obj.VesselTypeName == undefined ? \"NA\" : obj.VesselTypeName,\r\n                                From: obj.RangeFrom,\r\n                                To: obj.RangeTo,\r\n                                Excess: obj.Excess,\r\n                                BaseRateRENP: obj.RenewalRatePercent,\r\n                                BaseRateREN: obj.RenewalRateAbsolute,\r\n                                BaseRateNewP: obj.NewBusinessRatePercent,\r\n                                BaseRateNew: obj.NewBusinessRateAbsolute,\r\n                                Country: obj.Country,\r\n                                Status: \"\",\r\n                                ErrorMessage: \"\",\r\n                            }\r\n                        })\r\n                    })\r\n                    this.setState({\r\n                        RatingBandsData: res.data[0].map((obj) => {\r\n                            return {\r\n                                id: obj.BinderRatingBandHistoryId,\r\n                                Class: obj.VesselClassName == undefined ? \"NA\" : obj.VesselClassName,\r\n                                Type: obj.VesselTypeName == undefined ? \"NA\" : obj.VesselTypeName,\r\n                                From: obj.RangeFrom.toLocaleString(),\r\n                                To: obj.RangeTo.toLocaleString(),\r\n                                Excess: obj.Excess,\r\n                                BaseRateRENP: obj.RenewalRatePercent,\r\n                                BaseRateREN: obj.RenewalRateAbsolute,\r\n                                BaseRateNewP: obj.NewBusinessRatePercent,\r\n                                BaseRateNew: obj.NewBusinessRateAbsolute,\r\n                                VesselClassId: obj.VesselClassId,\r\n                                VesselTypeId: obj.VesselTypeId,\r\n                                Currency: obj.Currency,\r\n                                Country: obj.Country,\r\n                                UMRN: obj.UMRN,\r\n                                isRate: (obj.RenewalRatePercent > 0 && obj.NewBusinessRatePercent > 0) ? true : false,\r\n                                rateOrAmount: (obj.RenewalRatePercent > 0 && obj.NewBusinessRatePercent > 0) ? \"Rate\" : \"Amount\",\r\n                                effectiveDate: moment(obj.StartDate).format(\"YYYY-MM-DD\"),\r\n                                effectiveDateView: moment(obj.StartDate).format(\"DD-MM-YYYY\"),\r\n                                Qualifier: obj.Qualifier,\r\n                                IsCurrent: obj.IsCurrent,\r\n                                ACTION: obj.ACTION,\r\n                                Status: obj.Status\r\n                            }\r\n                        })\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n            });\r\n        } else {\r\n            toast.error('Please Select Vessel Class or Country');\r\n        }\r\n    }\r\n\r\n    actionTemplate(rowData, column) {\r\n        // debugger;\r\n        return <div>\r\n            {(rowData.ACTION == \"Edit\") ? (\r\n                <Button type=\"button\" icon=\"pi pi-pencil\" className=\"p-button-warning\" onClick={() => this.editBand(rowData)}\r\n                    style={{ marginRight: '.5em' }} tooltip=\"Edit\" tooltipOptions={{ position: 'bottom' }}>\r\n                </Button>\r\n            ) : \"\"}\r\n            {(rowData.ACTION == \"View\") ? (\r\n                <Button type=\"button\" icon=\"pi pi-eye\" className=\"p-button-primary\" onClick={() => this.viewBand(rowData)}\r\n                    style={{ marginRight: '.5em' }} tooltip=\"View\" tooltipOptions={{ position: 'bottom' }}>\r\n                </Button>\r\n            ) : \"\"}\r\n            {/* <Button type=\"button\" icon=\"pi pi-trash\" className=\"p-button-danger\" onClick={() => this.deleteBand(rowData)} tooltip=\"Delete\" tooltipOptions={{ position: 'bottom' }}></Button> */}\r\n            {/* <Button type=\"button\" icon=\"pi pi-trash\" className=\"p-button-danger\" tooltip=\"Delete\" onClick={() => this.openDeleteModal(rowData)} tooltipOptions={{ position: 'bottom' }}></Button> */}\r\n        </div>;\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n    }\r\n\r\n    getBounderRisk(BinderId) {\r\n        let data = {\r\n            \"BinderId\": BinderId,\r\n            \"UserId\": CommonConfig.loggedInUserId()\r\n        }\r\n        api.post(APIConstant.path.getBounder, data).then(res => {\r\n            console.log(res)\r\n            if (res.success) {\r\n                console.log(\"===========Bounder Class Data\", res.data)\r\n                // console.log(res.data)\r\n                var formattedData = [];\r\n                if (res.success) {\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].Country,\r\n                            value: res.data[i].Country,\r\n                        });\r\n                    }\r\n                    this.setState({ countrymaster: formattedData });\r\n                } else {\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    getAuthorizeClass(BinderID) {\r\n\r\n        let data = {\r\n            \"BinderId\": BinderID\r\n        }\r\n        api.post(APIConstant.path.getAuthorizeClass, data).then(res => {\r\n            console.log(\"getAuthorizeClass\", res)\r\n            var formattedData = [];\r\n            if (res.success) {\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    formattedData.push({\r\n                        label: res.data[i].VesselClassName,\r\n                        value: res.data[i].VesselClassId,\r\n                    });\r\n                }\r\n                this.setState({ classnamemaster: formattedData });\r\n            } else {\r\n            }\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        var splitData = this.props.location.pathname.split(\"/\");\r\n        // if (splitData[3] !== undefined) {\r\n\r\n        if (!CommonConfig.isEmpty(splitData[3])) {\r\n\r\n            this.setState({ BinderId: splitData[3] })\r\n            // this.getRatingBinder(splitData[3])\r\n            this.getAuthorizeClass(splitData[3])\r\n            this.getBounderRisk(splitData[3])\r\n            this.getBinderData(splitData[3])\r\n        }\r\n\r\n        // if (this.props.match.params.constructor === Object && Object.keys(this.props.match.params).length !== 0) {\r\n        //     this.setState({ BinderId: this.props.match.params.Id })\r\n        //     // this.getRatingBinder(this.props.match.params.Id)\r\n        //     this.getAuthorizeClass(this.props.match.params.Id)\r\n        //     this.getBounderRisk(this.props.match.params.Id)\r\n        //     this.getBinderData(this.props.match.params.Id)\r\n        // }\r\n        // this.getCountry()\r\n        this.getCurrency()\r\n        this.getDisplayName()\r\n        // this.getVesselClass()\r\n    }\r\n\r\n\r\n    getBinderData(binderId) {\r\n        try {\r\n            let data = { \"binderId\": binderId }\r\n            api.post(APIConstant.path.getBinderDataById, data).then(res => {\r\n                console.log(res);\r\n                var data = res.data[0];\r\n                this.setState({\r\n                    UMRN: data.UMRN,\r\n                    Currency: data.Currency,\r\n                })\r\n                this.GetSelectedAuthorizeGroup(data.BinderId)\r\n                this.getNextBinderList()\r\n\r\n            }).catch(err => {\r\n            });\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    getDisplayName() {\r\n        try {\r\n            const data = {\r\n                stringmaptype: 'DISPLAYMODE',\r\n            };\r\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\r\n                if (res.success) {\r\n                    console.log(\"displayname\", res.data);\r\n                    var displayname = [];\r\n                    for (let i = 0; i < res.data.length; i++) {\r\n                        displayname.push({\r\n                            label: res.data[i].StringMapName,\r\n                            value: res.data[i].Description\r\n                        })\r\n                    }\r\n                    this.setState({ displaynamemaster: displayname });\r\n                } else {\r\n\r\n                }\r\n            }).catch(err => {\r\n                console.log(\"error\", err);\r\n            });\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n\r\n        }\r\n    }\r\n\r\n    filterList() {\r\n\r\n    }\r\n\r\n    selectType = (event, type) => {\r\n        let filterData = this.state.filter\r\n        if (type == \"country\") {\r\n            if (event.value === '' || event.value === undefined || event.value === null) {\r\n                filterData.country = \"\"\r\n                filterData.countryid = \"\"\r\n                this.setState({ filter: filterData })\r\n            } else {\r\n                let index = this.state.countrymaster.findIndex(x => x.value === event.value);\r\n                let data = this.state.countrymaster[index]\r\n                filterData.country = data.value\r\n                filterData.countryid = data.value\r\n                this.setState({ filter: filterData })\r\n            }\r\n        }\r\n        else if (type == \"vesseltype\") {\r\n            if (event.value === '' || event.value === undefined || event.value === null) {\r\n                filterData.vesseltype = \"\"\r\n                filterData.vesseltypeid = \"\"\r\n                this.setState({ filter: filterData })\r\n            } else {\r\n                let index = this.state.vesseltypemaster.findIndex(x => x.value === event.value);\r\n                let data = this.state.vesseltypemaster[index]\r\n                filterData.vesseltype = data.label\r\n                filterData.vesseltypeid = data.value\r\n                this.setState({ filter: filterData })\r\n            }\r\n        }\r\n        else if (type == \"classname\") {\r\n            if (event.value === '' || event.value === undefined || event.value === null) {\r\n                filterData.classname = \"\"\r\n                filterData.classid = \"\"\r\n                this.setState({ filter: filterData })\r\n            } else {\r\n                let index = this.state.classnamemaster.findIndex(x => x.value === event.value);\r\n                let data = this.state.classnamemaster[index]\r\n                filterData.classname = data.label\r\n                filterData.classid = data.value\r\n                this.setState({ filter: filterData })\r\n            }\r\n            this.getVesselType(event.value)\r\n\r\n        }\r\n        else if (type == \"currency\") {\r\n            this.setState({ currency: event.value })\r\n        }\r\n\r\n        else if (type == \"displayname\") {\r\n            if (event.value === '' || event.value === undefined || event.value === null) {\r\n                // filterData.classname = \"\"\r\n                // filterData.classid = \"\"\r\n                // this.setState({ filter: filterData })\r\n            } else {\r\n                let index = this.state.displaynamemaster.findIndex(x => x.value === event.value);\r\n                let data = this.state.displaynamemaster[index]\r\n                filterData.displayname = data.label\r\n                this.setState({ filter: filterData })\r\n            }\r\n\r\n        }\r\n\r\n        else if (type == \"rateOrAmount\") {\r\n            debugger;\r\n            this.setState({ rateOrAmount: event.value })\r\n            if (event.value == \"Rate\") {\r\n                this.setState({ isRate: true, RNABAmount: 0, newBZABAmount: 0 })\r\n            } else {\r\n                this.setState({ isRate: false, RNRate: 0, newBZRate: 0 })\r\n            }\r\n        }\r\n    }\r\n\r\n    addRatingBand() {\r\n        this.setState({ toogleAddUpdateRatingBandModal: !this.state.toogleAddUpdateRatingBandModal });\r\n    }\r\n\r\n    toggleAddUpdate = () => {\r\n        // var filterData = this.state.filter\r\n        // filterData.classname = ''\r\n        // filterData.vesseltype = ''\r\n        // filterData.classid = ''\r\n        // filterData.vesseltypeid = ''\r\n        // filterData.country = ''\r\n        // filterData.countryid = ''\r\n        // this.setState({ filter: filterData })\r\n        this.setState({ toogleAddUpdateRatingBandModal: false, });\r\n    }\r\n\r\n    toggleBulkUpload = () => {\r\n        if (this.state.BinderId == '') {\r\n            toast.error('To add Rating Band Please Create New binder or edit existing Binder');\r\n        } else {\r\n            this.setState({\r\n                toogleBulkUpload: !this.state.toogleBulkUpload\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    handleCallBack(aBool) {\r\n        this.setState({\r\n            toogleBulkUpload: aBool\r\n        });\r\n        this.getRatingBinder(this.state.BinderId)\r\n    }\r\n\r\n    show(field, condition) {\r\n        console.log(\"show\", field);\r\n        console.log(\"show\", condition);\r\n        if (condition) {\r\n            document.getElementById(field).className = \"form-control is-invalid\";\r\n        } else {\r\n            document.getElementById(field).className = \"form-control\";\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n        let decimalRegExp = CommonConfig.RegExp.decimalWithOne;\r\n\r\n        if (e.target.name === 'rangeFrom') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ rangeFromError: true });\r\n                this.show(\"rangeFrom\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ rangeFromError: true });\r\n                    this.show(\"rangeFrom\", true);\r\n                } else {\r\n                    this.setState({ rangeFromError: false, rangeFrom: e.target.value });\r\n                    this.show(\"rangeFrom\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'rangeTo') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ rangeToError: true });\r\n                this.show(\"rangeTo\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ rangeToError: true });\r\n                    this.show(\"rangeTo\", true);\r\n                } else {\r\n                    this.setState({ rangeToError: false, rangeTo: e.target.value });\r\n                    this.show(\"rangeTo\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'Excess') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ ExcessError: true });\r\n                this.show(\"Excess\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ ExcessError: true });\r\n                    this.show(\"Excess\", true);\r\n                } else {\r\n                    this.setState({ ExcessError: false, Excess: e.target.value });\r\n                    this.show(\"Excess\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'RNRate') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ RNRateError: true });\r\n                this.show(\"RNRate\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ RNRateError: true });\r\n                    this.show(\"RNRate\", true);\r\n                } else {\r\n                    this.setState({ RNRateError: false, RNRate: e.target.value });\r\n                    this.show(\"RNRate\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'RNABAmount') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ RNABAmountError: true });\r\n                this.show(\"RNABAmount\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ RNABAmountError: true });\r\n                    this.show(\"RNABAmount\", true);\r\n                } else {\r\n                    this.setState({ RNABAmountError: false, RNABAmount: e.target.value });\r\n                    this.show(\"RNABAmount\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'newBZRate') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ newBZRateError: true });\r\n                this.show(\"newBZRate\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ newBZRateError: true });\r\n                    this.show(\"newBZRate\", true);\r\n                } else {\r\n                    this.setState({ newBZRateError: false, newBZRate: e.target.value });\r\n                    this.show(\"newBZRate\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'newBZABAmount') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ newBZABAmountError: true });\r\n                this.show(\"newBZABAmount\", true);\r\n            } else {\r\n                if (!decimalRegExp.test(e.target.value)) {\r\n                    this.setState({ newBZABAmountError: true });\r\n                    this.show(\"newBZABAmount\", true);\r\n                } else {\r\n                    this.setState({ newBZABAmountError: false, newBZABAmount: e.target.value });\r\n                    this.show(\"newBZABAmount\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'effectiveDate') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ effectiveDateError: true });\r\n                this.show(\"effectiveDate\", true);\r\n            } else {\r\n                this.setState({ effectiveDateError: false, effectiveDate: e.target.value });\r\n                this.show(\"effectiveDate\", false);\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'isHideRemoved') {\r\n            debugger;\r\n            this.setState({ isHideRemoved: e.target.checked, RatingBandsDataAll: this.state.RatingBandsData });\r\n            if (e.target.checked) {\r\n                let results = this.state.RatingBandsData.filter((RatingBands) => {\r\n                    return RatingBands.Status !== 'Inactive';\r\n                });\r\n                this.setState({ RatingBandsData: results })\r\n            } else {\r\n                this.setState({ RatingBandsData: this.state.RatingBandsDataAll })\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        // console.log(\"Rating Band---\", this.state)\r\n        let columns1 = '';\r\n        let columns = '';\r\n        if (this.state.showBulkdt == true) {\r\n            columns1 = this.state.cols1.map((col, i) => {\r\n                return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} />;\r\n            });\r\n        } else {\r\n            columns = this.state.cols.map((col, i) => {\r\n                return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} />;\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <div className=\"input-box col-md-12\">\r\n                        <Row>\r\n                            <Col md=\"1.5\" style={{ padding: \"0px 10px\" }}>\r\n                                <label>Class Name *</label>\r\n                            </Col>\r\n                            <Col md=\"2.5\">\r\n                                <Input type=\"select\" name=\"classname\" id=\"classname\" onChange={(e) => this.selectType(e.target, 'classname')} value={this.state.filter.classid}>\r\n                                    <option value=''>Select class name</option>\r\n                                    {this.state.classnamemaster.map((type, i) => { return (<option value={type.value} label={type.label}></option>) })}\r\n                                </Input>\r\n                                <em className=\"error invalid-feedback\" >Please select ClassName</em>\r\n                            </Col>\r\n                            <Col md=\"1.5\" style={{ padding: \"0px 10px\" }}>\r\n                                <label>Vessel Type *</label>\r\n                            </Col>\r\n                            <Col md=\"2.5\">\r\n                                <Input type=\"select\" name=\"vesseltype\" id=\"vesseltype\" onChange={(e) => this.selectType(e.target, 'vesseltype')} value={this.state.filter.vesseltypeid}>\r\n                                    <option value=''>Select VesselType</option>\r\n                                    {this.state.vesseltypemaster.map((type, i) => { return (<option value={type.value} label={type.label}>{type.label}</option>) })}\r\n                                </Input>\r\n                                <em className=\"error invalid-feedback\" >Please select VesselType</em>\r\n                            </Col>\r\n                            <Col md=\"1.5\" style={{ padding: \"0px 10px\" }}>\r\n                                <label>Country *</label>\r\n                            </Col>\r\n                            <Col md=\"2.5\">\r\n                                <Input type=\"select\" name=\"country\" id=\"country\" onChange={(e) => this.selectType(e.target, 'country')} value={this.state.filter.country}>\r\n                                    <option value='' >Select Country</option>\r\n                                    {this.state.countrymaster.map((type, i) => { return (<option value={type.value} label={type.label}>{type.label}</option>) })}\r\n                                </Input>\r\n                                <em className=\"error invalid-feedback\" >Please select Country</em>\r\n                            </Col>\r\n                            <Col md=\"1.5\" style={{ padding: \"0px 10px\" }}>\r\n                                <label>Display Name *</label>\r\n                            </Col>\r\n                            <Col md=\"2.5\">\r\n                                <Input type=\"select\" name=\"displayname\" id=\"displayname\" onChange={(e) => this.selectType(e.target, 'displayname')} value={this.state.filter.displayname}>\r\n                                    {this.state.displaynamemaster.map((type, i) => { return (<option value={type.value} label={type.label}>{type.label}</option>) })}\r\n                                </Input>\r\n                                <em className=\"error invalid-feedback\" >Please select Country</em>\r\n                            </Col>\r\n                            <Col md=\"1\">\r\n                                <BTN color=\"success\" style={{ marginRight: '.5em', borderRadius: \"20px\" }} onClick={() => this.getRatingBinder(this.state.BinderId)} title=\"Go\" > Go </BTN>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </div>\r\n                <div className=\"header-right-option col-md-5\" style={{ marginLeft: \"auto\" }}>\r\n\r\n                    <Input type=\"checkbox\" name=\"isHideRemoved\" id=\"isHideRemoved\" onChange={(e) => this.handleChange(e)} value={this.state.isHideRemoved} checked={this.state.isHideRemoved == true} />\r\n                    <label>Hide Removed</label>\r\n\r\n                    <Button type=\"button\" icon=\"pi pi-plus\" tooltip=\"Add Rating Band\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.addBand()}></Button>\r\n                    <Button type=\"button\" tooltip=\"Bulk Uploads\" label=\"Bulk Uploads\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.toggleBulkUpload()} style={{ margin: \"0px 10px\" }}></Button>\r\n\r\n                    <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                        fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\"\r\n                        onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                    />\r\n                    {/* <Button type=\"button\" icon=\"pi pi-plus\" tooltip=\"Add RatingBands\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.addRatingBand()}></Button> */}\r\n                    <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\r\n\r\n                    <Button type=\"button\" icon=\"pi pi-question-circle\" tooltip=\"Bulk Upload User Guide\" tooltipOptions={{ position: 'bottom' }} onClick={this.downloadUserGuide} style={{ marginRight: 10 }}></Button>\r\n\r\n                </div>\r\n\r\n                {(this.state.showBulkdt == true) ? (\r\n                    <div className=\"table-custom\">\r\n                        <DataTable ref={(el) => this.dt = el} value={this.state.RatingBandsBulkUpload} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                            paginator={true} rows={this.state.rowsPerPage} totalRecords={this.state.RatingBandsBulkUpload.length} exportFilename=\"Rating Band List\"\r\n\r\n                            currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"340px\"\r\n                            paginatorTemplate={this.state.paginatorTemplate}\r\n                            rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                            responsive={true} resizableColumns={true} columnResizeMode=\"fit\" //stateKey=\"contactList\" stateStorage=\"local\" header={header} \r\n                        >\r\n                            {columns1}\r\n                        </DataTable>\r\n                    </div>\r\n\r\n                ) : (\r\n                        <div className=\"table-custom\">\r\n                            <DataTable ref={(el) => this.dt = el} value={this.state.RatingBandsData} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                                paginator={true} rows={this.state.rowsPerPage} totalRecords={this.state.RatingBandsData.length} exportFilename=\"Rating Band List\"\r\n\r\n                                currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"340px\"\r\n                                paginatorTemplate={this.state.paginatorTemplate}\r\n                                rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                                responsive={true} resizableColumns={true} columnResizeMode=\"fit\" //stateKey=\"contactList\" stateStorage=\"local\" header={header} \r\n                            >\r\n                                {columns}\r\n                            </DataTable>\r\n                            <Modal isOpen={this.state.toogleAddUpdateRatingBandModal} toggle={() => this.toggleAddUpdate()}\r\n                                className={'modal-lg ' + this.props.className}>\r\n                                <ModalHeader toggle={() => this.toggleAddUpdate()}>Add/Update RatingBands</ModalHeader>\r\n                                <ModalBody>\r\n                                    <Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Binder</label>\r\n                                        </Col>\r\n                                        <Col md=\"5\">\r\n                                            <label>{this.state.UMRN}</label>\r\n                                        </Col>\r\n                                        <Col md=\"1\">\r\n                                            <label>Currency</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <label>{this.state.Currency}</label>\r\n                                        </Col>\r\n                                        {/* <Col md=\"3\">\r\n                                    <Input type=\"select\" name=\"currency\" id=\"currency\" onChange={(e) => this.selectType(e.target, 'currency')} value={this.state.currency}>\r\n                                        <option value='' disabled={\"disabled\"}>Select Currency</option>\r\n                                        {this.state.currencymaster.map((type, i) => { return (<option value={type.value} label={type.label}>{type.label}</option>) })}\r\n                                    </Input>\r\n                                    <em className=\"error invalid-feedback\" >Please select Currency</em>\r\n                                </Col> */}\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col md=\"2\">\r\n                                            <label>Class Name</label>\r\n                                        </Col>\r\n                                        <Col md=\"2\">\r\n                                            <label>{this.state.filter.classname}</label>\r\n                                        </Col>\r\n                                        <Col md=\"2\">\r\n                                            <label>Vessel Type</label>\r\n                                        </Col>\r\n                                        <Col md=\"2\">\r\n                                            <label>{this.state.filter.vesseltype}</label>\r\n                                        </Col>\r\n                                        <Col md=\"2\">\r\n                                            <label>Country</label>\r\n                                        </Col>\r\n                                        <Col md=\"2\">\r\n                                            <label>{this.state.filter.country}</label>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Range From*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isEdit || this.state.isView} name=\"rangeFrom\" id=\"rangeFrom\" placeholder=\"Range From\"\r\n                                                onChange={(e) => this.handleChange(e)} value={this.state.rangeFrom}\r\n                                            />\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Range From</em>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <label>To*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isEdit || this.state.isView} name=\"rangeTo\" id=\"rangeTo\" placeholder=\"Range To\"\r\n                                                onChange={(e) => this.handleChange(e)} value={this.state.rangeTo}\r\n                                            />\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Range To </em>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Excess*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isView} name=\"Excess\" id=\"Excess\" onChange={(e) => this.handleChange(e)} value={this.state.Excess}>\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Excess</em>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Rate or Amount*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"select\" disabled={this.state.isView} name=\"rateOrAmount\" id=\"rateOrAmount\" onChange={(e) => this.selectType(e.target, 'rateOrAmount')} value={this.state.rateOrAmount}>\r\n                                                <option value='Rate'>Rate(%)</option>\r\n                                                <option value='Amount'>Absolute Amount</option>\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n\r\n                                    {(this.state.isRate) ? (<Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Renewal Rate (%)*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isView} name=\"RNRate\" id=\"RNRate\" onChange={(e) => this.handleChange(e)} value={this.state.RNRate}>\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Renewal Rate (%)</em>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <label>New Business Rate (%)*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isView} name=\"newBZRate\" id=\"newBZRate\" onChange={(e) => this.handleChange(e)} value={this.state.newBZRate}>\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter New Business Rate (%)</em>\r\n                                        </Col>\r\n                                    </Row>) : (<Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Renewal Absolute Amount*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isView} name=\"RNABAmount\" id=\"RNABAmount\" onChange={(e) => this.handleChange(e)} value={this.state.RNABAmount}>\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Renewal Absolute Amount</em>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <label>New Business Absolute Amount*</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"text\" disabled={this.state.isView} name=\"newBZABAmount\" id=\"newBZABAmount\" onChange={(e) => this.handleChange(e)} value={this.state.newBZABAmount}>\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter New Business Absolute Amount</em>\r\n                                        </Col>\r\n                                    </Row>)}\r\n\r\n                                    <Row>\r\n                                        <Col md=\"3\">\r\n                                            <label>Effective Date</label>\r\n                                        </Col>\r\n                                        <Col md=\"3\">\r\n                                            <Input type=\"date\" name=\"effectiveDate\" disabled={this.state.isView} id=\"effectiveDate\" onChange={(e) => this.handleChange(e)} value={this.state.effectiveDate}\r\n                                                min={moment().format('YYYY-MM-DD')}\r\n                                                max={moment().add(100, 'years').format('YYYY-MM-DD')}\r\n                                            >\r\n                                            </Input>\r\n                                            <em className=\"error invalid-feedback\" >Please Enter Valid Effective Date</em>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </ModalBody>\r\n                                <ModalFooter>\r\n                                    {(this.state.isEdit || this.state.isAdd) ? (<BTN color=\"success\" onClick={() => this.addUpdateRatingBand()}><i class=\"fa fa-check\"></i> Save</BTN>) : \"\"}\r\n                                    {(this.state.isEdit && this.state.effectiveDate > moment().format('YYYY-MM-DD')) ? (<BTN color=\"danger\" onClick={() => this.openDeleteModal()}><i class=\"fa fa-times\"></i> Discard</BTN>) : \"\"}\r\n                                    <BTN color=\"primary\" onClick={() => this.toggleAddUpdate()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\r\n                                </ModalFooter>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={this.state.toogleBulkUpload} toggle={() => this.toggleBulkUpload()}\r\n                                className={'modal-lg ' + this.props.className} style={{ maxWidth: \"1200px\" }}>\r\n                                <ModalHeader toggle={() => this.toggleBulkUpload()}>Bulk Upload</ModalHeader>\r\n                                <ModalBody>\r\n                                    <BulkUpload name=\"bhavik\" BinderId={this.state.BinderId}\r\n                                        handleCallBack={this.handleCallBack.bind(this)}\r\n                                    ></BulkUpload>\r\n                                </ModalBody>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={this.state.toggleModal} toggle={this.toggleLarge}\r\n                                className={'modal-lg ' + this.props.className}>\r\n                                <ModalHeader toggle={this.toggleLarge}>Delete Rating Band</ModalHeader>\r\n                                <ModalBody>\r\n                                    Are you sure, You want to delete {this.state.BinderRatingBandVesselClass} {this.state.BinderRatingBandFrom} - {this.state.BinderRatingBandTo} of {this.state.BinderRatingBandEffectiveDate} Rating Band?\r\n                    </ModalBody>\r\n                                <ModalFooter>\r\n                                    <BTN color=\"success\" onClick={() => this.deleteBand()}><i class=\"fa fa-check\"></i> Delete</BTN>{' '}\r\n                                    <BTN color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-close\"></i>Cancel</BTN>\r\n                                </ModalFooter>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={this.state.toggleUpdateModal} toggle={this.toggleUpdateLarge}\r\n                                className={'modal-lg ' + this.props.className}>\r\n                                <ModalHeader toggle={this.toggleUpdateLarge}>Update Rating Band</ModalHeader>\r\n                                <ModalBody>\r\n                                    We have already record of {this.state.updateEffectiveDate} for {this.state.BinderRatingBandFrom} - {this.state.BinderRatingBandTo} Rating Band. <br /> Do You want to update {this.state.BinderRatingBandVesselClass} {this.state.BinderRatingBandFrom} - {this.state.BinderRatingBandTo} Rating Band?\r\n                    </ModalBody>\r\n                                <ModalFooter>\r\n                                    <BTN color=\"success\" onClick={() => { this.addUpdateRatingBand(); this.toggleUpdateLarge(); }}><i class=\"fa fa-check\"></i> Yes</BTN>{' '}\r\n                                    <BTN color=\"primary\" onClick={this.toggleUpdateLarge}><i class=\"fa fa-close\"></i>No</BTN>\r\n                                </ModalFooter>\r\n                            </Modal>\r\n\r\n                        </div>\r\n\r\n                    )}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(RatingBands);"]},"metadata":{},"sourceType":"module"}