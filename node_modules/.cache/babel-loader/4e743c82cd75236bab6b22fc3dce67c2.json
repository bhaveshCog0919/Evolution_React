{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Modal,ModalHeader,ModalBody,Nav,NavItem,NavLink,FormGroup,Input,Col,ButtonDropdown,Table,DropdownToggle,DropdownMenu,DropdownItem,Badge,Button,ButtonGroup,Row}from'reactstrap';import APIConstant from'../../../../utils/constants';import{CommonConfig}from'../../../../utils/constants';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Button as BTN}from'primereact/button';import{InputText}from'primereact/inputtext';import api from'../../../../utils/apiClient';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import moment from'moment';import{toast}from'react-toastify';var simpleParser=require('mailparser').simpleParser;var _=require('lodash');var Inbox=/*#__PURE__*/function(_Component){_inherits(Inbox,_Component);var _super=_createSuper(Inbox);function Inbox(props){var _ref,_ref2,_ref3;var _this;_classCallCheck(this,Inbox);_this=_super.call(this,props);_this.setSelectedEmail=function(e){_this.setState({selectedEmail:e});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='tagValue'){if(e.target.value===''||e.target.value===null){_this.setState({tagValue:''});}else{_this.setState({tagValue:e.target.value});}}};var columns=[{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),style:{width:'50px'},header:\"Action\",sortable:false,filter:false,filterMatchMode:'contains',id:0},(_ref={body:_this.formatTags.bind(_assertThisInitialized(_this)),field:\"TagsString\",header:\"Tags\",sortable:true,filter:true},_defineProperty(_ref,\"filter\",false),_defineProperty(_ref,\"filterMatchMode\",'contains'),_defineProperty(_ref,\"id\",3),_ref),(_ref2={body:_this.formatNameEmail.bind(_assertThisInitialized(_this)),field:\"FromEmail\",header:\"From\",sortable:true,filter:true},_defineProperty(_ref2,\"filter\",false),_defineProperty(_ref2,\"filterMatchMode\",'contains'),_defineProperty(_ref2,\"id\",3),_ref2),(_ref3={body:_this.formatSubject.bind(_assertThisInitialized(_this)),field:\"Subject\",header:\"Subject\",sortable:true,filter:true},_defineProperty(_ref3,\"filter\",false),_defineProperty(_ref3,\"filterMatchMode\",'contains'),_defineProperty(_ref3,\"id\",5),_ref3),{body:_this.formatDate.bind(_assertThisInitialized(_this)),field:\"CreatedOn\",header:\"Date/Time\",sortable:true,filter:false,filterMatchMode:'contains',id:6}];_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.state={tagModel:false,tagTypeArray:[],tagType:'',PolicyId:_this.props.match.params.id,tagValue:'',tagsData:[],editEmailData:'',dropdownOpen:false,emailList:[],InboxCount:0,globalFilter:null,cols:columns,first:1,selectedEmail:[],rows:10,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage};_this.getInbox();_this.getTagsDropDownValues();return _this;}_createClass(Inbox,[{key:\"addTag\",value:function addTag(rowData){if(rowData.Tags!=undefined){for(var index=0;index<rowData.Tags.length;index++){this.state.tagsData.push({\"TagType\":rowData.Tags[index].TagName,\"TagValue\":rowData.Tags[index].Value});}}this.setState({editEmailData:rowData,tagModel:true,tagType:'',tagName:'',tagValue:''});}},{key:\"removeTagTemp\",value:function removeTagTemp(index){try{this.state.tagsData.splice(index,1);var data={delete:true,Tags:this.state.tagsData[index],EmailUID:this.state.editEmailData.EmailUID};api.post(APIConstant.path.addUpdateTags,data,true).then(function(res){if(res.data.success){toast.success(res.data.msg);}}).catch(function(err){});}catch(error){console.log(\"error...\");}}},{key:\"submitTags\",value:function submitTags(){var _this2=this;try{this.state.tagsData.push({\"TagType\":this.state.tagType,\"TagValue\":this.state.tagValue});var data={delete:false,Tags:{\"TagType\":this.state.tagType,\"TagValue\":this.state.tagValue},EmailUID:this.state.editEmailData.EmailUID};api.post(APIConstant.path.addUpdateTags,data,true).then(function(res){if(res.data.success){_this2.state.tagType=\"\";_this2.state.tagValue=\"\";toast.success(res.data.msg);}else{toast.error(res.data.msg);}}).catch(function(err){});}catch(error){console.log(\"error...\",error);}}},{key:\"formatTags\",value:function formatTags(rowData){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.TagsString),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this3.addTag(rowData);},className:'mr-1'},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-plus\",\"aria-hidden\":\"true\"})));}},{key:\"getTagsDropDownValues\",value:function getTagsDropDownValues(){var _this4=this;try{var data={stringmaptype:\"EMAILTAG\",orderby:'sortorder'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this4.setState({tagTypeArray:res.data});}else{}}).catch(function(err){});}catch(error){console.log(\"error...\",error);}}},{key:\"onPage\",value:function onPage(event){var firstPage=event.first+1;var l=event.rows*(event.page+1);var lastPage=l<this.state.emailList.length?l:this.state.emailList.length;var str=firstPage+' to '+lastPage+' out of '+this.state.emailList.length+' records';this.setState({selectedPage:event.first,str:str,rowsPerPage:event.rows});}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(BTN,{type:\"button\",icon:\"pi pi-eye\",className:\"p-button-warning\",onClick:function onClick(){return _this5.openDetail(rowData);},style:{marginRight:'.5em'},tooltip:\"View\",tooltipOptions:{position:'bottom'}}),rowData.IsImportant.data[0]==1?/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this5.addRemoveFlag(rowData,\"FLAGGED\",true);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-star\"})):/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this5.addRemoveFlag(rowData,\"FLAGGED\",false);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-star-o\"})),rowData.IsViewed.data[0]==1?/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this5.addRemoveFlag(rowData,\"SEEN\",true);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-envelope\"})):/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this5.addRemoveFlag(rowData,\"SEEN\",false);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-envelope-o\"})),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this5.deleteMessage(rowData);},className:'mr-1'},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-trash-o\"})));}},{key:\"formatDate\",value:function formatDate(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,moment(rowData.CreatedOn).format(CommonConfig.dateFormat.dbDateTime)));}},{key:\"formatSubject\",value:function formatSubject(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.Subject,\" \",rowData.AttachCount>0?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-paperclip\",\"aria-hidden\":\"true\"},\"(\",rowData.AttachCount,\")\"):null));}},{key:\"formatNameEmail\",value:function formatNameEmail(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.FromName),/*#__PURE__*/React.createElement(\"p\",null,rowData.FromEmail));}},{key:\"deleteMessage\",value:function deleteMessage(emails){var _this6=this;var data={};if(emails==''){var UIDData=this.state.selectedEmail.map(function(data){return String(data.EmailUID);});data={\"uid\":UIDData,\"boxName\":\"INBOX\",\"searchType\":\"ALL\"};}else{data={\"uid\":[emails.EmailUID],\"boxName\":\"INBOX\",\"searchType\":\"ALL\"};}api.post(APIConstant.path.deleteMessage,data).then(function(res){if(res.success){_this6.getInbox();}}).catch(function(err){console.log(err);});}},{key:\"addRemoveFlag\",value:function addRemoveFlag(emails,FlagName,remove){var _this7=this;var data={};if(emails==''){var UIDData=this.state.selectedEmail.map(function(data){return String(data.EmailUID);});data={\"uid\":UIDData,\"boxName\":\"INBOX\",\"flagname\":FlagName,\"remove\":remove};}else{data={\"uid\":[emails.EmailUID],\"boxName\":\"INBOX\",\"flagname\":FlagName,\"remove\":remove};}api.post(APIConstant.path.addRemoveFlag,data).then(function(res){if(res.success){_this7.getInbox();}}).catch(function(err){console.log(err);});}},{key:\"getInbox\",value:function getInbox(){var _this8=this;var data={\"boxName\":\"Inbox\",\"searchType\":\"ALL\",\"PolicyId\":this.state.PolicyId};api.post(APIConstant.path.allEmail,data).then(function(res){console.log(res);if(res.success){_this8.setState({emailList:res.data,selectedEmail:[]});var count=_this8.state.emailList.filter(function(item){if(item.IsViewed.data[0]==0){return true;}else{return false;}}).length;_this8.setState({InboxCount:count});}}).catch(function(err){console.log(err);});}},{key:\"toggle\",value:function toggle(){this.setState({dropdownOpen:!this.state.dropdownOpen});}},{key:\"selectType\",value:function selectType(value,type){//need to select template\nif(type==='tagType'){if(value===''||value===undefined||value===null){this.setState({tagType:''});}else{this.setState({tagType:value});}}}},{key:\"openDetail\",value:function openDetail(item){this.props.history.push({pathname:'/apps/email/message',state:{email:item,InboxCount:this.state.InboxCount}});}},{key:\"rowClass\",value:function rowClass(data){return{'row-accessories':data.IsViewed.data[0]===0};}},{key:\"render\",value:function render(){var _this9=this;var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode});});return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"email-app mb-4\"},/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"#/apps/email/compose\",className:\"btn btn-danger btn-block\"},\"New Email\"),/*#__PURE__*/React.createElement(Nav,null,/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#/apps/email/inbox\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-inbox\"}),\" Inbox \",/*#__PURE__*/React.createElement(Badge,{color:\"danger\"},this.state.InboxCount))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#/apps/email/sent\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-inbox\"}),\" Sent \")))),/*#__PURE__*/React.createElement(\"main\",{className:\"inbox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar\"},/*#__PURE__*/React.createElement(ButtonGroup,{className:'mr-1'},/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.addRemoveFlag('',\"FLAGGED\",false);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-star\"})),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.addRemoveFlag('',\"FLAGGED\",true);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-star-o\"})),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.addRemoveFlag('',\"SEEN\",false);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-envelope\"})),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.addRemoveFlag('',\"SEEN\",true);}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-envelope-o\"})),/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.deleteMessage('');}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-trash-o\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"group float-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"p-input-icon-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\"}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this9.setState({globalFilter:e.target.value});},placeholder:\"Global Search\"})))),/*#__PURE__*/React.createElement(\"ul\",{className:\"messages\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this9.dt=el;},value:this.state.emailList,rowClassName:this.rowClass,first:this.state.selectedPage,onPage:function onPage(e){return _this9.onPage(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.emailList.length,selection:this.state.selectedEmail,onSelectionChange:function onSelectionChange(e){return _this9.setSelectedEmail(e.value);},exportFilename:\"Email List\",currentPageReportTemplate:this.state.str,paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\",scrollable:true,scrollHeight:\"340px\"},/*#__PURE__*/React.createElement(Column,{selectionMode:\"multiple\",style:{width:'3em'}}),columns)))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.tagModel,className:'modal-lg',style:{maxWidth:'70%'}},/*#__PURE__*/React.createElement(ModalHeader,{toggle:function toggle(){return _this9.setState({tagModel:false});}},\" Tags \"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"span\",null,\"Email Subject#: \",this.state.editEmailData.Subject)),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"span\",null,\"Date: \",moment(this.state.editEmailData.CreatedOn).format(CommonConfig.dateFormat.forDatePicker)))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"tagType\",id:\"tagType\",value:this.state.tagType,onChange:function onChange(e){return _this9.selectType(e.target.value,'tagType');}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select Tag Type\"),this.state.tagTypeArray.map(function(tagType,i){return/*#__PURE__*/React.createElement(\"option\",{value:tagType.StringMapKey,key:i},tagType.StringMapName);})))),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"tagValue\",id:\"tagValue\",value:this.state.tagValue,onChange:function onChange(e){return _this9.handleChange(e);}}))),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:function onClick(){return _this9.submitTags();}},\"Add\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"7\"},/*#__PURE__*/React.createElement(\"span\",null,this.state.tagsData.length,\" Tags \"),/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"center\"},\"Tag Name\"),/*#__PURE__*/React.createElement(\"th\",{className:\"center\"},\"Value\"),/*#__PURE__*/React.createElement(\"th\",{className:\"center\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.tagsData.map(function(tagData,i){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"center\"},tagData.TagType),/*#__PURE__*/React.createElement(\"td\",{className:\"center\"},tagData.TagValue),/*#__PURE__*/React.createElement(\"td\",{className:\"center\"},/*#__PURE__*/React.createElement(Button,{color:\"light\",onClick:function onClick(){return _this9.removeTagTemp(i);},className:'mr-1'},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-trash-o\"}))));}))))))));}}]);return Inbox;}(Component);export default Inbox;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Apps/Email/Inbox/Inbox.js"],"names":["React","Component","Modal","ModalHeader","ModalBody","Nav","NavItem","NavLink","FormGroup","Input","Col","ButtonDropdown","Table","DropdownToggle","DropdownMenu","DropdownItem","Badge","Button","ButtonGroup","Row","APIConstant","CommonConfig","BTN","InputText","api","DataTable","Column","moment","toast","simpleParser","require","_","Inbox","props","setSelectedEmail","e","setState","selectedEmail","handleChange","target","name","value","tagValue","columns","body","actionTemplate","bind","style","width","header","sortable","filter","filterMatchMode","id","formatTags","field","formatNameEmail","formatSubject","formatDate","toggle","state","tagModel","tagTypeArray","tagType","PolicyId","match","params","tagsData","editEmailData","dropdownOpen","emailList","InboxCount","globalFilter","cols","first","rows","rowsPerPageOptions","dataTableConfig","rowsPerPage","getInbox","getTagsDropDownValues","rowData","Tags","undefined","index","length","push","TagName","Value","tagName","splice","data","delete","EmailUID","post","path","addUpdateTags","then","res","success","msg","catch","err","error","console","log","TagsString","addTag","stringmaptype","orderby","dropdownbycode","event","firstPage","l","page","lastPage","str","selectedPage","column","openDetail","marginRight","position","IsImportant","addRemoveFlag","IsViewed","deleteMessage","CreatedOn","format","dateFormat","dbDateTime","Subject","AttachCount","FromName","FromEmail","emails","UIDData","map","String","FlagName","remove","allEmail","count","item","type","history","pathname","email","col","i","el","dt","rowClass","onPage","maxWidth","forDatePicker","selectType","StringMapKey","StringMapName","submitTags","tagData","TagType","TagValue","removeTagTemp"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, Nav, NavItem, NavLink, FormGroup, Input, Col, ButtonDropdown, Table, DropdownToggle, DropdownMenu, DropdownItem, Badge, Button, ButtonGroup, Row } from 'reactstrap';\nimport APIConstant from '../../../../utils/constants';\nimport { CommonConfig } from '../../../../utils/constants';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { Button as BTN } from 'primereact/button';\nimport { InputText } from 'primereact/inputtext';\nimport api from '../../../../utils/apiClient';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport moment from 'moment';\nimport { any } from 'prop-types';\nimport { toast } from 'react-toastify';\nconst simpleParser = require('mailparser').simpleParser;\nconst _ = require('lodash');\n\nclass Inbox extends Component {\n\n  constructor(props) {\n    super(props);\n\n    let columns = [\n      { body: this.actionTemplate.bind(this), style: { width: '50px' }, header: \"Action\", sortable: false, filter: false, filterMatchMode: 'contains', id: 0 },\n      { body: this.formatTags.bind(this), field: \"TagsString\", header: \"Tags\", sortable: true, filter: true, filter: false, filterMatchMode: 'contains', id: 3 },\n      { body: this.formatNameEmail.bind(this), field: \"FromEmail\", header: \"From\", sortable: true, filter: true, filter: false, filterMatchMode: 'contains', id: 3 },\n      { body: this.formatSubject.bind(this), field: \"Subject\", header: \"Subject\", sortable: true, filter: true, filter: false, filterMatchMode: 'contains', id: 5 },\n      { body: this.formatDate.bind(this), field: \"CreatedOn\", header: \"Date/Time\", sortable: true, filter: false, filterMatchMode: 'contains', id: 6 },\n    ];\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      tagModel: false,\n      tagTypeArray: [],\n      tagType: '',\n      PolicyId:this.props.match.params.id,\n      tagValue: '',\n      tagsData: [],\n      editEmailData: '',\n      dropdownOpen: false,\n      emailList: [],\n      InboxCount: 0,\n      globalFilter: null,\n      cols: columns,\n      first: 1,\n      selectedEmail: [],\n      rows: 10,\n      rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n      rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n    };\n    \n    this.getInbox()\n    this.getTagsDropDownValues()\n  }\n\n  setSelectedEmail = (e) => {\n    this.setState({ selectedEmail: e })\n  }\n\n  addTag(rowData) {\n    if (rowData.Tags != undefined) {\n      for (let index = 0; index < rowData.Tags.length; index++) {\n        this.state.tagsData.push({\"TagType\":rowData.Tags[index].TagName,\"TagValue\":rowData.Tags[index].Value})\n      }\n    }\n    this.setState({\n      editEmailData: rowData, tagModel: true, tagType: '', tagName: '',\n      tagValue: ''\n    })\n  }\n\n  removeTagTemp(index) {\n    try {\n      this.state.tagsData.splice(index, 1)\n      var data = {\n        delete: true,\n        Tags: this.state.tagsData[index],\n        EmailUID: this.state.editEmailData.EmailUID\n      }\n      api.post(APIConstant.path.addUpdateTags, data,true).then(res => {\n        if (res.data.success) {\n          toast.success(res.data.msg);\n        }\n      }).catch(err => {\n      });\n    } catch (error) {\n      console.log(\"error...\",)\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n    if (e.target.name === 'tagValue') {\n      if (e.target.value === '' || e.target.value === null) {\n        this.setState({ tagValue: '' });\n      } else {\n        this.setState({ tagValue: e.target.value });\n      }\n    }\n  }\n\n  submitTags() {\n    try {\n      this.state.tagsData.push({\"TagType\":this.state.tagType,\"TagValue\":this.state.tagValue})\n      var data = {\n        delete: false,\n        Tags: {\"TagType\":this.state.tagType,\"TagValue\":this.state.tagValue},\n        EmailUID: this.state.editEmailData.EmailUID\n      }\n      api.post(APIConstant.path.addUpdateTags, data,true).then(res => {\n        if (res.data.success) {\n          this.state.tagType = \"\"\n          this.state.tagValue = \"\"\n          toast.success(res.data.msg);\n        } else {\n          toast.error(res.data.msg);\n        }\n      }).catch(err => {\n      });\n    } catch (error) {\n      console.log(\"error...\", error);\n    }\n  }\n\n  formatTags(rowData) {\n    return (\n      <div className=\"policy-list-data\">\n        <p>{rowData.TagsString}</p>\n        <Button color=\"light\" onClick={() => this.addTag(rowData)} className={'mr-1'}><i class=\"fa fa-plus\" aria-hidden=\"true\"></i></Button>\n      </div>\n    )\n  }\n\n  getTagsDropDownValues() {\n    try {\n      const data = {\n        stringmaptype: \"EMAILTAG\",\n        orderby: 'sortorder'\n      };\n      api.post(APIConstant.path.dropdownbycode, data).then(res => {\n        if (res.success) {\n          this.setState({ tagTypeArray: res.data });\n        } else {\n        }\n      }).catch(err => {\n      });\n    } catch (error) {\n      console.log(\"error...\", error);\n    }\n  }\n\n  onPage(event) {\n    let firstPage = event.first + 1;\n    let l = event.rows * (event.page + 1);\n    let lastPage = (l < this.state.emailList.length) ? l : this.state.emailList.length\n    var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.emailList.length + ' records';\n    this.setState({ selectedPage: event.first, str: str, rowsPerPage: event.rows });\n  }\n\n  actionTemplate(rowData, column) {\n    return <div className=\"policy-list-data\">\n      <BTN type=\"button\" icon=\"pi pi-eye\" className=\"p-button-warning\" onClick={() => this.openDetail(rowData)}\n        style={{ marginRight: '.5em' }} tooltip=\"View\" tooltipOptions={{ position: 'bottom' }}>\n      </BTN>\n      {rowData.IsImportant.data[0] == 1 ? <Button color=\"light\" onClick={() => this.addRemoveFlag(rowData, \"FLAGGED\", true)}><span className=\"fa fa-star\"></span></Button> : <Button color=\"light\" onClick={() => this.addRemoveFlag(rowData, \"FLAGGED\", false)}><span className=\"fa fa-star-o\"></span></Button>}\n      {rowData.IsViewed.data[0] == 1 ? <Button color=\"light\" onClick={() => this.addRemoveFlag(rowData, \"SEEN\", true)}><span className=\"fa fa-envelope\"></span></Button> : <Button color=\"light\" onClick={() => this.addRemoveFlag(rowData, \"SEEN\", false)}><span className=\"fa fa-envelope-o\"></span></Button>}\n      <Button color=\"light\" onClick={() => this.deleteMessage(rowData)} className={'mr-1'}><span className=\"fa fa-trash-o\"></span></Button>\n    </div>;\n  }\n\n  formatDate(rowData) {\n    return (\n      <div className=\"policy-list-data\">\n        <p>{moment(rowData.CreatedOn).format(CommonConfig.dateFormat.dbDateTime)}</p>\n      </div>\n    )\n  }\n\n  formatSubject(rowData) {\n    return (\n      <div className=\"policy-list-data\">\n        <p>{rowData.Subject} {rowData.AttachCount > 0 ? <i class=\"fa fa-paperclip\" aria-hidden=\"true\">({rowData.AttachCount})</i> : (null)}</p>\n      </div>\n    )\n  }\n\n  formatNameEmail(rowData) {\n    return (\n      <div className=\"policy-list-data\">\n        <p>{rowData.FromName}</p>\n        <p>{rowData.FromEmail}</p>\n      </div>\n    )\n  }\n\n  deleteMessage(emails) {\n    let data = {}\n    if (emails == ''){\n      let UIDData =  this.state.selectedEmail\n                    .map((data) => {\n                        return String(data.EmailUID)\n                    })\n      data = {\n        \"uid\": UIDData,\n        \"boxName\": \"INBOX\",\n        \"searchType\": \"ALL\"\n      }\n    } else {\n      data = {\n        \"uid\": [emails.EmailUID],\n        \"boxName\": \"INBOX\",\n        \"searchType\": \"ALL\"\n      }\n    }\n    api.post(APIConstant.path.deleteMessage, data).then(res => {\n      if (res.success) {\n        this.getInbox()\n      }\n\n    }).catch(err => {\n      console.log(err)\n    });\n  }\n\n  addRemoveFlag(emails, FlagName, remove) {\n    let data = {}\n    if (emails == ''){\n      let UIDData =  this.state.selectedEmail\n                    .map((data) => {\n                        return String(data.EmailUID)\n                    })\n      data = {\n        \"uid\": UIDData,\n        \"boxName\": \"INBOX\",\n        \"flagname\": FlagName,\n        \"remove\": remove\n      }\n    } else {\n      data = {\n        \"uid\": [emails.EmailUID],\n        \"boxName\": \"INBOX\",\n        \"flagname\": FlagName,\n        \"remove\": remove\n      }\n    }\n    api.post(APIConstant.path.addRemoveFlag, data).then(res => {\n      if (res.success) {\n        this.getInbox()\n      }\n\n    }).catch(err => {\n      console.log(err)\n    });\n  }\n\n  getInbox() {\n    let data = {\n      \"boxName\": \"Inbox\",\n      \"searchType\": \"ALL\",\n      \"PolicyId\":this.state.PolicyId\n    }\n    api.post(APIConstant.path.allEmail, data).then(res => {\n      console.log(res)\n      if (res.success) {\n        this.setState({ emailList: res.data ,selectedEmail:[]});\n        let count = this.state.emailList.filter((item) => {\n          if (item.IsViewed.data[0] == 0) {\n            return true\n          } else {\n            return false\n          }\n        }).length\n        this.setState({ InboxCount: count })\n      }\n    }).catch(err => {\n      console.log(err)\n    });\n  }\n\n  toggle() {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen\n    });\n  }\n\n  selectType(value, type) {\n    //need to select template\n    if (type === 'tagType') {\n      if (value === '' || value === undefined || value === null) {\n        this.setState({ tagType: '' });\n      } else {\n        this.setState({ tagType: value });\n      }\n    }\n  }\n\n  openDetail(item) {\n    this.props.history.push({\n      pathname: '/apps/email/message',\n      state: {\n        email: item,\n        InboxCount: this.state.InboxCount\n      }\n    });\n  }\n\n  rowClass(data) {\n    return {\n      'row-accessories': data.IsViewed.data[0] === 0\n    }\n  }\n\n  render() {\n\n    let columns = this.state.cols.map((col, i) => {\n      return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} />;\n    });\n\n    return (\n      <div className=\"animated fadeIn\">\n        <div className=\"email-app mb-4\">\n          <nav>\n            <a href=\"#/apps/email/compose\" className=\"btn btn-danger btn-block\">New Email</a>\n            <Nav>\n              <NavItem>\n                <NavLink href=\"#/apps/email/inbox\"><i className=\"fa fa-inbox\"></i> Inbox <Badge color=\"danger\">{this.state.InboxCount}</Badge></NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink href=\"#/apps/email/sent\"><i className=\"fa fa-inbox\"></i> Sent </NavLink>\n              </NavItem>\n            </Nav>\n          </nav>\n          <main className=\"inbox\">\n            <div className=\"toolbar\">\n              {/* {this.state.selectedEmail.length > 0 ?  */}\n              <ButtonGroup className={'mr-1'}>\n              <Button color=\"light\" onClick={() => this.addRemoveFlag('', \"FLAGGED\", false)}><span className=\"fa fa-star\"></span></Button> \n              <Button color=\"light\" onClick={() => this.addRemoveFlag('', \"FLAGGED\", true)}><span className=\"fa fa-star-o\"></span></Button>\n              <Button color=\"light\" onClick={() => this.addRemoveFlag('', \"SEEN\", false)}><span className=\"fa fa-envelope\"></span></Button> \n              <Button color=\"light\" onClick={() => this.addRemoveFlag('', \"SEEN\", true)}><span className=\"fa fa-envelope-o\"></span></Button>\n              <Button color=\"light\" onClick={() => this.deleteMessage('')}><span className=\"fa fa-trash-o\"></span></Button>\n              </ButtonGroup>\n              <div className=\"group float-right\">\n                <span className=\"p-input-icon-left\">\n                  <i className=\"pi pi-search\" />\n                  <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" />\n                </span>\n              </div>\n            </div>\n            <ul className=\"messages\">\n              <DataTable\n                ref={(el) => this.dt = el}\n                value={this.state.emailList}\n                rowClassName={this.rowClass}\n                first={this.state.selectedPage}\n                onPage={(e) => this.onPage(e)}\n                paginator={true}\n                rows={this.state.rowsPerPage}\n                totalRecords={this.state.emailList.length}\n                selection={this.state.selectedEmail}\n                onSelectionChange={e => this.setSelectedEmail(e.value)}\n                exportFilename=\"Email List\"\n                currentPageReportTemplate={this.state.str}\n                paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n                rowsPerPageOptions={this.state.rowsPerPageOptions}\n                globalFilter={this.state.globalFilter}\n                emptyMessage=\"No records found\"\n                responsive={true}\n                resizableColumns={true}\n                columnResizeMode=\"fit\"\n                scrollable={true}\n                scrollHeight=\"340px\">\n                <Column selectionMode=\"multiple\" style={{ width: '3em' }} />\n                {columns}\n              </DataTable>\n            </ul>\n          </main>\n        </div>\n        <Modal isOpen={this.state.tagModel} className={'modal-lg'} style={{ maxWidth: '70%' }}>\n          <ModalHeader toggle={() => this.setState({ tagModel: false })}> Tags </ModalHeader>\n          <ModalBody>\n            <Row>\n              <Col md=\"6\">\n                <span>Email Subject#: {this.state.editEmailData.Subject}</span>\n              </Col>\n              <Col md=\"6\">\n                <span>Date: {moment(this.state.editEmailData.CreatedOn).format(CommonConfig.dateFormat.forDatePicker)}</span>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"3\">\n                <div className=\"input-box\">\n                  <Input type=\"select\" name=\"tagType\" id=\"tagType\" value={this.state.tagType} onChange={(e) => this.selectType(e.target.value, 'tagType')}>\n                    <option value=\"\">Select Tag Type</option>\n                    {this.state.tagTypeArray.map((tagType, i) => {\n                      return (<option value={tagType.StringMapKey} key={i}>{tagType.StringMapName}</option>)\n                    })\n                    }\n                  </Input>\n                </div>\n              </Col>\n              <Col md=\"3\">\n                <div className=\"input-box\">\n                  <Input type=\"text\" name=\"tagValue\" id=\"tagValue\"\n                    value={this.state.tagValue}\n                    onChange={(e) => this.handleChange(e)} />\n                </div>\n              </Col>\n              <Col md=\"3\">\n                <Button color=\"success\" onClick={() => this.submitTags()}>Add</Button>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"7\">\n                <span>{this.state.tagsData.length} Tags </span>\n                <Table>\n                  <thead>\n                    <tr>\n                      <th className=\"center\">Tag Name</th>\n                      <th className=\"center\">Value</th>\n                      <th className=\"center\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {this.state.tagsData.map((tagData,i)=> {\n                      return (<tr>\n                        <td className=\"center\">{tagData.TagType}</td>\n                        <td className=\"center\">{tagData.TagValue}</td>\n                        <td className=\"center\"><Button color=\"light\" onClick={() => this.removeTagTemp(i)} className={'mr-1'}><span className=\"fa fa-trash-o\"></span></Button></td>\n                      </tr>)\n                    })\n                    }\n                  </tbody>\n                </Table>\n              </Col>\n            </Row>\n          </ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nexport default Inbox;\n"]},"metadata":{},"sourceType":"module"}