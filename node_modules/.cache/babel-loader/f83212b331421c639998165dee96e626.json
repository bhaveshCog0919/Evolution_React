{"ast":null,"code":"import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Card,CardBody,Col,Row,Input}from'reactstrap';import{Button}from'primereact/button';import api from'../../../utils/apiClient';import APIConstant from'../../../utils/constants';import{AutoComplete}from'primereact/autocomplete';import{Calendar}from'primereact/calendar';import{InputTextarea}from'primereact/inputtextarea';import'react-toastify/dist/ReactToastify.css';import{CommonConfig}from'../../../utils/constants';var PreviousBoatingExperinceInYearsMaster=[{label:'0',value:'0'},{label:'1',value:'1'},{label:'2',value:'2'},{label:'3',value:'3'},{label:'4',value:'4'},{label:'5',value:'5'},{label:'6',value:'6'},{label:'7',value:'7'},{label:'8',value:'8'},{label:'9',value:'9'},{label:'10',value:'10'},{label:'11',value:'11'},{label:'12',value:'12'},{label:'13',value:'13'},{label:'14',value:'14'},{label:'15',value:'15'},{label:'16',value:'16'},{label:'17',value:'17'},{label:'18',value:'18'},{label:'19',value:'19'},{label:'20',value:'20'},{label:'21',value:'21'},{label:'22',value:'22'},{label:'23',value:'23'},{label:'24',value:'24'},{label:'25',value:'25'},{label:'26',value:'26'},{label:'27',value:'27'},{label:'28',value:'28'},{label:'29',value:'29'},{label:'30',value:'30'}];var typeMaster=[{label:'Type1',value:'Type1'},{label:'Type2',value:'Type2'},{label:'Type3',value:'Type3'}];var NewPolicy=/*#__PURE__*/function(_Component){_inherits(NewPolicy,_Component);var _super=_createSuper(NewPolicy);function NewPolicy(props){var _this;_classCallCheck(this,NewPolicy);_this=_super.call(this,props);_this.state={contactShown:'',filteredcontactsSingle:null,contactArray:[],contactName:'',contactAddr1:'',contactAddr2:'',contactAddr3:'',contactCity:'',contactState:'',contactCountry:'',contactPostalCode:'',contactEmail:'',contactPhone:'',contactCode:'',enabled:false,country:'',isEnabledPolicySetup:true,//Sagar\ncontactShownError:true,PersonId:''//Sagar  \n};return _this;}_createClass(NewPolicy,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"filterSingle\",value:function filterSingle(e){var _this2=this;// debugger;\nvar data1={val:e.query};api.post('api/getContactList',data1).then(function(res){if(res.success){console.log(res.data);var data2=[];for(var i=0;i<res.data.length;i++){data2.push({label:res.data[i].fullname+'|'+res.data[i].PhoneNumber+'|'+res.data[i].countryname,value:res.data[i].PersonId+'+_+'+res.data[i].fullname+'+_+'+res.data[i].addr+'+_+'+res.data[i].City+'+_+'+res.data[i].State+'+_+'+res.data[i].countryname+'+_+'+res.data[i].PostalCode+'+_+'+res.data[i].Email+'+_+'+res.data[i].CountryCode+'+_+'+res.data[i].AreaCode+'+_+'+res.data[i].PhoneNumber+'+_+'+res.data[i].ContactCode});}res.data.length?_this2.setState({enabled:true}):_this2.setState({enabled:false});_this2.setState({contactArray:res.data,filteredcontactsSingle:data2});}else{}}).catch(function(err){console.log(\"error\",err);});// this.getContact();  //NewPolicy\n// let results = this.state.contactArray.filter((contact) => {\n//    return contact.label.toLowerCase().startsWith(e.query.toLowerCase());\n// });\n}// getContact() {\n//    const data1 = { datavalue: '' };\n//    api.post('api/getContact', data1).then(res => {\n//       if (res.success) {\n//          var data2 = [];\n//          for (var i = 0; i < res.data.length; i++)\n//             data2.push({ label: res.data[i]['entityname'] + '|' + res.data[i]['PhoneNumber'] + '|' + res.data[i].Country, value: res.data[i]['PersonId'] + '+_+' + res.data[i]['entityname'] + '+_+' + res.data[i]['AddrLine1'] + '+_+' + res.data[i]['AddrLine2'] + '+_+' + res.data[i]['AddrLine3'] + '+_+' + res.data[i]['City'] + '+_+' + res.data[i]['State'] + '+_+' + res.data[i]['Country'] + '+_+' + res.data[i]['PhoneNumber'] });\n//          this.setState({ contactArray: data2 });\n//       } else {\n//       }\n//    }).catch(err => {\n//       console.log(\"error\", err);\n//    });\n// }\n},{key:\"showContactLabel\",value:function showContactLabel(e){// debugger;\nthis.show(\"contactShown\",false);var contact=e.value.value.split('+_+');this.setState({contactShown:e.value,contactShownError:false,PersonId:contact[0]});this.setState({contactName:contact[1]});this.setState({contactAddr1:contact[2]!=''?contact[2]+', ':''});this.setState({contactCity:contact[3]!=''?contact[3]+', ':''});this.setState({contactState:contact[4]!=''&&contact[4]!='undefined'?contact[4]+', ':''});this.setState({contactCountry:contact[5]!=''?contact[5]+'':''});this.setState({contactPostalCode:contact[6]!=''?', '+contact[6]+'':''});this.setState({contactEmail:contact[7]!=''?contact[7]+'':''});this.setState({contactPhone:contact[10]!=''?CommonConfig.formatPhone(contact[8],contact[9],contact[10]):''});this.setState({contactCode:contact[11]!=''?' (#'+contact[11]+')':''});this.setState({isEnabledPolicySetup:false});}},{key:\"gotoNextPage\",value:function gotoNextPage(){if(this.state.contactShownError===false){var Id=this.state.PersonId;this.props.history.push({pathname:'/CreatePolicy/'+Id,state:{Id:Id}});}else{this.show(\"contactShown\",this.state.contactShownError);}}},{key:\"showContactLabel1\",value:function showContactLabel1(e){// debugger;\nCommonConfig.isEmpty(e.value)?this.setState({enabled:false}):this.setState({enabled:true});this.setState({contactShown:e.value,isEnabledPolicySetup:true,contactName:'',contactAddr1:'',contactAddr2:'',contactAddr3:'',contactCity:'',contactState:'',contactCountry:'',contactPostalCode:'',contactEmail:'',contactPhone:'',contactCode:''});}},{key:\"newContact\",value:function newContact(){this.props.history.push({pathname:'/addContactDetails'});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{style:{margin:\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"5\"},/*#__PURE__*/React.createElement(\"label\",null,\"Contact Name or ID\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(AutoComplete,{value:this.state.contactShown,minLength:2,suggestions:this.state.filteredcontactsSingle,completeMethod:function completeMethod(e){return _this3.filterSingle(e);},field:\"label\",name:\"contactShown\",id:\"contactShown\",size:49,placeholder:\"Contact Name or ID\",onSelect:function onSelect(e){return _this3.showContactLabel(e);},onChange:function onChange(e){return _this3.showContactLabel1(e);}}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please select a contact \")),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#16626C\"}},\"Please enter min 3-4 characters to search\")),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"add-btn\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\"}),\" \",/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-plus\",disabled:this.state.enabled,tooltip:\"Add Contact\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this3.newContact();}}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-info\"},/*#__PURE__*/React.createElement(\"b\",null,this.state.contactName,this.state.contactCode),/*#__PURE__*/React.createElement(\"br\",null),this.state.contactAddr1,this.state.contactAddr2,this.state.contactAddr3,this.state.contactCity,this.state.contactState,this.state.contactCountry,this.state.contactPostalCode,/*#__PURE__*/React.createElement(\"br\",null),this.state.contactPhone,/*#__PURE__*/React.createElement(\"br\",null),this.state.contactEmail,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-plus\",label:\"New Policy Setup\",disabled:this.state.isEnabledPolicySetup,tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this3.gotoNextPage();}}))))))));}}]);return NewPolicy;}(Component);export default NewPolicy;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Policy/New Policy/NewPolicy.js"],"names":["React","Component","Card","CardBody","Col","Row","Input","Button","api","APIConstant","AutoComplete","Calendar","InputTextarea","CommonConfig","PreviousBoatingExperinceInYearsMaster","label","value","typeMaster","NewPolicy","props","state","contactShown","filteredcontactsSingle","contactArray","contactName","contactAddr1","contactAddr2","contactAddr3","contactCity","contactState","contactCountry","contactPostalCode","contactEmail","contactPhone","contactCode","enabled","country","isEnabledPolicySetup","contactShownError","PersonId","field","condition","document","getElementById","className","e","data1","val","query","post","then","res","success","console","log","data","data2","i","length","push","fullname","PhoneNumber","countryname","addr","City","State","PostalCode","Email","CountryCode","AreaCode","ContactCode","setState","catch","err","show","contact","split","formatPhone","Id","history","pathname","isEmpty","margin","filterSingle","showContactLabel","showContactLabel1","color","position","newContact","gotoNextPage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { Card, CardBody, Col, Row, Input } from 'reactstrap';\nimport { Button } from 'primereact/button';\nimport api from '../../../utils/apiClient';\nimport APIConstant from '../../../utils/constants';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport { Calendar } from 'primereact/calendar';\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { CommonConfig } from '../../../utils/constants';\n\nconst PreviousBoatingExperinceInYearsMaster = [\n   { label: '0', value: '0' },\n   { label: '1', value: '1' },\n   { label: '2', value: '2' },\n   { label: '3', value: '3' },\n   { label: '4', value: '4' },\n   { label: '5', value: '5' },\n   { label: '6', value: '6' },\n   { label: '7', value: '7' },\n   { label: '8', value: '8' },\n   { label: '9', value: '9' },\n   { label: '10', value: '10' },\n   { label: '11', value: '11' },\n   { label: '12', value: '12' },\n   { label: '13', value: '13' },\n   { label: '14', value: '14' },\n   { label: '15', value: '15' },\n   { label: '16', value: '16' },\n   { label: '17', value: '17' },\n   { label: '18', value: '18' },\n   { label: '19', value: '19' },\n   { label: '20', value: '20' },\n   { label: '21', value: '21' },\n   { label: '22', value: '22' },\n   { label: '23', value: '23' },\n   { label: '24', value: '24' },\n   { label: '25', value: '25' },\n   { label: '26', value: '26' },\n   { label: '27', value: '27' },\n   { label: '28', value: '28' },\n   { label: '29', value: '29' },\n   { label: '30', value: '30' },\n];\nconst typeMaster = [\n   { label: 'Type1', value: 'Type1' },\n   { label: 'Type2', value: 'Type2' },\n   { label: 'Type3', value: 'Type3' },\n];\nclass NewPolicy extends Component {\n   constructor(props) {\n      super(props);\n\n      this.state = {\n         contactShown: '',\n         filteredcontactsSingle: null,\n         contactArray: [],\n         contactName: '',\n         contactAddr1: '',\n         contactAddr2: '',\n         contactAddr3: '',\n         contactCity: '',\n         contactState: '',\n         contactCountry: '',\n         contactPostalCode: '',\n         contactEmail: '',\n         contactPhone: '',\n         contactCode: '',\n         enabled: false,\n         country: '',\n         isEnabledPolicySetup: true,\n\n         //Sagar\n         contactShownError: true,\n         PersonId: '',\n         //Sagar  \n      };\n\n   }\n\n\n   componentDidMount() {\n\n   }\n\n   show(field, condition) {\n      if (condition) {\n         document.getElementById(field).className = \"form-control is-invalid\";\n      } else {\n         document.getElementById(field).className = \"form-control\";\n      }\n   }\n\n\n   filterSingle(e) {\n      // debugger;\n      let data1 = { val: e.query };\n      api.post('api/getContactList', data1).then(res => {\n         if (res.success) {\n            console.log(res.data);\n\n            let data2 = [];\n            for (let i = 0; i < res.data.length; i++) {\n               data2.push({\n                  label: res.data[i].fullname + '|' + res.data[i].PhoneNumber + '|' + res.data[i].countryname,\n                  value: res.data[i].PersonId + '+_+' + res.data[i].fullname + '+_+' + res.data[i].addr + '+_+' + res.data[i].City + '+_+' + res.data[i].State + '+_+' + res.data[i].countryname + '+_+' + res.data[i].PostalCode + '+_+' + res.data[i].Email + '+_+' + res.data[i].CountryCode + '+_+' + res.data[i].AreaCode + '+_+' + res.data[i].PhoneNumber + '+_+' + res.data[i].ContactCode\n               });\n            }\n            (res.data.length) ? this.setState({ enabled: true }) : this.setState({ enabled: false });\n\n            this.setState({ contactArray: res.data, filteredcontactsSingle: data2 });\n         } else {\n\n         }\n      }).catch(err => {\n         console.log(\"error\", err);\n      });\n      // this.getContact();  //NewPolicy\n      // let results = this.state.contactArray.filter((contact) => {\n      //    return contact.label.toLowerCase().startsWith(e.query.toLowerCase());\n      // });\n\n\n   }\n\n   // getContact() {\n\n   //    const data1 = { datavalue: '' };\n\n   //    api.post('api/getContact', data1).then(res => {\n   //       if (res.success) {\n   //          var data2 = [];\n   //          for (var i = 0; i < res.data.length; i++)\n\n   //             data2.push({ label: res.data[i]['entityname'] + '|' + res.data[i]['PhoneNumber'] + '|' + res.data[i].Country, value: res.data[i]['PersonId'] + '+_+' + res.data[i]['entityname'] + '+_+' + res.data[i]['AddrLine1'] + '+_+' + res.data[i]['AddrLine2'] + '+_+' + res.data[i]['AddrLine3'] + '+_+' + res.data[i]['City'] + '+_+' + res.data[i]['State'] + '+_+' + res.data[i]['Country'] + '+_+' + res.data[i]['PhoneNumber'] });\n   //          this.setState({ contactArray: data2 });\n   //       } else {\n\n   //       }\n   //    }).catch(err => {\n   //       console.log(\"error\", err);\n   //    });\n   // }\n\n   showContactLabel(e) {\n      // debugger;\n      this.show(\"contactShown\", false);\n      var contact = e.value.value.split('+_+');\n      this.setState({ contactShown: e.value, contactShownError: false, PersonId: contact[0] });\n\n      this.setState({ contactName: contact[1] });\n      this.setState({ contactAddr1: (contact[2] != '') ? contact[2] + ', ' : '' });\n      this.setState({ contactCity: (contact[3] != '') ? contact[3] + ', ' : '' });\n      this.setState({ contactState: (contact[4] != '' && contact[4] != 'undefined') ? contact[4] + ', ' : '' });\n      this.setState({ contactCountry: (contact[5] != '') ? contact[5] + '' : '' });\n      this.setState({ contactPostalCode: (contact[6] != '') ? ', ' + contact[6] + '' : '' });\n      this.setState({ contactEmail: (contact[7] != '') ? contact[7] + '' : '' });\n      this.setState({ contactPhone: (contact[10] != '') ? CommonConfig.formatPhone(contact[8], contact[9], contact[10]) : '' });\n      this.setState({ contactCode: (contact[11] != '') ? ' (#' + contact[11] + ')' : '' });\n      this.setState({ isEnabledPolicySetup: false })\n   }\n\n   gotoNextPage() {\n      if (this.state.contactShownError === false) {\n         var Id = this.state.PersonId;\n         this.props.history.push({\n            pathname: '/CreatePolicy/' + Id,\n            state: {\n               Id: Id\n            }\n         });\n      }\n      else {\n         this.show(\"contactShown\", this.state.contactShownError);\n      }\n   }\n\n   showContactLabel1(e) {\n      // debugger;\n      (CommonConfig.isEmpty(e.value)) ? this.setState({ enabled: false }) : this.setState({ enabled: true });\n      this.setState({\n         contactShown: e.value,\n         isEnabledPolicySetup: true,\n         contactName: '',\n         contactAddr1: '',\n         contactAddr2: '',\n         contactAddr3: '',\n         contactCity: '',\n         contactState: '',\n         contactCountry: '',\n         contactPostalCode: '',\n         contactEmail: '',\n         contactPhone: '',\n         contactCode: ''\n      });\n   }\n\n\n   newContact() {\n      this.props.history.push({\n         pathname: '/addContactDetails',\n      });\n   }\n\n   render() {\n\n      return (\n         <div>\n            <Row>\n               <Col style={{ margin: \"20px\" }}>\n                  <div className=\"input-box\">\n                     <Row>\n                        <Col md=\"5\" >\n                           <label>Contact Name or ID</label>\n\n                           <div className=\"input-box\">\n                              <AutoComplete value={this.state.contactShown} minLength={2} suggestions={this.state.filteredcontactsSingle} completeMethod={(e) => this.filterSingle(e)} field=\"label\"\n                                 name=\"contactShown\" id=\"contactShown\" size={49} placeholder=\"Contact Name or ID\" onSelect={(e) => this.showContactLabel(e)} onChange={(e) => this.showContactLabel1(e)} />\n                              <em className=\"error invalid-feedback\"> Please select a contact </em>\n                           </div>\n                           <span style={{ color: \"#16626C\" }}>Please enter min 3-4 characters to search</span>\n                        </Col>\n\n                        <Col >\n                           <div className=\"add-btn\">\n                              <i className=\"pi pi-search\"></i> <Button type=\"button\" icon=\"pi pi-plus\" disabled={this.state.enabled} tooltip=\"Add Contact\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.newContact()}></Button>\n                           </div>\n                        </Col>\n                        <Col >\n                           <div className=\"user-info\">\n                              <b>{this.state.contactName}{this.state.contactCode}</b><br />\n                              {this.state.contactAddr1}\n                              {this.state.contactAddr2}\n                              {this.state.contactAddr3}\n                              {this.state.contactCity}\n                              {this.state.contactState}\n                              {this.state.contactCountry}\n                              {this.state.contactPostalCode}<br />\n                              {this.state.contactPhone}<br />\n                              {this.state.contactEmail}<br /><br />\n                              <Button type=\"button\" icon=\"pi pi-plus\" label=\"New Policy Setup\" disabled={this.state.isEnabledPolicySetup} tooltipOptions={{ position: 'bottom' }} onClick={() => this.gotoNextPage()}></Button>\n                           </div>\n                        </Col>\n                     </Row>\n                  </div>\n               </Col>\n            </Row>\n         </div>\n      );\n\n   }\n}\n\nexport default NewPolicy;"]},"metadata":{},"sourceType":"module"}