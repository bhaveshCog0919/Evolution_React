{"ast":null,"code":"var _jsxFileName = \"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/containers/DefaultLayout/DefaultLayout.js\";\nimport React, { Component, Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport * as router from 'react-router-dom';\nimport { Container } from 'reactstrap';\nimport Cookies from 'js-cookie';\nimport APIConstant, { CommonConfig } from '../../utils/constants';\nimport api from '../../utils/apiClient';\nimport { AppAside, AppFooter, AppHeader, AppSidebar, AppSidebarFooter, AppSidebarForm, AppSidebarHeader, AppSidebarMinimizer, AppBreadcrumb2 as AppBreadcrumb, AppSidebarNav2 as AppSidebarNav } from '@coreui/react'; // sidebar nav config\n\nimport navigation from '../../_nav';\nimport navigationLimited from '../../_navigationLimited'; // routes config\n\nimport routes from '../../routes';\nimport { isNull } from 'lodash';\nimport { toast } from 'react-toastify';\nimport DefaultHeader from './DefaultHeader';\nconst DefaultAside = React.lazy(() => import('./DefaultAside'));\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter')); // const DefaultHeader = React.lazy(() => import('./DefaultHeader'));\n\nclass DefaultLayout extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.loading = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"animated fadeIn pt-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 18\n      }\n    }, \"Loading...\");\n  }\n\n  async signOut(e) {\n    e.preventDefault();\n    await this.releaseLock();\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('loggedInUserData'); // Cookies.remove('access_token');\n    // Cookies.remove('loggedInUserData');\n\n    this.props.history.push('/login');\n  } // changePassword = e => {\n  //   this.props.history.push('/changePassword');\n  // }\n\n\n  async releaseLock() {\n    let data = {\n      'PolicyId': '',\n      'ReleaseAll': 1\n    };\n    await api.post('api/releaseLock', data).then(res => {\n      if (res.success) {\n        if (res.data[0][0].returnValue == '') {\n          toast.success(\"Policy unlocked Successfully\");\n        } else {\n          toast.warn(res.data[0][0].returnValue);\n        }\n      } else {\n        toast.warn(\"SomeThing went wrong.\");\n      }\n    }).catch(err => {\n      console.log(\"setLock err\", err);\n    });\n  }\n\n  componentDidMount() {\n    this.navData = '';\n    document.body.classList.remove('brand-minimized');\n    window.scrollTo(0, 0);\n\n    (async () => {\n      try {\n        var UserData = await CommonConfig.loggedInUserData();\n\n        if (!CommonConfig.isEmpty(UserData)) {\n          if (UserData.Email === \"fina@yachtsman.es\") {\n            this.navData = navigationLimited;\n          } else {\n            this.navData = navigation;\n          }\n        } else {\n          toast.error('Please login in to Evolution.');\n          this.props.history.push('/login');\n        }\n      } catch (e) {\n        toast.error('Please login in to Evolution.');\n        this.props.history.push('/login');\n      }\n    })();\n  }\n\n  mouseEnterSidebar() {\n    var isExist = document.body.classList.contains(\"sidebar-minimized\");\n\n    if (isExist !== 1) {\n      document.body.classList.remove('sidebar-minimized');\n      document.body.classList.remove('brand-minimized');\n    }\n  }\n\n  mouseLeaveSidebar() {\n    document.body.classList.add('sidebar-minimized');\n    document.body.classList.remove('brand-minimized');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(AppHeader, {\n      fixed: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: this.loading(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(DefaultHeader, Object.assign({}, this.props, {\n      onLogout: e => this.signOut(e) // changePassword={e => this.changePassword(e)} \n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(AppSidebar, {\n      fixed: true,\n      minimized: true,\n      display: \"lg\",\n      onMouseEnter: this.mouseEnterSidebar,\n      onMouseLeave: this.mouseLeaveSidebar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(AppSidebarHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(AppSidebarForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Suspense, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(AppSidebarNav, Object.assign({\n      navConfig: this.navData === null ? navigation : this.navData\n    }, this.props, {\n      router: router,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(AppSidebarFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(AppBreadcrumb, {\n      appRoutes: routes,\n      router: router,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: this.loading(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, routes.map((route, idx) => {\n      return route.component ? /*#__PURE__*/React.createElement(Route, {\n        key: idx,\n        path: route.path,\n        exact: route.exact,\n        name: route.name,\n        render: props => /*#__PURE__*/React.createElement(route.component, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 14\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 12\n        }\n      }) : null;\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      from: \"/\",\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 10\n      }\n    }))))), /*#__PURE__*/React.createElement(AppAside, {\n      fixed: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: this.loading(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DefaultAside, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 8\n      }\n    })))), /*#__PURE__*/React.createElement(AppFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: this.loading(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(DefaultFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nexport default DefaultLayout;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/containers/DefaultLayout/DefaultLayout.js"],"names":["React","Component","Suspense","Redirect","Route","Switch","router","Container","Cookies","APIConstant","CommonConfig","api","AppAside","AppFooter","AppHeader","AppSidebar","AppSidebarFooter","AppSidebarForm","AppSidebarHeader","AppSidebarMinimizer","AppBreadcrumb2","AppBreadcrumb","AppSidebarNav2","AppSidebarNav","navigation","navigationLimited","routes","isNull","toast","DefaultHeader","DefaultAside","lazy","DefaultFooter","DefaultLayout","loading","signOut","e","preventDefault","releaseLock","localStorage","removeItem","props","history","push","data","post","then","res","success","returnValue","warn","catch","err","console","log","componentDidMount","navData","document","body","classList","remove","window","scrollTo","UserData","loggedInUserData","isEmpty","Email","error","mouseEnterSidebar","isExist","contains","mouseLeaveSidebar","add","render","map","route","idx","component","path","exact","name"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport * as router from 'react-router-dom';\nimport { Container } from 'reactstrap';\nimport Cookies from 'js-cookie';\nimport APIConstant, { CommonConfig } from '../../utils/constants';\nimport api from '../../utils/apiClient';\n\nimport {\n\tAppAside,\n\tAppFooter,\n\tAppHeader,\n\tAppSidebar,\n\tAppSidebarFooter,\n\tAppSidebarForm,\n\tAppSidebarHeader,\n\tAppSidebarMinimizer,\n\tAppBreadcrumb2 as AppBreadcrumb,\n\tAppSidebarNav2 as AppSidebarNav,\n} from '@coreui/react';\n// sidebar nav config\nimport navigation from '../../_nav';\nimport navigationLimited from '../../_navigationLimited';\n// routes config\nimport routes from '../../routes';\nimport { isNull } from 'lodash';\nimport { toast } from 'react-toastify';\nimport DefaultHeader from './DefaultHeader';\n\nconst DefaultAside = React.lazy(() => import('./DefaultAside'));\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter'));\n// const DefaultHeader = React.lazy(() => import('./DefaultHeader'));\n\nclass DefaultLayout extends Component {\n\n\tloading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n\n\tasync signOut(e) {\n\t\te.preventDefault();\n\t\tawait this.releaseLock();\n\t\tlocalStorage.removeItem('access_token');\n\t\tlocalStorage.removeItem('loggedInUserData');\n\t\t// Cookies.remove('access_token');\n\t\t// Cookies.remove('loggedInUserData');\n\t\tthis.props.history.push('/login');\n\t}\n\n\t// changePassword = e => {\n\t//   this.props.history.push('/changePassword');\n\t// }\n\tasync releaseLock(){\n        let data = {\n            'PolicyId' : '',\n            'ReleaseAll' : 1\n        };\n        \n        await api.post('api/releaseLock', data).then(res => {\n            if (res.success) {\n                if(res.data[0][0].returnValue==''){\n                    toast.success(\"Policy unlocked Successfully\");  \n                }else{\n                    toast.warn(res.data[0][0].returnValue);\n                }\n                \n            } else {\n                toast.warn(\"SomeThing went wrong.\");\n            }\n        }).catch(err => {\n            console.log(\"setLock err\", err);\n        });\n\n    }\n\tcomponentDidMount() {\n\n\t\tthis.navData = '';\n\n\t\tdocument.body.classList.remove('brand-minimized');\n\t\twindow.scrollTo(0, 0);\n\n\t\t(async () => {\n\t\t\ttry {\n\n\t\t\t\tvar UserData = await CommonConfig.loggedInUserData();\n\t\t\t\tif (!CommonConfig.isEmpty(UserData)) {\n\t\t\t\t\tif (UserData.Email === \"fina@yachtsman.es\") {\n\t\t\t\t\t\tthis.navData = navigationLimited;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.navData = navigation;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error('Please login in to Evolution.');\n\t\t\t\t\tthis.props.history.push('/login');\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error('Please login in to Evolution.');\n\t\t\t\tthis.props.history.push('/login');\n\t\t\t}\n\t\t})();\n\t}\n\n\tmouseEnterSidebar() {\n\t\tvar isExist = document.body.classList.contains(\"sidebar-minimized\");\n\t\tif (isExist !== 1) {\n\t\t\tdocument.body.classList.remove('sidebar-minimized');\n\t\t\tdocument.body.classList.remove('brand-minimized');\n\t\t}\n\t}\n\n\tmouseLeaveSidebar() {\n\t\tdocument.body.classList.add('sidebar-minimized');\n\t\tdocument.body.classList.remove('brand-minimized');\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<AppHeader fixed>\n\t\t\t\t\t<Suspense fallback={this.loading()}>\n\t\t\t\t\t\t<DefaultHeader {...this.props}\n\t\t\t\t\t\t\tonLogout={e => this.signOut(e)}\n\t\t\t\t\t\t// changePassword={e => this.changePassword(e)} \n\t\t\t\t\t\t/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</AppHeader>\n\n\t\t\t\t<div className=\"app-body\">\n\t\t\t\t\t<AppSidebar fixed minimized display=\"lg\"\n\t\t\t\t\t\tonMouseEnter={this.mouseEnterSidebar}\n\t\t\t\t\t\tonMouseLeave={this.mouseLeaveSidebar}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AppSidebarHeader />\n\n\t\t\t\t\t\t<AppSidebarForm />\n\n\t\t\t\t\t\t<Suspense>\n\t\t\t\t\t\t\t{/* <AppSidebarNav navConfig={navigation} {...this.props} router={router} /> */}\n\t\t\t\t\t\t\t<AppSidebarNav navConfig={(this.navData === null) ? navigation : this.navData} {...this.props} router={router} />\n\t\t\t\t\t\t</Suspense>\n\n\t\t\t\t\t\t<AppSidebarFooter />\n\n\t\t\t\t\t\t{/* <AppSidebarMinimizer /> */}\n\t\t\t\t\t</AppSidebar>\n\n\t\t\t\t\t<main className=\"main\">\n\t\t\t\t\t\t<AppBreadcrumb appRoutes={routes} router={router} />\n\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Suspense fallback={this.loading()}>\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t{routes.map((route, idx) => {\n\t\t\t\t\t\t\t\t\t\treturn route.component ? (\n\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\tpath={route.path}\n\t\t\t\t\t\t\t\t\t\t\t\texact={route.exact}\n\t\t\t\t\t\t\t\t\t\t\t\tname={route.name}\n\t\t\t\t\t\t\t\t\t\t\t\trender={props => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<route.component {...props} />\n\t\t\t\t\t\t\t\t\t\t\t\t)} />\n\t\t\t\t\t\t\t\t\t\t) : (null);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t<Redirect from=\"/\" to=\"/dashboard\" />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</main>\n\n\t\t\t\t\t<AppAside fixed>\n\t\t\t\t\t\t<Suspense fallback={this.loading()}>\n\t\t\t\t\t\t\t<DefaultAside />\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</AppAside>\n\t\t\t\t</div>\n\n\t\t\t\t<AppFooter>\n\t\t\t\t\t<Suspense fallback={this.loading()}>\n\t\t\t\t\t\t<DefaultFooter />\n\t\t\t\t\t</Suspense>\n\t\t\t\t</AppFooter>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DefaultLayout;"]},"metadata":{},"sourceType":"module"}