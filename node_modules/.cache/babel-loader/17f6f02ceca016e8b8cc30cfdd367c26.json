{"ast":null,"code":"var _jsxFileName = \"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/MonitoringReport.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport api from '../../utils/apiClient';\nimport moment from 'moment';\nimport DatePicker from 'react-date-picker';\nimport { withTranslation } from 'react-i18next';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { CommonConfig } from '../../utils/constants';\nimport { Button } from 'primereact/button';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { Collapse, Button as BTN, Input, Card, CardHeader, CardBody, Row, Col } from 'reactstrap';\nimport APIConstant from '../../utils/constants';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from 'reactstrap';\nimport { toast } from 'react-toastify';\nimport SearchBox from 'react-google-maps/lib/components/places/SearchBox';\n\nclass MonitoringReport extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPageString = e => {\n      let firstPage = e.first + 1;\n      let l = e.rows * (e.page + 1);\n      let lastPage = l < this.state.arr.length ? l : this.state.arr.length;\n      var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\n      this.setState({\n        selectedPage: e.first,\n        str: str,\n        rowsPerPage: e.rows\n      });\n    };\n\n    let columns = [{\n      field: \"SrNO\",\n      header: \"Sr No\",\n      sortable: true,\n      filter: true,\n      id: 0\n    }, {\n      field: \"MessageType\",\n      header: \"MessageType\",\n      sortable: true,\n      filter: true,\n      id: 1\n    }, {\n      field: \"MessageText\",\n      header: \"MessageText\",\n      sortable: true,\n      filter: true,\n      id: 2\n    }, {\n      field: \"Param\",\n      header: \"Param\",\n      sortable: true,\n      filter: true,\n      id: 3\n    }, {\n      field: \"Comment\",\n      header: \"Comment\",\n      sortable: true,\n      filter: true,\n      id: 4\n    }, {\n      body: this.CreatedOn.bind(this),\n      field: \"CreatedOn/UpdatedOn\",\n      header: \"CreatedOn/UpdatedOn\",\n      sortable: true,\n      filter: true,\n      id: 5\n    }, {\n      body: this.CreatedBy.bind(this),\n      field: \"CreatedBy/UpdatedBy\",\n      header: \"CreatedBy/UpdatedBy\",\n      sortable: true,\n      filter: true,\n      id: 6\n    }];\n    this.state = {\n      LanguageId: props.i18n.language === 'en' ? 'en-GB' : props.i18n.language === 'es' ? 'es-ES' : props.i18n.language === 'ie' ? 'en-IE' : props.i18n.language,\n      cols: columns,\n      arr: [],\n      selectedPage: 0,\n      rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n      str: '',\n      rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n      globalFilter: null,\n      searchCollapse: false\n    };\n    this.colOptions = [];\n\n    for (let col of columns) {\n      this.colOptions.push({\n        label: col.header,\n        value: col\n      });\n    }\n\n    this.export = this.export.bind(this);\n  }\n\n  componentDidMount() {\n    this.MonitoringReport();\n  }\n\n  CreatedOn(rowData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"policy-list-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, rowData.CreatedOn), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, rowData.UpdatedOn));\n  }\n\n  CreatedBy(rowData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"policy-list-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, rowData.CreatedBy), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, rowData.UpdatedBy));\n  }\n\n  MonitoringReport() {\n    api.post('api/MonitoringReport', '').then(res => {\n      if (res.success) {\n        var formattedData = [];\n        var dataLength = res.data[0].length;\n\n        if (dataLength > 0) {\n          for (let i = 0; i < dataLength; i++) {\n            var tempData = res.data[0][i];\n            console.log(\"tempData\", tempData);\n            formattedData.push({\n              SrNO: tempData.Id,\n              MessageType: tempData.MessageType,\n              MessageText: tempData.MessageText,\n              Param: tempData.Param,\n              Comment: tempData.Comment,\n              CreatedBy: tempData.CreatedBy,\n              UpdatedBy: tempData.UpdatedBy,\n              CreatedOn: moment(tempData.CreatedOn).format('DD/MM/YYYY'),\n              UpdatedOn: moment(tempData.UpdatedOn).format('DD/MM/YYYY')\n            });\n          }\n        }\n\n        let firstPage = formattedData.length ? '1' : '0';\n        let lastPage = this.state.rowsPerPage < formattedData.length ? this.state.rowsPerPage : formattedData.length;\n        let str = firstPage + ' to ' + lastPage + ' out of ' + formattedData.length + ' records';\n        this.setState({\n          arr: formattedData,\n          str: str\n        });\n      }\n    });\n  }\n\n  export() {\n    this.dt.exportCSV();\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    var header = null;\n    let columns = this.state.cols.map((col, i) => {\n      return /*#__PURE__*/React.createElement(Column, {\n        key: i,\n        field: col.field,\n        header: col.header,\n        body: col.body,\n        sortable: col.sortable,\n        filter: col.filter,\n        filterMatchMode: col.filterMatchMode,\n        style: col.style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Monitoring Report\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-right-option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MultiSelect, {\n      value: this.state.cols,\n      options: this.colOptions,\n      fixedPlaceholder: true,\n      placeholder: CommonConfig.dataTableConfig.columnToggleIcon,\n      tooltip: \"Show / Hide Column\",\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      onChange: this.onColumnToggle,\n      style: {\n        width: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-external-link\",\n      tooltip: \"Export as CSV\",\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      onClick: this.export,\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DataTable, {\n      ref: el => this.dt = el,\n      value: this.state.arr,\n      first: this.state.selectedPage,\n      onPage: e => this.getPageString(e),\n      paginator: true,\n      rows: this.state.rowsPerPage,\n      header: header,\n      totalRecords: this.state.arr.length,\n      exportFilename: \"Sub Agent Statement\",\n      currentPageReportTemplate: this.state.str,\n      scrollable: true,\n      paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\n      rowsPerPageOptions: this.state.rowsPerPageOptions,\n      globalFilter: this.state.globalFilter,\n      emptyMessage: \"No records found\",\n      responsive: true,\n      resizableColumns: true,\n      columnResizeMode: \"expand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, columns)));\n  }\n\n}\n\nexport default withTranslation()(MonitoringReport);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/MonitoringReport.js"],"names":["React","Component","Select","api","moment","DatePicker","withTranslation","DataTable","Column","CommonConfig","Button","MultiSelect","Collapse","BTN","Input","Card","CardHeader","CardBody","Row","Col","APIConstant","Modal","ModalBody","ModalHeader","ModalFooter","toast","SearchBox","MonitoringReport","constructor","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","arr","length","str","setState","selectedPage","rowsPerPage","columns","field","header","sortable","filter","id","body","CreatedOn","bind","CreatedBy","LanguageId","i18n","language","cols","rowsPerPageOptions","dataTableConfig","globalFilter","searchCollapse","colOptions","col","push","label","value","export","componentDidMount","rowData","UpdatedOn","UpdatedBy","post","then","res","success","formattedData","dataLength","data","i","tempData","console","log","SrNO","Id","MessageType","MessageText","Param","Comment","format","dt","exportCSV","render","t","map","filterMatchMode","style","columnToggleIcon","position","onColumnToggle","width","marginRight","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport api from '../../utils/apiClient';\r\nimport moment from 'moment';\r\nimport DatePicker from 'react-date-picker';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { CommonConfig } from '../../utils/constants';\r\nimport { Button } from 'primereact/button';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { Collapse, Button as BTN, Input, Card, CardHeader, CardBody, Row, Col } from 'reactstrap';\r\nimport APIConstant from '../../utils/constants';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from 'reactstrap';\r\nimport { toast } from 'react-toastify';\r\nimport SearchBox from 'react-google-maps/lib/components/places/SearchBox';\r\n\r\nclass MonitoringReport extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let columns = [\r\n            { field: \"SrNO\", header: \"Sr No\", sortable: true, filter: true, id: 0 },\r\n            { field: \"MessageType\", header: \"MessageType\", sortable: true, filter: true, id: 1 },\r\n            { field: \"MessageText\", header: \"MessageText\", sortable: true, filter: true, id: 2 },\r\n            { field: \"Param\", header: \"Param\", sortable: true, filter: true, id: 3 },\r\n            { field: \"Comment\", header: \"Comment\", sortable: true, filter: true, id: 4 },\r\n            { body: this.CreatedOn.bind(this), field: \"CreatedOn/UpdatedOn\", header: \"CreatedOn/UpdatedOn\", sortable: true, filter: true, id: 5 },\r\n            { body: this.CreatedBy.bind(this), field: \"CreatedBy/UpdatedBy\", header: \"CreatedBy/UpdatedBy\", sortable: true, filter: true, id: 6 },\r\n        ];\r\n\r\n        this.state = {\r\n            LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n            cols: columns,\r\n            arr: [],\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            str: '',\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            searchCollapse: false,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.export = this.export.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.MonitoringReport();\r\n    }\r\n\r\n    CreatedOn(rowData) {\r\n        return (\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.CreatedOn}</p>\r\n                <p>{rowData.UpdatedOn}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    CreatedBy(rowData) {\r\n        return (\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.CreatedBy}</p>\r\n                <p>{rowData.UpdatedBy}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    MonitoringReport() {\r\n        api.post('api/MonitoringReport', '').then(res => {\r\n            if (res.success) {\r\n                var formattedData = [];\r\n\r\n                var dataLength = res.data[0].length;\r\n                if (dataLength > 0) {\r\n                    for (let i = 0; i < dataLength; i++) {\r\n                        var tempData = res.data[0][i];\r\n                        console.log(\"tempData\", tempData);\r\n                        formattedData.push({\r\n                            SrNO: tempData.Id,\r\n                            MessageType: tempData.MessageType,\r\n                            MessageText: tempData.MessageText,\r\n                            Param: tempData.Param,\r\n                            Comment: tempData.Comment,\r\n                            CreatedBy: tempData.CreatedBy,\r\n                            UpdatedBy: tempData.UpdatedBy,\r\n                            CreatedOn: moment(tempData.CreatedOn).format('DD/MM/YYYY'),\r\n                            UpdatedOn: moment(tempData.UpdatedOn).format('DD/MM/YYYY')\r\n\r\n                        });\r\n                    }\r\n                }\r\n\r\n                let firstPage = (formattedData.length) ? '1' : '0';\r\n                let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n                let str = firstPage + ' to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n                this.setState({ arr: formattedData, str: str });\r\n            }\r\n        });\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.arr.length) ? l : this.state.arr.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    export() {\r\n        this.dt.exportCSV();\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        var header = null;\r\n\r\n        let columns = this.state.cols.map((col, i) => {\r\n            return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} style={col.style}\r\n            />;\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1>Monitoring Report</h1>\r\n                    <div className=\"header-right-option\">\r\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\" tooltipOptions={{ position: 'bottom' }}\r\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                        />\r\n\r\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"table-custom\">\r\n                    <DataTable ref={(el) => this.dt = el} value={this.state.arr} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                        paginator={true} rows={this.state.rowsPerPage} header={header} totalRecords={this.state.arr.length} exportFilename=\"Sub Agent Statement\"\r\n                        currentPageReportTemplate={this.state.str}\r\n                        scrollable={true}\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                        responsive={true} resizableColumns={true} columnResizeMode=\"expand\">\r\n                        {columns}\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(MonitoringReport);\r\n"]},"metadata":{},"sourceType":"module"}