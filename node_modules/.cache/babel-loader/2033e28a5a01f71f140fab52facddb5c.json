{"ast":null,"code":"var _jsxFileName = \"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/DraftPage.js\";\nimport React, { Component } from 'react';\nimport { Modal, Collapse, Button as BTN, ModalHeader, Card, CardHeader, CardBody, Col, Row, Input, Form } from 'reactstrap';\nimport { Button } from 'primereact/button';\nimport api from '../../utils/apiClient';\nimport { withTranslation } from 'react-i18next';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { InputText } from 'primereact/inputtext';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { CommonConfig } from '../../utils/constants';\nimport DatePicker from 'react-date-picker';\nimport moment from 'moment';\nimport APIConstant from '../../utils/constants';\nimport Select from 'react-select';\nimport 'react-select/dist/react-select.min.css';\nimport { off } from 'codemirror';\nimport { toast } from 'react-toastify';\nimport CKEditor from 'ckeditor4-react';\n\nclass DraftPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDetailsChange = evt => {\n      const data = evt.editor.getData();\n\n      if (CommonConfig.isEmpty(data)) {\n        this.setState({\n          templateNote: ''\n        });\n      } else {\n        this.setState({\n          templateNote: data\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      custom: true,\n      messagetype: 'SMS',\n      policyCount: 0,\n      templateList: [],\n      templateId: '',\n      editMessageField: false,\n      DynamicTemplateList: [],\n      DynamicTemplateId: '',\n      addRecipientSmsEmailData: [],\n      templateNote: '',\n      updateTemplate: false,\n      batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId'),\n      loginId: CommonConfig.loggedInUserId()\n    };\n    this.onRadioBtnClick = this.onRadioBtnClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSmsEmailTemplate();\n    this.getSmsEmailCount();\n  }\n\n  SentData() {\n    let data = {\n      templateId: this.state.templateId,\n      custom: this.state.custom,\n      messagetype: this.state.messagetype,\n      policyCount: this.state.policyCount,\n      getSmsEmailCount: this.state.getSmsEmailCount,\n      templateList: this.state.templateList,\n      templateId: this.state.templateId,\n      editMessageField: this.state.editMessageField,\n      DynamicTemplateList: this.state.templateId,\n      DynamicTemplateId: this.state.DynamicTemplateId,\n      templateNote: this.state.templateNote,\n      updateTemplate: this.state.updateTemplate,\n      loginId: this.state.loginId,\n      batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId')\n    };\n    api.post('api/sendSMSEMAIL', data).then(res => {\n      if (res.success) {}\n    });\n  }\n\n  getDinamicField() {\n    let data = {\n      messagetype: this.state.messagetype,\n      templateId: this.state.templateId,\n      loginId: this.state.loginId\n    };\n    api.post('api/getDinamicField', data).then(res => {\n      debugger;\n\n      if (res.success) {\n        this.state.DynamicTemplateList = [];\n        res.data.forEach(element => {\n          var data = {\n            value: element.TamplateName,\n            label: element.TamplateName\n          };\n          this.state.DynamicTemplateList.push(data);\n        });\n      }\n    });\n  }\n\n  getSmsEmailTemplate() {\n    let data = {\n      messagetype: this.state.messagetype,\n      // templateId: this.state.templateId,\n      loginId: this.state.loginId\n    };\n    api.post('api/getSmsEmailTemplate', data).then(res => {\n      debugger;\n\n      if (res.success) {\n        this.state.templateList = [];\n        this.setState({\n          templateListdata: res.data\n        });\n        res.data.forEach(element => {\n          var data = {\n            value: element.MessageTemplateId,\n            label: element.TamplateName\n          };\n          this.state.templateList.push(data);\n        });\n      }\n    });\n  }\n\n  getSmsEmailCount() {\n    let data = {\n      batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId'),\n      loginId: this.state.loginId\n    };\n    api.post('api/getSmsEmailCount', data).then(res => {\n      debugger;\n\n      if (res.success) {\n        this.setState({\n          getSmsEmailCount: res.data,\n          policyCount: res.data.length\n        });\n      }\n    });\n  }\n\n  onRadioBtnClick(radioType, radioSelected) {\n    this.setState({\n      [radioType]: radioSelected\n    });\n    this.getSmsEmailTemplate();\n    this.getDinamicField();\n  }\n\n  componentWillUpdate(nextProps) {}\n\n  editMessageField() {\n    this.setState({\n      editMessageField: !this.state.editMessageField\n    });\n    this.getDinamicField();\n  }\n\n  selectType(value, type) {\n    if (value === '' || value === undefined || value === null) {\n      this.setState({\n        [type]: ''\n      });\n    } else {\n      this.setState({\n        [type]: value.value\n      });\n      debugger;\n\n      if (type == 'templateId') {\n        this.state.templateListdata.forEach(element => {\n          // this.setState({ templateNote: '' });\n          if (element.MessageTemplateId == value.value) {\n            this.setState({\n              templateNote: element.TemplateMessage\n            });\n          }\n        });\n      } else if (type == 'DynamicTemplateId') {\n        var note = this.state.templateNote;\n        note = note + value.value;\n        this.setState({\n          templateNote: note\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    var header = null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      id: \"accordion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      id: \"headingOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"m-0 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, \"Draft message\")), /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: this.state.custom,\n      \"data-parent\": \"#accordion\",\n      id: \"collapseOne\",\n      \"aria-labelledby\": \"headingOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 45\n      }\n    }, \"You have Selected: \", this.state.policyCount)))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 45\n      }\n    }, \"Message Type\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"radio\",\n      name: \"messagetype\",\n      checked: this.state.messagetype === 'SMS' ? true : false,\n      value: this.state.messagetype,\n      onClick: () => this.onRadioBtnClick('messagetype', 'SMS'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 49\n      }\n    }), \"SMS\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"radio\",\n      name: \"messagetype\",\n      checked: this.state.messagetype === 'EMAIL' ? true : false,\n      value: this.state.messagetype,\n      onClick: () => this.onRadioBtnClick('messagetype', 'EMAIL'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 49\n      }\n    }), \"EMAIL\")))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 45\n      }\n    }, \"Select SMS/Email Template\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      name: \"templateId\",\n      id: \"templateId\",\n      options: this.state.templateList,\n      value: this.state.templateId,\n      onChange: data => this.selectType(data, 'templateId'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 45\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(BTN, {\n      color: \"success\",\n      title: \"Edit\",\n      onClick: () => this.editMessageField(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 46\n      }\n    }, \"Edit\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 37\n      }\n    }, this.state.editMessageField ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 75\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 45\n      }\n    }, \"Pick Dynamic Field\")) : null), /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 37\n      }\n    }, this.state.editMessageField ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 75\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      name: \"DynamicTemplateId\",\n      id: \"DynamicTemplateId\",\n      options: this.state.DynamicTemplateList,\n      value: this.state.DynamicTemplateId,\n      onChange: data => this.selectType(data, 'DynamicTemplateId'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 45\n      }\n    })) : null)), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 37\n      }\n    }, this.state.messagetype == 'SMS' ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 45\n      }\n    }, \"Message\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 52\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 45\n      }\n    }, \"Email\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 37\n      }\n    }, this.state.messagetype == 'SMS' ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"templateNote\",\n      type: \"textarea\",\n      id: \"templateNote\",\n      className: \"\",\n      onChange: e => this.handleChange(e),\n      value: this.state.templateNote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 53\n      }\n    }))) : /*#__PURE__*/React.createElement(CKEditor, {\n      name: \"templateNote\",\n      id: \"templateNote\",\n      data: this.state.templateNote,\n      onChange: this.handleDetailsChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 56\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"2\",\n      style: {\n        marginLeft: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"radio\",\n      name: \"updateTemplate\",\n      checked: this.state.updateTemplate === 'yes' ? true : false,\n      value: this.state.updateTemplate,\n      onClick: () => this.onRadioBtnClick('updateTemplate', 'yes'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 49\n      }\n    }), \"Update Template\"))), /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(BTN, {\n      color: \"success\",\n      title: \"Sent\",\n      onClick: () => this.SentData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 45\n      }\n    }, \"Send\")))))))));\n  }\n\n}\n\nexport default withTranslation()(DraftPage);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/DraftPage.js"],"names":["React","Component","Modal","Collapse","Button","BTN","ModalHeader","Card","CardHeader","CardBody","Col","Row","Input","Form","api","withTranslation","DataTable","Column","MultiSelect","InputText","CommonConfig","DatePicker","moment","APIConstant","Select","off","toast","CKEditor","DraftPage","constructor","props","handleDetailsChange","evt","data","editor","getData","isEmpty","setState","templateNote","handleChange","e","target","name","value","state","custom","messagetype","policyCount","templateList","templateId","editMessageField","DynamicTemplateList","DynamicTemplateId","addRecipientSmsEmailData","updateTemplate","batchMessageHeaderId","localStorage","getItem","loginId","loggedInUserId","onRadioBtnClick","bind","componentDidMount","getSmsEmailTemplate","getSmsEmailCount","SentData","post","then","res","success","getDinamicField","forEach","element","TamplateName","label","push","templateListdata","MessageTemplateId","length","radioType","radioSelected","componentWillUpdate","nextProps","selectType","type","undefined","TemplateMessage","note","render","t","header","marginTop","marginBottom","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Modal, Collapse, Button as BTN, ModalHeader, Card, CardHeader, CardBody, Col, Row, Input, Form } from 'reactstrap';\r\nimport { Button } from 'primereact/button';\r\nimport api from '../../utils/apiClient';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { CommonConfig } from '../../utils/constants';\r\nimport DatePicker from 'react-date-picker';\r\nimport moment from 'moment';\r\nimport APIConstant from '../../utils/constants';\r\nimport Select from 'react-select';\r\nimport 'react-select/dist/react-select.min.css';\r\nimport { off } from 'codemirror';\r\nimport { toast } from 'react-toastify';\r\nimport CKEditor from 'ckeditor4-react';\r\n\r\n\r\nclass DraftPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            custom: true,\r\n            messagetype: 'SMS',\r\n\r\n            policyCount: 0,\r\n\r\n            templateList: [],\r\n            templateId: '',\r\n\r\n            editMessageField: false,\r\n\r\n            DynamicTemplateList: [],\r\n            DynamicTemplateId: '',\r\n            addRecipientSmsEmailData: [],\r\n            templateNote: '',\r\n\r\n            updateTemplate: false,\r\n            batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId'),\r\n            loginId: CommonConfig.loggedInUserId()\r\n\r\n        };\r\n        this.onRadioBtnClick = this.onRadioBtnClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.getSmsEmailTemplate();\r\n        this.getSmsEmailCount();\r\n    }\r\n\r\n    SentData() {\r\n        let data = {\r\n            templateId: this.state.templateId,\r\n            custom: this.state.custom,\r\n            messagetype: this.state.messagetype,\r\n\r\n            policyCount: this.state.policyCount,\r\n            getSmsEmailCount: this.state.getSmsEmailCount,\r\n            templateList: this.state.templateList,\r\n            templateId: this.state.templateId,\r\n\r\n            editMessageField: this.state.editMessageField,\r\n\r\n            DynamicTemplateList: this.state.templateId,\r\n            DynamicTemplateId: this.state.DynamicTemplateId,\r\n\r\n            templateNote: this.state.templateNote,\r\n\r\n            updateTemplate: this.state.updateTemplate,\r\n\r\n            loginId: this.state.loginId,\r\n            batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId'),\r\n        };\r\n        api.post('api/sendSMSEMAIL', data).then(res => {\r\n            if (res.success) {\r\n            }\r\n        });\r\n    }\r\n\r\n    getDinamicField() {\r\n        let data = {\r\n            messagetype: this.state.messagetype,\r\n            templateId: this.state.templateId,\r\n            loginId: this.state.loginId,\r\n        };\r\n        api.post('api/getDinamicField', data).then(res => {\r\n            debugger;\r\n            if (res.success) {\r\n                this.state.DynamicTemplateList = [];\r\n                res.data.forEach(element => {\r\n                    var data = {\r\n                        value: element.TamplateName,\r\n                        label: element.TamplateName\r\n                    }\r\n                    this.state.DynamicTemplateList.push(data);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getSmsEmailTemplate() {\r\n        let data = {\r\n            messagetype: this.state.messagetype,\r\n            // templateId: this.state.templateId,\r\n            loginId: this.state.loginId,\r\n        };\r\n        api.post('api/getSmsEmailTemplate', data).then(res => {\r\n            debugger;\r\n            if (res.success) {\r\n                this.state.templateList = [];\r\n                this.setState({ templateListdata: res.data });\r\n                res.data.forEach(element => {\r\n                    var data = {\r\n                        value: element.MessageTemplateId,\r\n                        label: element.TamplateName\r\n                    }\r\n                    this.state.templateList.push(data);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getSmsEmailCount() {\r\n        let data = {\r\n            batchMessageHeaderId: localStorage.getItem('batchMessageHeaderId'),\r\n            loginId: this.state.loginId,\r\n        };\r\n        api.post('api/getSmsEmailCount', data).then(res => {\r\n            debugger;\r\n            if (res.success) {\r\n                this.setState({\r\n                    getSmsEmailCount: res.data,\r\n                    policyCount: res.data.length\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    onRadioBtnClick(radioType, radioSelected) {\r\n        this.setState({ [radioType]: radioSelected });\r\n        this.getSmsEmailTemplate();\r\n        this.getDinamicField();\r\n    }\r\n\r\n    componentWillUpdate(nextProps) {\r\n\r\n    }\r\n\r\n    editMessageField() {\r\n        this.setState({ editMessageField: !this.state.editMessageField });\r\n        this.getDinamicField();\r\n    }\r\n    selectType(value, type) {\r\n        if (value === '' || value === undefined || value === null) {\r\n            this.setState({ [type]: '' });\r\n        } else {\r\n            this.setState({ [type]: value.value });\r\n            debugger;\r\n            if (type == 'templateId') {\r\n                this.state.templateListdata.forEach(element => {\r\n                    // this.setState({ templateNote: '' });\r\n                    if (element.MessageTemplateId == value.value) {\r\n\r\n                        this.setState({ templateNote: element.TemplateMessage });\r\n                    }\r\n                });\r\n            }\r\n            else if (type == 'DynamicTemplateId') {\r\n                var note = this.state.templateNote;\r\n                note = note + value.value;\r\n                this.setState({ templateNote: note });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleDetailsChange = (evt) => {\r\n        const data = evt.editor.getData();\r\n        if (CommonConfig.isEmpty(data)) {\r\n            this.setState({ templateNote: '' });\r\n        } else {\r\n            this.setState({ templateNote: data });\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n        var header = null;\r\n\r\n        return (\r\n            <div className=\"input-box\" id=\"accordion\">\r\n                <Card className=\"mb-0\">\r\n                    <CardHeader id=\"headingOne\">\r\n                        <h5 className=\"m-0 p-0\">Draft message</h5>\r\n                    </CardHeader>\r\n                    <Collapse isOpen={this.state.custom} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                        <CardBody>\r\n                            <div className=\"filter-data\">\r\n                                <Row>\r\n                                    <Col md='2'>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>You have Selected: {this.state.policyCount}</label>\r\n                                        </div>\r\n                                    </Col></Row>\r\n                                <Row style={{ marginBottom: '25px' }}>\r\n                                    <Col md='2'>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>Message Type</label>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col md='1'>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>\r\n                                                <Input type=\"radio\" name=\"messagetype\" checked={(this.state.messagetype === 'SMS') ? true : false} value={this.state.messagetype} onClick={() => this.onRadioBtnClick('messagetype', 'SMS')} />SMS</label>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col md='1'>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>\r\n                                                <Input type=\"radio\" name=\"messagetype\" checked={(this.state.messagetype === 'EMAIL') ? true : false}\r\n                                                    value={this.state.messagetype} onClick={() => this.onRadioBtnClick('messagetype', 'EMAIL')} />EMAIL</label>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row style={{ marginBottom: '25px' }}>\r\n                                    <Col md='2'>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>Select SMS/Email Template</label>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col md='2'>\r\n                                        <div className=\"input-box\">\r\n                                            <Select name=\"templateId\" id=\"templateId\" options={this.state.templateList}\r\n                                                value={this.state.templateId} onChange={(data) => this.selectType(data, 'templateId')}\r\n                                            />\r\n                                        </div>\r\n                                    </Col>\r\n\r\n                                </Row>\r\n                                <Row style={{ marginBottom: '25px' }}>\r\n                                    <Col md='1'>\r\n                                        <div><BTN color=\"success\" title=\"Edit\" onClick={() => this.editMessageField()}>Edit</BTN></div></Col>\r\n                                    <Col md='2'>\r\n                                        {(this.state.editMessageField) ? (<div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>Pick Dynamic Field</label>\r\n                                        </div>) : (null)}\r\n\r\n                                    </Col>\r\n                                    <Col md='2'>\r\n                                        {(this.state.editMessageField) ? (<div className=\"input-box\">\r\n                                            <Select name=\"DynamicTemplateId\" id=\"DynamicTemplateId\" options={this.state.DynamicTemplateList}\r\n                                                value={this.state.DynamicTemplateId} onChange={(data) => this.selectType(data, 'DynamicTemplateId')}\r\n                                            />\r\n                                        </div>) : (null)}\r\n                                    </Col>\r\n\r\n                                </Row>\r\n                                <Row style={{ marginBottom: '25px' }}>\r\n                                    <Col md='1'>{(this.state.messagetype == 'SMS') ? (\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>Message</label>\r\n                                        </div>) : (<div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>Email</label>\r\n                                        </div>)}\r\n                                    </Col>\r\n                                    <Col md='11'>\r\n                                        {(this.state.messagetype == 'SMS') ? (\r\n                                            <div className=\"input-box\">\r\n                                                <label style={{ marginTop: '10px' }}>\r\n                                                    <Input name=\"templateNote\" type=\"textarea\" id=\"templateNote\" className=\"\" onChange={e => this.handleChange(e)} value={this.state.templateNote} />\r\n                                                </label>\r\n                                            </div>) : (<CKEditor name=\"templateNote\" id=\"templateNote\" data={this.state.templateNote} onChange={this.handleDetailsChange} />)}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row style={{ marginBottom: '25px' }}>\r\n                                    <Col md='2' style={{ marginLeft: '25px' }}>\r\n                                        <div className=\"input-box\">\r\n                                            <label style={{ marginTop: '10px' }}>\r\n                                                <Input type=\"radio\" name=\"updateTemplate\" checked={(this.state.updateTemplate === 'yes') ? true : false}\r\n                                                    value={this.state.updateTemplate} onClick={() => this.onRadioBtnClick('updateTemplate', 'yes')} />Update Template</label>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col md='1'>\r\n                                        <div>\r\n                                            <BTN color=\"success\" title=\"Sent\" onClick={() => this.SentData()}>Send</BTN>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </div>\r\n                        </CardBody>\r\n                    </Collapse>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default withTranslation()(DraftPage);"]},"metadata":{},"sourceType":"module"}