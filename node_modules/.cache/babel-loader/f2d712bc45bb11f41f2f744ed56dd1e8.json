{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Stepper from'react-js-stepper';import{Col,Row,Modal,ModalBody,ModalHeader,ModalFooter,Button as BTN,Input}from'reactstrap';import{DataTable}from'primereact/datatable';import readXlsxFile from'read-excel-file';import{Column}from'primereact/column';import sampleCSV from\"../../../assets/files/Bulk Import Binder Rating1.csv\";import uuid from\"uuid\";import moment from'moment';import api from'../../../utils/apiClient';import APIConstant from'../../../utils/constants';import{CommonConfig}from'../../../utils/constants';import{toast}from'react-toastify';var steps=[{title:'File Upload'},{title:'Check File Data'},{title:'Import Result'}];export var BulkUpload=/*#__PURE__*/function(_Component){_inherits(BulkUpload,_Component);var _super=_createSuper(BulkUpload);function BulkUpload(props){var _this$state;var _this;_classCallCheck(this,BulkUpload);_this=_super.call(this,props);_this.handleOnClickStepper=function(step){_this.setState({currStep:step});};_this.handleOnClickNext1=function(){_this.upload();};_this.handleOnClickNext=function(){var nextStep=_this.state.currStep+1;_this.setState({currStep:nextStep});};_this.handleOnClickNext2=function(){_this.bulkInsertBinderRatingBands();};_this.handleOnClickBack=function(){var prevStep=_this.state.currStep-1;_this.setState({currStep:prevStep,FileNameError:true,FileName:'',Extension:''});};_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.fileData.length?l:_this.state.fileData.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.fileData.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.selectFile=function(event){if(event.target.files&&event.target.files[0]){var docname=event.target.files[0].name.split('.').slice(0,-1).join('.');var ext=event.target.files[0].name.split('.').pop();_this.setState({selectedfile:event.target.files[0],FileName:docname,FileNameError:false,Extension:ext});var reader=new FileReader();reader.onload=function(e){_this.setState({file:e.target.result});};reader.readAsDataURL(event.target.files[0]);}else{_this.setState({FileNameError:true,FileName:'',Extension:''});}};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='effectiveDate'){if(e.target.value===''||e.target.value===null){_this.setState({effectiveDateError:true});_this.show(\"effectiveDate\",true);}else{_this.setState({effectiveDateError:false,effectiveDate:e.target.value});_this.show(\"effectiveDate\",false);}}};var columns=[{field:\"RowNum\",header:\"RowNum\",sortable:true,filter:true,id:0},{field:\"Country\",header:\"Country\",sortable:true,filter:true,id:0},{field:\"VesselClass\",header:\"VesselClass\",sortable:true,filter:true,id:1},{field:\"VesselType\",header:\"VesselType\",sortable:true,filter:true,id:2},{field:\"ValueFrom\",header:\"Value From\",sortable:true,filter:true,id:3},{field:\"ValueTo\",header:\"Value To\",sortable:true,filter:true,id:0},{field:\"Excess\",header:\"Excess\",sortable:true,filter:true,id:1},{field:\"BaseRateNewBusiness\",header:\"Base Rate(%)\",sortable:true,filter:true,id:2},{field:\"AbsoluteNewBusiness\",header:\"AbsoluteNewBusiness Rate(%)\",sortable:true,filter:true,id:2},{field:\"RateRenewal\",header:\"Rate Renewal Rate(%)\",sortable:true,filter:true,id:2},{field:\"AbsoluteRenewal\",header:\"Absolute Renewal Rate(%)\",sortable:true,filter:true,id:2},{field:\"Status\",header:\"Status\",sortable:true,filter:true,id:2},{field:\"ErrorMsg\",header:\"Error Message\",sortable:true,filter:true,id:2}];_this.state=(_this$state={currStep:1,//for step one \nfullReplaceMent:true,incremental:false,file:null,insertsucessRecord:[],//for step two \ntotalRecords:0,recordWithError:0,recordWithSucess:0,cols:columns,fileData:[],totalfinaldata:[],selectedPage:0,documentList:[],directoryList:[],selecteddirectory:'',selectedfile:'',headerId:'',operationType:''},_defineProperty(_this$state,\"file\",''),_defineProperty(_this$state,\"fileError\",true),_defineProperty(_this$state,\"Extension\",''),_defineProperty(_this$state,\"FileName\",''),_defineProperty(_this$state,\"BinderId\",\"\"),_defineProperty(_this$state,\"FileNameError\",true),_defineProperty(_this$state,\"rowsPerPage\",CommonConfig.dataTableConfig.rowsPerPage),_defineProperty(_this$state,\"totalRecordsInsert\",0),_defineProperty(_this$state,\"totalRecordsInsertSuccess\",0),_defineProperty(_this$state,\"totalRecordsInsertFail\",0),_defineProperty(_this$state,\"effectiveDate\",moment().format(\"YYYY-MM-DD\")),_this$state);_this.fileOnChange=_this.fileOnChange.bind(_assertThisInitialized(_this));_this.downloadErrorFile=_this.downloadErrorFile.bind(_assertThisInitialized(_this));return _this;}_createClass(BulkUpload,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({BinderId:this.props.BinderId});}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"upload\",value:function upload(){var _this2=this;if(this.state.selectedfile!==\"\"&&this.state.FileNameError===false){var formData=new FormData();formData.append('directory','BinderRatingBands');formData.append('FileName',this.state.FileName.trim());formData.append('Extension',this.state.Extension);formData.append('bulkImportDocument',this.state.selectedfile);formData.append('BinderId',this.state.BinderId);formData.append('SubBinderId',\"\");formData.append('UserId',CommonConfig.loggedInUserId());formData.append('inscreamental',this.state.fullReplaceMent==true?\"I\":\"U\");api.post(APIConstant.path.bulkInsertBinderRatingBands,formData).then(function(res){if(res.success){toast.success(\"Binder File Uploaded With Validation\");_this2.setState({headerId:res.data.headerId,totalRecords:res.data.totalRecords,recordWithSucess:res.data.successRecords,recordWithError:res.data.errorRecords,totalfinaldata:res.data.data,fileData:res.data.data.map(function(obj){return{AbsoluteNewBusiness:obj.AbsoluteNewBusiness,AbsoluteRenewal:obj.AbsoluteRenewal,Status:obj.Status,ErrorMsg:obj.ErrorMsg,LanguageId:obj.LanguageId,BulkImportDetailId:obj.BulkImportDetailId,BulkImportHeaderId:obj.BulkImportHeaderId,RowNum:obj.RowNum,Country:obj.Country,VesselClass:obj.VesselClass,VesselType:obj.VesselType,ValueFrom:obj.ValueFrom,ValueTo:obj.ValueTo,Excess:obj.Excess,BaseRateNewBusiness:obj.BaseRateNewBusiness,RateRenewal:obj.RateRenewal};})});var nextStep=_this2.state.currStep+1;_this2.setState({currStep:nextStep});}else{}}).catch(function(err){console.log(err);});}else{if(this.state.selectedfile===''||this.state.selectedfile===undefined||this.state.selectedfile===null);}}},{key:\"bulkInsertBinderRatingBands\",value:function bulkInsertBinderRatingBands(){var _this3=this;debugger;try{var data={operationType:this.state.fullReplaceMent==true?\"I\":\"U\",headerId:this.state.headerId,UserId:CommonConfig.loggedInUserId(),EffectiveDate:moment(this.state.effectiveDate).format(\"YYYY-MM-DD\")};api.post(APIConstant.path.insertRatingBandsFromDetail,data).then(function(res){if(res.success){var nextStep=_this3.state.currStep+1;_this3.setState({currStep:nextStep,totalRecordsInsert:_this3.state.totalRecords,totalRecordsInsertSuccess:res.data.affectedRows,totalRecordsInsertFail:_this3.state.totalRecords-res.data.affectedRows});}else{console.log(res);}}).catch(function(err){console.log(err);});}catch(error){console.log(error);}}},{key:\"onFormSubmit\",value:function onFormSubmit(e){e.preventDefault();// Stop form submit\nthis.fileUpload(this.state.file).then(function(response){console.log(response.data);});}},{key:\"fileOnChange\",value:function fileOnChange(e){var _this4=this;this.setState({file:e.target.files[0]});readXlsxFile(e.target.files[0]).then(function(rows){if(Array.isArray(rows)){var sucessRecord=[];var errRecord=[];for(var i=1;i<rows.length;i++){var temp={Country:rows[i][0],Class:rows[i][1],Type:rows[i][2],ValueFrom:rows[i][3],ValueTo:rows[i][4],Excess:rows[i][5],BaseRate:rows[i][6]};var insertdata=[uuid.v4(),_this4.state.BinderId,rows[i][1],rows[i][2],rows[i][0],rows[i][3],rows[i][4],rows[i][5],0,0,rows[i][6],0,CommonConfig.loggedInUserId(),\"Active\",moment().format(\"YYYY-MM-DD\"),CommonConfig.loggedInUserId(),moment().format(\"YYYY-MM-DD\"),moment().format(\"YYYY-MM-DD\"),moment().format(\"YYYY-MM-DD\"),\"en-GB\"];_this4.state.insertsucessRecord.push(insertdata);if(rows[i][0]==\"\"&&rows[i][0]==null){errRecord.push(temp);}else{sucessRecord.push(temp);}}_this4.setState({fileData:sucessRecord,totalRecords:rows.length-1,recordWithSucess:sucessRecord.length,recordWithError:errRecord.length});}});}},{key:\"download\",value:function download(){window.location.href=sampleCSV;}},{key:\"downloadErrorFile\",value:function downloadErrorFile(){this.dt.exportCSV();}},{key:\"renderfileUpload\",value:function renderfileUpload(){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Bulk Import Rating Bands for Binder\"),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'40px'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Import Type\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rc-inline\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(Input,{type:\"radio\",name:\"fullReplaceMent\",checked:this.state.fullReplaceMent,value:this.state.radioSelected,onChange:function onChange(){return _this5.setState({fullReplaceMent:true,incremental:false});}}),\"Full Replacement\"),/*#__PURE__*/React.createElement(\"label\",null,\"This Option will completly replace the existing band values with the file value being imported. the band values that are not specifield in new file will not be inactivated.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"rc-inline\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(Input,{type:\"radio\",disabled:\"disabled\",name:\"incremental\",checked:this.state.incremental,value:this.state.radioSelected,onChange:function onChange(){return _this5.setState({fullReplaceMent:false,incremental:true});}}),\"Incremental\"),/*#__PURE__*/React.createElement(\"label\",null,\"This Option will only add or update the band values with the file values being imported. The band values that are not specified in the file will stay intact.\")))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'40px'}},/*#__PURE__*/React.createElement(BTN,{onClick:this.download},\"Download Sample File \")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'40px'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Specify File to Import\")),/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onFormSubmit},/*#__PURE__*/React.createElement(\"input\",{accept:\".csv\",type:\"file\",onChange:this.selectFile}))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.handleOnClickNext1();}},\" Check File Data  \",/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-arrow-right\"})),' ')));}},{key:\"rendercheckFiledata\",value:function rendercheckFiledata(){var _this6=this,_React$createElement;var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:'40px'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Total Records in file : \",this.state.totalRecords)),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Record With Error : \",this.state.recordWithError)),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Record With Successful Data Check : \",this.state.recordWithSucess))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,(_React$createElement={ref:function ref(el){return _this6.dt=el;},value:this.state.fileData,first:this.state.selectedPage,onPage:function onPage(e){return _this6.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.fileData.length,exportFilename:\"Binder Rating Error List\",currentPageReportTemplate:this.state.str,scrollable:true,scrollHeight:\"250px\",paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"},_defineProperty(_React$createElement,\"scrollable\",true),_defineProperty(_React$createElement,\"scrollHeight\",\"265px\"),_React$createElement),columns)),/*#__PURE__*/React.createElement(Row,{style:{padding:'10px 0px'}},/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,\"Effective Date\")),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"effectiveDate\",id:\"effectiveDate\",onChange:function onChange(e){return _this6.handleChange(e);},value:this.state.effectiveDate,min:moment().format('YYYY-MM-DD'),max:moment().add(100,'years').format('YYYY-MM-DD')}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please Enter Valid Effective Date\")))),/*#__PURE__*/React.createElement(ModalFooter,null,this.state.recordWithError>0?/*#__PURE__*/React.createElement(BTN,{onClick:this.downloadErrorFile},\"Download File \"):'',/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this6.handleOnClickBack();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-arrow-left\"}),\"  Back\"),' ',this.state.recordWithError>0||this.state.effectiveDate==\"\"?/*#__PURE__*/React.createElement(BTN,{color:\"success\",disabled:\"disabled\",onClick:function onClick(){return _this6.handleOnClickNext2();}},\" Proceed with import  \",/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-arrow-right\"})):/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this6.handleOnClickNext2();}},\" Proceed with import  \",/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-arrow-right\"}))));}},{key:\"renderimportresult\",value:function renderimportresult(){var _this7=this;var handleCallBack=this.props.handleCallBack;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"i\",{style:{color:\"#00ff00\",fontSize:70},color:\"success\",class:\"fa fa-check-circle\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"label\",null,this.state.totalRecordsInsertSuccess,\" Record Importd \")),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"label\",null,this.state.totalRecordsInsertFail,\" Record Importd Fail\")),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"label\",null,\"Data Imported Sucessfully! \"))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this7.setState({currStep:1});}},\"  Import Again\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return handleCallBack(false);}},\" Ok  \",/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"})),' '));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Stepper,{steps:steps,activeStep:this.state.currStep,onSelect:this.handleOnClickStepper,showNumber:true}),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'40px'}},this.state.currStep===1?this.renderfileUpload():this.state.currStep===2?this.rendercheckFiledata():this.state.currStep===3?this.renderimportresult():/*#__PURE__*/React.createElement(\"div\",null)));}}]);return BulkUpload;}(Component);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Binder/AddUdateBinder/BulkUpload.js"],"names":["React","Component","Stepper","Col","Row","Modal","ModalBody","ModalHeader","ModalFooter","Button","BTN","Input","DataTable","readXlsxFile","Column","sampleCSV","uuid","moment","api","APIConstant","CommonConfig","toast","steps","title","BulkUpload","props","handleOnClickStepper","step","setState","currStep","handleOnClickNext1","upload","handleOnClickNext","nextStep","state","handleOnClickNext2","bulkInsertBinderRatingBands","handleOnClickBack","prevStep","FileNameError","FileName","Extension","getPageString","e","firstPage","first","l","rows","page","lastPage","fileData","length","str","selectedPage","rowsPerPage","selectFile","event","target","files","docname","name","split","slice","join","ext","pop","selectedfile","reader","FileReader","onload","file","result","readAsDataURL","handleChange","value","effectiveDateError","show","effectiveDate","columns","field","header","sortable","filter","id","fullReplaceMent","incremental","insertsucessRecord","totalRecords","recordWithError","recordWithSucess","cols","totalfinaldata","documentList","directoryList","selecteddirectory","headerId","operationType","dataTableConfig","format","fileOnChange","bind","downloadErrorFile","BinderId","condition","document","getElementById","className","formData","FormData","append","trim","loggedInUserId","post","path","then","res","success","data","successRecords","errorRecords","map","obj","AbsoluteNewBusiness","AbsoluteRenewal","Status","ErrorMsg","LanguageId","BulkImportDetailId","BulkImportHeaderId","RowNum","Country","VesselClass","VesselType","ValueFrom","ValueTo","Excess","BaseRateNewBusiness","RateRenewal","catch","err","console","log","undefined","UserId","EffectiveDate","insertRatingBandsFromDetail","totalRecordsInsert","totalRecordsInsertSuccess","affectedRows","totalRecordsInsertFail","error","preventDefault","fileUpload","response","Array","isArray","sucessRecord","errRecord","i","temp","Class","Type","BaseRate","insertdata","v4","push","window","location","href","dt","exportCSV","marginTop","radioSelected","download","onFormSubmit","col","body","paddingTop","el","rowsPerPageOptions","globalFilter","padding","add","handleCallBack","color","fontSize","renderfileUpload","rendercheckFiledata","renderimportresult"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Stepper from 'react-js-stepper'\nimport { Col, Row, Modal, ModalBody, ModalHeader, ModalFooter, Button as BTN, Input } from 'reactstrap';\nimport { DataTable } from 'primereact/datatable';\nimport readXlsxFile from 'read-excel-file'\nimport { Column } from 'primereact/column';\nimport sampleCSV from \"../../../assets/files/Bulk Import Binder Rating1.csv\"\nimport uuid from \"uuid\";\nimport moment from 'moment';\nimport api from '../../../utils/apiClient';\nimport APIConstant from '../../../utils/constants';\nimport { CommonConfig } from '../../../utils/constants';\nimport { toast } from 'react-toastify';\nconst steps = [{ title: 'File Upload' }, { title: 'Check File Data' }, { title: 'Import Result' },]\n\nexport class BulkUpload extends Component {\n\n\n    constructor(props) {\n\n        super(props);\n        let columns = [\n            { field: \"RowNum\", header: \"RowNum\", sortable: true, filter: true, id: 0 },\n            { field: \"Country\", header: \"Country\", sortable: true, filter: true, id: 0 },\n            { field: \"VesselClass\", header: \"VesselClass\", sortable: true, filter: true, id: 1 },\n            { field: \"VesselType\", header: \"VesselType\", sortable: true, filter: true, id: 2 },\n            { field: \"ValueFrom\", header: \"Value From\", sortable: true, filter: true, id: 3 },\n            { field: \"ValueTo\", header: \"Value To\", sortable: true, filter: true, id: 0 },\n            { field: \"Excess\", header: \"Excess\", sortable: true, filter: true, id: 1 },\n            { field: \"BaseRateNewBusiness\", header: \"Base Rate(%)\", sortable: true, filter: true, id: 2 },\n            { field: \"AbsoluteNewBusiness\", header: \"AbsoluteNewBusiness Rate(%)\", sortable: true, filter: true, id: 2 },\n            { field: \"RateRenewal\", header: \"Rate Renewal Rate(%)\", sortable: true, filter: true, id: 2 },\n            { field: \"AbsoluteRenewal\", header: \"Absolute Renewal Rate(%)\", sortable: true, filter: true, id: 2 },\n            { field: \"Status\", header: \"Status\", sortable: true, filter: true, id: 2 },\n            { field: \"ErrorMsg\", header: \"Error Message\", sortable: true, filter: true, id: 2 },\n        ];\n\n        this.state = {\n            currStep: 1,\n            //for step one \n            fullReplaceMent: true,\n            incremental: false,\n            file: null,\n            insertsucessRecord: [],\n            //for step two \n            totalRecords: 0,\n            recordWithError: 0,\n            recordWithSucess: 0,\n            cols: columns,\n            fileData: [],\n            totalfinaldata: [],\n            selectedPage: 0,\n            documentList: [],\n            directoryList: [],\n            selecteddirectory: '',\n            selectedfile: '',\n            headerId: '',\n            operationType: '',\n            file: '',\n            fileError: true,\n            Extension: '',\n            FileName: '',\n            BinderId: \"\",\n            FileNameError: true,\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n            //for step three\n            totalRecordsInsert: 0,\n            totalRecordsInsertSuccess: 0,\n            totalRecordsInsertFail: 0,\n            effectiveDate: moment().format(\"YYYY-MM-DD\"),\n        }\n        this.fileOnChange = this.fileOnChange.bind(this)\n        this.downloadErrorFile = this.downloadErrorFile.bind(this);\n\n    }\n\n    componentDidMount() {\n        this.setState({ BinderId: this.props.BinderId })\n    }\n\n    show(field, condition) {\n        if (condition) {\n            document.getElementById(field).className = \"form-control is-invalid\";\n        } else {\n            document.getElementById(field).className = \"form-control\";\n        }\n    }\n\n    handleOnClickStepper = (step) => {\n        this.setState({ currStep: step });\n    }\n\n    handleOnClickNext1 = () => {\n        this.upload()\n    }\n\n    handleOnClickNext = () => {\n        let nextStep = this.state.currStep + 1;\n        this.setState({ currStep: nextStep })\n    }\n\n    handleOnClickNext2 = () => {\n        this.bulkInsertBinderRatingBands()\n    }\n\n    upload() {\n\n        if (\n            this.state.selectedfile !== \"\" &&\n            this.state.FileNameError === false\n        ) {\n            var formData = new FormData();\n            formData.append('directory', 'BinderRatingBands');\n            formData.append('FileName', (this.state.FileName).trim());\n            formData.append('Extension', this.state.Extension);\n            formData.append('bulkImportDocument', this.state.selectedfile);\n            formData.append('BinderId', this.state.BinderId);\n            formData.append('SubBinderId', \"\");\n            formData.append('UserId', CommonConfig.loggedInUserId());\n            formData.append('inscreamental', this.state.fullReplaceMent == true ? \"I\" : \"U\");\n\n            api.post(APIConstant.path.bulkInsertBinderRatingBands, formData).then(res => {\n                if (res.success) {\n                    toast.success(\"Binder File Uploaded With Validation\");\n                    this.setState({\n                        headerId: res.data.headerId,\n                        totalRecords: res.data.totalRecords,\n                        recordWithSucess: res.data.successRecords,\n                        recordWithError: res.data.errorRecords,\n                        totalfinaldata: res.data.data,\n                        fileData: res.data.data.map((obj) => {\n                            return {\n                                AbsoluteNewBusiness: obj.AbsoluteNewBusiness,\n                                AbsoluteRenewal: obj.AbsoluteRenewal,\n                                Status: obj.Status,\n                                ErrorMsg: obj.ErrorMsg,\n                                LanguageId: obj.LanguageId,\n                                BulkImportDetailId: obj.BulkImportDetailId,\n                                BulkImportHeaderId: obj.BulkImportHeaderId,\n                                RowNum: obj.RowNum,\n                                Country: obj.Country,\n                                VesselClass: obj.VesselClass,\n                                VesselType: obj.VesselType,\n                                ValueFrom: obj.ValueFrom,\n                                ValueTo: obj.ValueTo,\n                                Excess: obj.Excess,\n                                BaseRateNewBusiness: obj.BaseRateNewBusiness,\n                                RateRenewal: obj.RateRenewal\n                            }\n                        })\n                    })\n                    let nextStep = this.state.currStep + 1;\n                    this.setState({ currStep: nextStep })\n                } else {\n                }\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n        else {\n            if (this.state.selectedfile === '' || this.state.selectedfile === undefined || this.state.selectedfile === null);\n        }\n    }\n\n    bulkInsertBinderRatingBands() {\n        debugger;\n        try {\n            const data = {\n                operationType: this.state.fullReplaceMent == true ? \"I\" : \"U\",\n                headerId: this.state.headerId,\n                UserId: CommonConfig.loggedInUserId(),\n                EffectiveDate: moment(this.state.effectiveDate).format(\"YYYY-MM-DD\"),\n            };\n            api.post(APIConstant.path.insertRatingBandsFromDetail, data).then(res => {\n                if (res.success) {\n                    let nextStep = this.state.currStep + 1;\n\n                    this.setState({\n                        currStep: nextStep,\n                        totalRecordsInsert: this.state.totalRecords,\n                        totalRecordsInsertSuccess: res.data.affectedRows,\n                        totalRecordsInsertFail: this.state.totalRecords - res.data.affectedRows\n                    })\n                } else {\n                    console.log(res)\n                }\n            }).catch(err => {\n                console.log(err)\n            });\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    handleOnClickBack = () => {\n        let prevStep = this.state.currStep - 1;\n        this.setState({ currStep: prevStep, FileNameError: true, FileName: '', Extension: '' })\n    }\n\n    onFormSubmit(e) {\n        e.preventDefault() // Stop form submit\n        this.fileUpload(this.state.file).then((response) => {\n            console.log(response.data);\n        })\n    }\n\n    getPageString = (e) => {\n        let firstPage = e.first + 1;\n        let l = e.rows * (e.page + 1);\n        let lastPage = (l < this.state.fileData.length) ? l : this.state.fileData.length\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.fileData.length + ' records';\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\n    }\n\n    selectFile = (event) => {\n        if (event.target.files && event.target.files[0]) {\n            var docname = event.target.files[0].name.split('.').slice(0, -1).join('.');\n            var ext = event.target.files[0].name.split('.').pop();\n            this.setState({ selectedfile: event.target.files[0], FileName: docname, FileNameError: false, Extension: ext });\n            let reader = new FileReader();\n            reader.onload = (e) => {\n                this.setState({ file: e.target.result });\n            };\n            reader.readAsDataURL(event.target.files[0]);\n        }\n        else {\n            this.setState({ FileNameError: true, FileName: '', Extension: '' });\n        }\n    }\n\n    fileOnChange(e) {\n        this.setState({ file: e.target.files[0] })\n        readXlsxFile(e.target.files[0]).then((rows) => {\n            if (Array.isArray(rows)) {\n                var sucessRecord = [];\n                var errRecord = [];\n                for (var i = 1; i < rows.length; i++) {\n                    var temp = {\n                        Country: rows[i][0],\n                        Class: rows[i][1],\n                        Type: rows[i][2],\n                        ValueFrom: rows[i][3],\n                        ValueTo: rows[i][4],\n                        Excess: rows[i][5],\n                        BaseRate: rows[i][6],\n                    }\n                    var insertdata = [\n                        uuid.v4(),\n                        this.state.BinderId,\n                        rows[i][1],\n                        rows[i][2],\n                        rows[i][0],\n                        rows[i][3],\n                        rows[i][4],\n                        rows[i][5],\n                        0,\n                        0,\n                        rows[i][6],\n                        0,\n                        CommonConfig.loggedInUserId(),\n                        \"Active\",\n                        moment().format(\"YYYY-MM-DD\"),\n                        CommonConfig.loggedInUserId(),\n                        moment().format(\"YYYY-MM-DD\"),\n                        moment().format(\"YYYY-MM-DD\"),\n                        moment().format(\"YYYY-MM-DD\"),\n                        \"en-GB\"\n                    ]\n\n                    this.state.insertsucessRecord.push(insertdata)\n                    if (rows[i][0] == \"\" && rows[i][0] == null) {\n                        errRecord.push(temp)\n                    }\n                    else {\n                        sucessRecord.push(temp)\n                    }\n                }\n                this.setState({\n                    fileData: sucessRecord,\n                    totalRecords: rows.length - 1,\n                    recordWithSucess: sucessRecord.length,\n                    recordWithError: errRecord.length\n                })\n            }\n        })\n    }\n\n    download() {\n        window.location.href = sampleCSV;\n    }\n\n    downloadErrorFile() {\n\n        this.dt.exportCSV();\n    }\n    handleChange = (e) => {\n\n        this.setState({ [e.target.name]: e.target.value });\n        if (e.target.name === 'effectiveDate') {\n            if (e.target.value === '' || e.target.value === null) {\n                this.setState({ effectiveDateError: true });\n                this.show(\"effectiveDate\", true);\n            } else {\n                this.setState({ effectiveDateError: false, effectiveDate: e.target.value });\n                this.show(\"effectiveDate\", false);\n            }\n        }\n\n    }\n\n    renderfileUpload() {\n        return <div>\n            <div>Bulk Import Rating Bands for Binder</div>\n            <div style={{ marginTop: '40px' }}>\n                <Row>\n                    <Col md=\"3\">\n                        <label>Import Type</label>\n                    </Col>\n                    <Col md=\"9\">\n                        <div className=\"rc-inline\">\n                            <label>\n                                <Input type=\"radio\" name=\"fullReplaceMent\" checked={(this.state.fullReplaceMent)}\n                                    value={this.state.radioSelected} onChange={() => this.setState({\n                                        fullReplaceMent: true, incremental: false\n                                    })} />\n                                Full Replacement\n                                </label><label>This Option will completly replace the existing band values with the file value being imported. the band values that are not specifield in new file will not be inactivated.</label>\n                        </div>\n                        <div className=\"rc-inline\">\n                            <label >\n                                <Input type=\"radio\" disabled={\"disabled\"} name=\"incremental\" checked={(this.state.incremental)}\n                                    value={this.state.radioSelected} onChange={() => this.setState({\n                                        fullReplaceMent: false, incremental: true\n                                    })} />\n                                Incremental\n                                                                </label>\n                            <label>This Option will only add or update the band values with the file values being imported. The band values that are not specified in the file will stay intact.</label>\n                        </div>\n\n                        {/* <label>New Business Rate (%)</label> */}\n                    </Col>\n                </Row>\n                <div style={{ marginTop: '40px' }}>\n                    <BTN onClick={this.download}>Download Sample File </BTN>\n                </div>\n                <div style={{ marginTop: '40px' }}>\n                    <Row>\n                        <Col md=\"3\">\n                            <label>Specify File to Import</label>\n                        </Col>\n                        <Col md=\"9\">\n                            <form onSubmit={this.onFormSubmit}>\n                                <input accept=\".csv\" type=\"file\" onChange={this.selectFile} />\n                            </form>\n                        </Col>\n                    </Row>\n                </div>\n\n                <ModalFooter>\n                    <BTN color=\"success\" onClick={() => this.handleOnClickNext1()}> Check File Data  <i class=\"fa fa-arrow-right\"></i></BTN>{' '}\n                </ModalFooter>\n            </div>\n        </div>\n    }\n\n    rendercheckFiledata() {\n        let columns = this.state.cols.map((col, i) => {\n            return <Column field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} />;\n        });\n        return <div>\n            <div style={{ paddingTop: '40px' }}>\n                <Row>\n                    <Col md=\"3\">\n                        <label>Total Records in file : {this.state.totalRecords}</label>\n                    </Col>\n                    <Col md=\"3\">\n                        <label>Record With Error : {this.state.recordWithError}</label>\n                    </Col>\n                    <Col md=\"6\">\n                        <label>Record With Successful Data Check : {this.state.recordWithSucess}</label>\n                    </Col>\n                </Row>\n                <div className=\"table-custom\">\n                    <DataTable ref={(el) => this.dt = el} value={this.state.fileData} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\n                        paginator={true} rows={this.state.rowsPerPage} totalRecords={this.state.fileData.length} exportFilename=\"Binder Rating Error List\"\n                        currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"250px\"\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\n                        responsive={true} resizableColumns={true} columnResizeMode=\"fit\"\n                        scrollable={true} scrollHeight=\"265px\">\n                        {columns}\n                    </DataTable></div>\n                <Row style={{ padding: '10px 0px' }}>\n                    <Col md=\"2\">\n                        <label>Effective Date</label>\n                    </Col>\n                    <Col md=\"3\">\n                        <Input type=\"date\" name=\"effectiveDate\" id=\"effectiveDate\" onChange={(e) => this.handleChange(e)} value={this.state.effectiveDate}\n                            min={moment().format('YYYY-MM-DD')}\n                            max={moment().add(100, 'years').format('YYYY-MM-DD')}\n                        >\n                        </Input>\n                        <em className=\"error invalid-feedback\" >Please Enter Valid Effective Date</em>\n                    </Col>\n                </Row>\n            </div>\n            <ModalFooter>\n                {(this.state.recordWithError > 0) ? (<BTN onClick={this.downloadErrorFile}>Download File </BTN>) : ''}\n                <BTN color=\"success\" onClick={() => this.handleOnClickBack()}><i class=\"fa fa-arrow-left\"></i>  Back</BTN>{' '}\n                {(this.state.recordWithError > 0 || this.state.effectiveDate == \"\") ?\n                    (<BTN color=\"success\" disabled={\"disabled\"} onClick={() => this.handleOnClickNext2()}> Proceed with import  <i class=\"fa fa-arrow-right\"></i></BTN>)\n                    : (<BTN color=\"success\" onClick={() => this.handleOnClickNext2()}> Proceed with import  <i class=\"fa fa-arrow-right\"></i></BTN>)\n                }\n\n            </ModalFooter>\n        </div>\n    }\n\n    renderimportresult() {\n        var handleCallBack = this.props.handleCallBack;\n        return <div>\n\n            <Col>\n                <Row>\n                    <i style={{ color: \"#00ff00\", fontSize: 70 }} color=\"success\" class=\"fa fa-check-circle\"></i>\n                </Row>\n                <Row>\n                    <label>{this.state.totalRecordsInsertSuccess} Record Importd </label>\n                </Row>\n                <Row>\n                    <label>{this.state.totalRecordsInsertFail} Record Importd Fail</label>\n                </Row>\n                <Row>\n                    <label>Data Imported Sucessfully! </label>\n                </Row>\n            </Col>\n\n\n            <ModalFooter>\n                <BTN color=\"primary\" onClick={() => this.setState({\n                    currStep: 1\n                }\n                )}>  Import Again</BTN>{' '}\n                <BTN color=\"success\" onClick={() => handleCallBack(false)}> Ok  <i class=\"fa fa-check\"></i></BTN>{' '}\n            </ModalFooter>\n        </div>\n    }\n\n\n    render() {\n        return <div>\n            <Stepper\n                steps={steps}\n                activeStep={this.state.currStep}\n                onSelect={this.handleOnClickStepper}\n                showNumber={true}\n            />\n            <div style={{ marginTop: '40px' }}>\n                {this.state.currStep === 1 ? this.renderfileUpload() :\n                    this.state.currStep === 2 ? this.rendercheckFiledata() : this.state.currStep === 3 ? this.renderimportresult() :\n                        <div></div>\n                }\n            </div>\n\n        </div>;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}