{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Select from'react-select';import api from'../../utils/apiClient';import moment from'moment';import DatePicker from'react-date-picker';import{withTranslation}from'react-i18next';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{CommonConfig}from'../../utils/constants';import{Button}from'primereact/button';import{MultiSelect}from'primereact/multiselect';import{Collapse,Button as BTN,Input,Card,CardHeader,CardBody,Row,Col}from'reactstrap';import APIConstant from'../../utils/constants';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Modal,ModalBody,ModalHeader,ModalFooter}from'reactstrap';import{toast}from'react-toastify';import SearchBox from'react-google-maps/lib/components/places/SearchBox';var ServiceCenterStatement=/*#__PURE__*/function(_Component){_inherits(ServiceCenterStatement,_Component);var _super=_createSuper(ServiceCenterStatement);function ServiceCenterStatement(props){var _this;_classCallCheck(this,ServiceCenterStatement);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.arr.length?l:_this.state.arr.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.arr.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='tillDate'){debugger;_this.setState({tillDate:e.target.value,tillDateError:false});_this.show('tillDate',false,'tillDateError','');}};var columns=[{field:\"ClientName\",header:\"Client\",sortable:true,filter:true,id:0,style:{'width':'150px'}},{field:\"PolicyNumber\",header:\"Policy Number\",sortable:true,filter:true,id:1,style:{'width':'60px'}},{field:\"RenewalDate\",header:\"Renewal Date\",sortable:true,filter:true,id:2,style:{'width':'80px'}},{field:\"InceptionDate\",header:\"Inception Date\",sortable:true,filter:true,id:3,style:{'width':'80px'}},{field:\"TransactionDate\",header:\"Transaction Date\",sortable:true,filter:true,id:4,style:{'width':'80px'}},{field:\"TransactionType\",header:\"Transaction Type\",sortable:true,filter:true,id:5,style:{'width':'90px'}},{field:\"NetPremium\",header:\"Net Premium\",sortable:true,filter:true,id:6,style:{'width':'60px','textAlign':'right'}},{field:\"Levy\",header:\"Levy\",sortable:true,filter:true,id:7,style:{'width':'60px','textAlign':'right'}},{field:\"AdminFeeAmount\",header:\"Admin Fee\",sortable:true,filter:true,id:8,style:{'width':'60px','textAlign':'right'}},{field:\"Gross\",header:\"Gross Amount\",sortable:true,filter:true,id:9,style:{'width':'60px','textAlign':'right'}},{field:\"YCommissionAmount\",header:\"Paid to Yachtsman\",sortable:true,filter:true,id:12,style:{'width':'60px','textAlign':'right'}},{field:\"AgentCommissionAmount\",header:\"Service Center Commission\",sortable:true,filter:true,id:13,style:{'width':'60px','textAlign':'right'}}// { field: \"TotalDue\", header: \"Total Due\", sortable: true, filter: true, id: 10 ,style:{'width':'150px'}},\n// { field: \"DueDate\", header: \"Due Date\", sortable: true, filter: true, id: 14 ,style:{'width':'150px'}},\n// { field: \"PaidAmount\", header: \"Paid Amount\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}},\n// { field: \"AgentCommissionRate\", header: \"Agent Commission Rate\", sortable: true, filter: true, id: 11 ,style:{'width':'150px'}},\n// { field: \"DayAfterDueDate\", header: \"Day After Due Date\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}}\n];var columns1=[{field:\"AgentName\",header:\"Service Center Name\",sortable:true,filter:true,id:0,style:{'width':'100px'}},{field:\"AgentCode\",header:\"Service Center Code\",sortable:true,filter:true,id:1,style:{'width':'100px'}},{field:\"ClientName\",header:\"Client\",sortable:true,filter:true,id:2,style:{'width':'150px'}},{field:\"PolicyNumber\",header:\"Policy Number\",sortable:true,filter:true,id:3,style:{'width':'60px'}},{field:\"RenewalDate\",header:\"Renewal Date\",sortable:true,filter:true,id:4,style:{'width':'80px'}},{field:\"InceptionDate\",header:\"Inception Date\",sortable:true,filter:true,id:5,style:{'width':'80px'}},{field:\"TransactionDate\",header:\"Transaction Date\",sortable:true,filter:true,id:6,style:{'width':'80px'}},{field:\"TransactionType\",header:\"Transaction Type\",sortable:true,filter:true,id:7,style:{'width':'90px'}},{field:\"NetPremium\",header:\"Net Premium\",sortable:true,filter:true,id:8,style:{'width':'60px','textAlign':'right'}},{field:\"Levy\",header:\"Levy\",sortable:true,filter:true,id:9,style:{'width':'60px','textAlign':'right'}},{field:\"AdminFeeAmount\",header:\"Admin Fee\",sortable:true,filter:true,id:10,style:{'width':'60px','textAlign':'right'}},{field:\"Gross\",header:\"Gross Amount\",sortable:true,filter:true,id:11,style:{'width':'60px','textAlign':'right'}},{field:\"YCommissionAmount\",header:\"Paid to Yachtsman\",sortable:true,filter:true,id:12,style:{'width':'60px','textAlign':'right'}},{field:\"AgentCommissionAmount\",header:\"Service Center Commission\",sortable:true,filter:true,id:13,style:{'width':'60px','textAlign':'right'}}// { field: \"TotalDue\", header: \"Total Due\", sortable: true, filter: true, id: 10 ,style:{'width':'150px'}},\n// { field: \"DueDate\", header: \"Due Date\", sortable: true, filter: true, id: 14 ,style:{'width':'150px'}},\n// { field: \"PaidAmount\", header: \"Paid Amount\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}},\n// { field: \"AgentCommissionRate\", header: \"Agent Commission Rate\", sortable: true, filter: true, id: 11 ,style:{'width':'150px'}},\n// { field: \"DayAfterDueDate\", header: \"Day After Due Date\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}}\n];_this.state={LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,cols:columns,cols1:columns1,arr:[],selectedPage:0,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null,searchCollapse:false,DebtorType:'ServiceCenter',// DebtorTypeList:[\n//     {label:'',value:''}\n// ],\nDebtorTypeError:false,agentinfo:'',agentinfoError:false,tillDate:moment().format(\"YYYY-MM\"),tillDateError:false};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.colOptions1=[];for(var _i2=0,_columns2=columns1;_i2<_columns2.length;_i2++){var _col=_columns2[_i2];_this.colOptions.push({label:_col.header,value:_col});}_this.export=_this.export.bind(_assertThisInitialized(_this));return _this;}_createClass(ServiceCenterStatement,[{key:\"componentDidMount\",value:function componentDidMount(){// this.servicecenterstatement();\nthis.getOrganazationData('ServiceCenter');}},{key:\"DateDetails\",value:function DateDetails(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.RenewalDate),/*#__PURE__*/React.createElement(\"p\",null,rowData.InceptionDate));}},{key:\"getDropDownValues\",value:function getDropDownValues(stringMapType,setStateName,orderBy){var _this2=this;try{var data={stringmaptype:stringMapType,orderby:orderBy};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this2.setState(_defineProperty({},setStateName,res.data));}else{}}).catch(function(err){});}catch(error){}}},{key:\"servicecenterstatement\",value:function servicecenterstatement(){var _this3=this;var data={DebtorType:this.state.DebtorType?this.state.DebtorType:'',agentinfo:this.state.agentinfo?this.state.agentinfo:'',tillDate:this.state.tillDate?this.state.tillDate:''};api.post('api/servicecenterstatement',data).then(function(res){if(res.success){var formattedData=[];_this3.setState({selectedPage:0});var dataLength=res.data[0].length;if(dataLength>0){var NetPremium=0;var Levy=0;var PaidAmount=0;var Gross=0;var AdminFeeAmount=0;var AgentCommissionAmount=0;var YCommissionAmount=0;for(var i=0;i<dataLength;i++){var tempData=res.data[0][i];console.log(\"tempData\",tempData);formattedData.push({AgentCode:tempData.AgentContactCode,AgentName:tempData.AgentName,ClientName:tempData.ClientName,PolicyNumber:tempData.PolicyNumber,RenewalOrInceptionDate:moment(tempData.RenewalOrInceptionDate).format('DD/MM/YYYY'),TransactionDate:moment(tempData.TransactionDate).format('DD/MM/YYYY'),TransactionType:tempData.Description,NetPremium:parseFloat(tempData.Premium?tempData.Premium:0).toFixed(2),Levy:parseFloat(tempData.Levy?tempData.Levy:0).toFixed(2),Gross:parseFloat(tempData.Gross?tempData.Gross:0).toFixed(2),InceptionDate:moment(tempData.InceptionDate).format('DD/MM/YYYY'),RenewalDate:moment(tempData.RenewalDate).format('DD/MM/YYYY'),PaidAmount:parseFloat(tempData.PaymentAmount?tempData.PaymentAmount:0).toFixed(2),AdminFeeAmount:parseFloat(tempData.AdminFee?tempData.AdminFee:0).toFixed(2),TotalDue:parseFloat(tempData.Outstanding?tempData.Outstanding:0).toFixed(2),AgentCommissionRate:parseFloat(tempData.AgentCommissionRate?tempData.AgentCommissionRate:0).toFixed(2),AgentCommissionAmount:parseFloat(tempData.AgentCommissionAmount?tempData.AgentCommissionAmount:0).toFixed(2),YCommissionAmount:parseFloat(tempData.YCommissionAmount?tempData.YCommissionAmount:0).toFixed(2),DueDate:moment(tempData.DueDate).format('DD/MM/YYYY'),DayAfterDueDate:tempData.DayAfterDueDate});NetPremium=NetPremium+tempData.Premium;Levy=Levy+tempData.Levy;PaidAmount=PaidAmount+tempData.PaymentAmount;Gross=Gross+tempData.Gross;AdminFeeAmount=AdminFeeAmount+tempData.AdminFee;AgentCommissionAmount=AgentCommissionAmount+tempData.AgentCommissionAmount;YCommissionAmount=YCommissionAmount+tempData.YCommissionAmount;}formattedData.push({ClientName:'Total',Gross:parseFloat(Gross).toFixed(2),NetPremium:parseFloat(NetPremium).toFixed(2),Levy:parseFloat(Levy).toFixed(2),PaidAmount:parseFloat(PaidAmount).toFixed(2),AdminFeeAmount:parseFloat(AdminFeeAmount).toFixed(2),AgentCommissionAmount:parseFloat(AgentCommissionAmount).toFixed(2),YCommissionAmount:parseFloat(YCommissionAmount).toFixed(2)});}var firstPage=formattedData.length?'1':'0';var lastPage=_this3.state.rowsPerPage<formattedData.length?_this3.state.rowsPerPage:formattedData.length;var str=firstPage+' to '+lastPage+' out of '+formattedData.length+' records';_this3.setState({arr:formattedData,str:str});}});}},{key:\"export\",value:function _export(){this.dt.exportCSV();}},{key:\"filterData\",value:function filterData(){if(this.state.radioSelected||this.state.DebtorType==''||this.state.agentinfo==''){toast.error(\"Select Service Center First\");}else{this.servicecenterstatement();}}},{key:\"selectType\",value:function selectType(value,type){if(type==='DebtorType'){this.setState({DebtorTypeError:false,DebtorType:value});this.show('DebtorType',false,\"DebtorTypeError\",\"\");this.getOrganazationData(value);}if(type==='agentinfo'){this.setState({agentinfo:value,radioSelected:false,DebtorType:'ServiceCenter'});}}},{key:\"onRadioBtnClick\",value:function onRadioBtnClick(e){this.setState({radioSelected:e.target.checked,agentinfo:''});this.state.agentinfo='';this.servicecenterstatement();}},{key:\"getOrganazationData\",value:function getOrganazationData(ContactType){var _this4=this;try{var data={ContactType:ContactType};api.post('api/getOrganazationData',data).then(function(res){if(res.success){var formattedData=[];for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].OrganizationName,value:res.data[i].OrganizationId});}_this4.setState({sourceList:formattedData});}else{console.log('getOrganazationData_error');}}).catch(function(err){console.log('getOrganazationData',err);});}catch(error){console.log('getOrganazationData',error);}}},{key:\"show\",value:function show(field,condition,errorField,message){if(condition){if(document.getElementById(field))document.getElementById(field).className=\"form-control is-invalid\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML='<p>'+message+' </p>';}else{if(document.getElementById(field))document.getElementById(field).className=\"form-control\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML=null;}}},{key:\"render\",value:function render(){var _this5=this;var t=this.props.t;var header=null;var columns='';if(this.state.agentinfo==''){columns=this.state.cols1.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode,style:col.style});});}else{columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode,style:col.style});});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Service Center Statement\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\",style:{width:'20%'}},/*#__PURE__*/React.createElement(\"label\",null,\"Select Service Center\"),/*#__PURE__*/React.createElement(Select,{name:\"agentinfo\",id:\"agentinfo\",options:this.state.sourceList,value:this.state.agentinfo,onChange:function onChange(data){return _this5.selectType(data,'agentinfo');}// placeholder={t(\"policyUnderwriting:Source.defaultValue\")}\n// disabled={this.state.sourceDisable == true ? true : false}\n})),/*#__PURE__*/React.createElement(\"div\",null,\"\\xA0\",/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"radioSelected\",checked:this.state.radioSelected,value:this.state.radioSelected,onChange:function onChange(e){return _this5.onRadioBtnClick(e);}}),\"All Service Center\")),/*#__PURE__*/React.createElement(\"div\",null,\"\\xA0\",/*#__PURE__*/React.createElement(BTN,{color:\"success\",title:\"Search\",onClick:function onClick(){return _this5.filterData();}},\" Search \")),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option\"},/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\",tooltipOptions:{position:'bottom'},onChange:this.onColumnToggle,style:{width:'50px'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",tooltip:\"Export as CSV\",tooltipOptions:{position:'bottom'},onClick:this.export,style:{marginRight:10}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this5.dt=el;},value:this.state.arr,first:this.state.selectedPage,onPage:function onPage(e){return _this5.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,header:header,totalRecords:this.state.arr.length,exportFilename:\"Service Center Statement\",currentPageReportTemplate:this.state.str,scrollable:true,paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"expand\"},columns)));}}]);return ServiceCenterStatement;}(Component);export default withTranslation()(ServiceCenterStatement);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/ServiceCenterStatement.js"],"names":["React","Component","Select","api","moment","DatePicker","withTranslation","DataTable","Column","CommonConfig","Button","MultiSelect","Collapse","BTN","Input","Card","CardHeader","CardBody","Row","Col","APIConstant","Modal","ModalBody","ModalHeader","ModalFooter","toast","SearchBox","ServiceCenterStatement","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","arr","length","str","setState","selectedPage","rowsPerPage","handleChange","target","name","value","tillDate","tillDateError","show","columns","field","header","sortable","filter","id","style","columns1","LanguageId","i18n","language","cols","cols1","rowsPerPageOptions","dataTableConfig","globalFilter","searchCollapse","DebtorType","DebtorTypeError","agentinfo","agentinfoError","format","colOptions","col","push","label","colOptions1","export","bind","getOrganazationData","rowData","RenewalDate","InceptionDate","stringMapType","setStateName","orderBy","data","stringmaptype","orderby","post","path","dropdownbycode","then","res","success","catch","err","error","formattedData","dataLength","NetPremium","Levy","PaidAmount","Gross","AdminFeeAmount","AgentCommissionAmount","YCommissionAmount","i","tempData","console","log","AgentCode","AgentContactCode","AgentName","ClientName","PolicyNumber","RenewalOrInceptionDate","TransactionDate","TransactionType","Description","parseFloat","Premium","toFixed","PaymentAmount","AdminFee","TotalDue","Outstanding","AgentCommissionRate","DueDate","DayAfterDueDate","dt","exportCSV","radioSelected","servicecenterstatement","type","checked","ContactType","OrganizationName","OrganizationId","sourceList","condition","errorField","message","document","getElementById","className","innerHTML","t","map","body","filterMatchMode","width","selectType","onRadioBtnClick","filterData","columnToggleIcon","position","onColumnToggle","marginRight","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport api from '../../utils/apiClient';\r\nimport moment from 'moment';\r\nimport DatePicker from 'react-date-picker';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { CommonConfig } from '../../utils/constants';\r\nimport { Button } from 'primereact/button';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { Collapse, Button as BTN, Input, Card, CardHeader, CardBody, Row, Col } from 'reactstrap';\r\nimport APIConstant from '../../utils/constants';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from 'reactstrap';\r\nimport { toast } from 'react-toastify';\r\nimport SearchBox from 'react-google-maps/lib/components/places/SearchBox';\r\n\r\nclass ServiceCenterStatement extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let columns = [\r\n            { field: \"ClientName\", header: \"Client\", sortable: true, filter: true, id: 0, style: { 'width': '150px' } },\r\n            { field: \"PolicyNumber\", header: \"Policy Number\", sortable: true, filter: true, id: 1, style: { 'width': '60px' } },\r\n            { field: \"RenewalDate\", header: \"Renewal Date\", sortable: true, filter: true, id: 2, style: { 'width': '80px' } },\r\n            { field: \"InceptionDate\", header: \"Inception Date\", sortable: true, filter: true, id: 3, style: { 'width': '80px' } },\r\n            { field: \"TransactionDate\", header: \"Transaction Date\", sortable: true, filter: true, id: 4, style: { 'width': '80px' } },\r\n            { field: \"TransactionType\", header: \"Transaction Type\", sortable: true, filter: true, id: 5, style: { 'width': '90px' } },\r\n            { field: \"NetPremium\", header: \"Net Premium\", sortable: true, filter: true, id: 6, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"Levy\", header: \"Levy\", sortable: true, filter: true, id: 7, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"AdminFeeAmount\", header: \"Admin Fee\", sortable: true, filter: true, id: 8, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"Gross\", header: \"Gross Amount\", sortable: true, filter: true, id: 9, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"YCommissionAmount\", header: \"Paid to Yachtsman\", sortable: true, filter: true, id: 12, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"AgentCommissionAmount\", header: \"Service Center Commission\", sortable: true, filter: true, id: 13, style: { 'width': '60px', 'textAlign': 'right' } },\r\n\r\n            // { field: \"TotalDue\", header: \"Total Due\", sortable: true, filter: true, id: 10 ,style:{'width':'150px'}},\r\n            // { field: \"DueDate\", header: \"Due Date\", sortable: true, filter: true, id: 14 ,style:{'width':'150px'}},\r\n            // { field: \"PaidAmount\", header: \"Paid Amount\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}},\r\n\r\n            // { field: \"AgentCommissionRate\", header: \"Agent Commission Rate\", sortable: true, filter: true, id: 11 ,style:{'width':'150px'}},\r\n\r\n\r\n\r\n            // { field: \"DayAfterDueDate\", header: \"Day After Due Date\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}}\r\n        ];\r\n\r\n        let columns1 = [\r\n            { field: \"AgentName\", header: \"Service Center Name\", sortable: true, filter: true, id: 0, style: { 'width': '100px' } },\r\n            { field: \"AgentCode\", header: \"Service Center Code\", sortable: true, filter: true, id: 1, style: { 'width': '100px' } },\r\n            { field: \"ClientName\", header: \"Client\", sortable: true, filter: true, id: 2, style: { 'width': '150px' } },\r\n            { field: \"PolicyNumber\", header: \"Policy Number\", sortable: true, filter: true, id: 3, style: { 'width': '60px' } },\r\n            { field: \"RenewalDate\", header: \"Renewal Date\", sortable: true, filter: true, id: 4, style: { 'width': '80px' } },\r\n            { field: \"InceptionDate\", header: \"Inception Date\", sortable: true, filter: true, id: 5, style: { 'width': '80px' } },\r\n            { field: \"TransactionDate\", header: \"Transaction Date\", sortable: true, filter: true, id: 6, style: { 'width': '80px' } },\r\n            { field: \"TransactionType\", header: \"Transaction Type\", sortable: true, filter: true, id: 7, style: { 'width': '90px' } },\r\n            { field: \"NetPremium\", header: \"Net Premium\", sortable: true, filter: true, id: 8, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"Levy\", header: \"Levy\", sortable: true, filter: true, id: 9, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"AdminFeeAmount\", header: \"Admin Fee\", sortable: true, filter: true, id: 10, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"Gross\", header: \"Gross Amount\", sortable: true, filter: true, id: 11, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"YCommissionAmount\", header: \"Paid to Yachtsman\", sortable: true, filter: true, id: 12, style: { 'width': '60px', 'textAlign': 'right' } },\r\n            { field: \"AgentCommissionAmount\", header: \"Service Center Commission\", sortable: true, filter: true, id: 13, style: { 'width': '60px', 'textAlign': 'right' } },\r\n\r\n            // { field: \"TotalDue\", header: \"Total Due\", sortable: true, filter: true, id: 10 ,style:{'width':'150px'}},\r\n            // { field: \"DueDate\", header: \"Due Date\", sortable: true, filter: true, id: 14 ,style:{'width':'150px'}},\r\n            // { field: \"PaidAmount\", header: \"Paid Amount\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}},\r\n\r\n            // { field: \"AgentCommissionRate\", header: \"Agent Commission Rate\", sortable: true, filter: true, id: 11 ,style:{'width':'150px'}},\r\n\r\n\r\n\r\n            // { field: \"DayAfterDueDate\", header: \"Day After Due Date\", sortable: true, filter: true, id: 15 ,style:{'width':'150px'}}\r\n        ];\r\n\r\n        this.state = {\r\n            LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n            cols: columns,\r\n            cols1: columns1,\r\n            arr: [],\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            str: '',\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            searchCollapse: false,\r\n\r\n            DebtorType: 'ServiceCenter',\r\n            // DebtorTypeList:[\r\n            //     {label:'',value:''}\r\n            // ],\r\n            DebtorTypeError: false,\r\n            agentinfo: '',\r\n            agentinfoError: false,\r\n            tillDate: moment().format(\"YYYY-MM\"),\r\n            tillDateError: false,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.colOptions1 = [];\r\n        for (let col of columns1) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.export = this.export.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.servicecenterstatement();\r\n        this.getOrganazationData('ServiceCenter');\r\n    }\r\n\r\n    DateDetails(rowData) {\r\n        return (\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.RenewalDate}</p>\r\n                <p>{rowData.InceptionDate}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    getDropDownValues(stringMapType, setStateName, orderBy) {\r\n        try {\r\n            const data = {\r\n                stringmaptype: stringMapType,\r\n                orderby: orderBy\r\n            };\r\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\r\n                if (res.success) {\r\n                    this.setState({ [setStateName]: res.data });\r\n                } else {\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n    servicecenterstatement() {\r\n        var data = {\r\n            DebtorType: this.state.DebtorType ? this.state.DebtorType : '',\r\n            agentinfo: this.state.agentinfo ? this.state.agentinfo : '',\r\n            tillDate: this.state.tillDate ? this.state.tillDate : ''\r\n        };\r\n        api.post('api/servicecenterstatement', data).then(res => {\r\n            if (res.success) {\r\n                var formattedData = [];\r\n                this.setState({\r\n                    selectedPage: 0\r\n                });\r\n                var dataLength = res.data[0].length;\r\n                if (dataLength > 0) {\r\n\r\n                    var NetPremium = 0;\r\n                    var Levy = 0;\r\n                    var PaidAmount = 0;\r\n                    var Gross = 0;\r\n                    var AdminFeeAmount = 0;\r\n                    var AgentCommissionAmount = 0;\r\n                    var YCommissionAmount = 0;\r\n\r\n                    for (let i = 0; i < dataLength; i++) {\r\n                        var tempData = res.data[0][i];\r\n                        console.log(\"tempData\", tempData);\r\n                        formattedData.push({\r\n                            AgentCode: tempData.AgentContactCode,\r\n                            AgentName: tempData.AgentName,\r\n                            ClientName: tempData.ClientName,\r\n                            PolicyNumber: tempData.PolicyNumber,\r\n                            RenewalOrInceptionDate: moment(tempData.RenewalOrInceptionDate).format('DD/MM/YYYY'),\r\n                            TransactionDate: moment(tempData.TransactionDate).format('DD/MM/YYYY'),\r\n                            TransactionType: tempData.Description,\r\n                            NetPremium: parseFloat(tempData.Premium ? tempData.Premium : 0).toFixed(2),\r\n                            Levy: parseFloat(tempData.Levy ? tempData.Levy : 0).toFixed(2),\r\n                            Gross: parseFloat(tempData.Gross ? tempData.Gross : 0).toFixed(2),\r\n                            InceptionDate: moment(tempData.InceptionDate).format('DD/MM/YYYY'),\r\n                            RenewalDate: moment(tempData.RenewalDate).format('DD/MM/YYYY'),\r\n                            PaidAmount: parseFloat(tempData.PaymentAmount ? tempData.PaymentAmount : 0).toFixed(2),\r\n                            AdminFeeAmount: parseFloat(tempData.AdminFee ? tempData.AdminFee : 0).toFixed(2),\r\n                            TotalDue: parseFloat(tempData.Outstanding ? tempData.Outstanding : 0).toFixed(2),\r\n                            AgentCommissionRate: parseFloat(tempData.AgentCommissionRate ? tempData.AgentCommissionRate : 0).toFixed(2),\r\n                            AgentCommissionAmount: parseFloat(tempData.AgentCommissionAmount ? tempData.AgentCommissionAmount : 0).toFixed(2),\r\n                            YCommissionAmount: parseFloat(tempData.YCommissionAmount ? tempData.YCommissionAmount : 0).toFixed(2),\r\n                            DueDate: moment(tempData.DueDate).format('DD/MM/YYYY'),\r\n                            DayAfterDueDate: tempData.DayAfterDueDate\r\n                        });\r\n                        NetPremium = NetPremium + tempData.Premium;\r\n                        Levy = Levy + tempData.Levy;\r\n                        PaidAmount = PaidAmount + tempData.PaymentAmount;\r\n                        Gross = Gross + tempData.Gross;\r\n                        AdminFeeAmount = AdminFeeAmount + tempData.AdminFee;\r\n                        AgentCommissionAmount = AgentCommissionAmount + tempData.AgentCommissionAmount;\r\n                        YCommissionAmount = YCommissionAmount + tempData.YCommissionAmount;\r\n                    }\r\n                    formattedData.push({\r\n                        ClientName: 'Total',\r\n                        Gross: parseFloat(Gross).toFixed(2),\r\n                        NetPremium: parseFloat(NetPremium).toFixed(2),\r\n                        Levy: parseFloat(Levy).toFixed(2),\r\n                        PaidAmount: parseFloat(PaidAmount).toFixed(2),\r\n                        AdminFeeAmount: parseFloat(AdminFeeAmount).toFixed(2),\r\n                        AgentCommissionAmount: parseFloat(AgentCommissionAmount).toFixed(2),\r\n                        YCommissionAmount: parseFloat(YCommissionAmount).toFixed(2)\r\n                    });\r\n                }\r\n\r\n                let firstPage = (formattedData.length) ? '1' : '0';\r\n                let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n                let str = firstPage + ' to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n                this.setState({ arr: formattedData, str: str });\r\n            }\r\n        });\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.arr.length) ? l : this.state.arr.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    export() {\r\n        this.dt.exportCSV();\r\n    }\r\n\r\n    filterData() {\r\n        if (this.state.radioSelected || this.state.DebtorType == '' || this.state.agentinfo == '') {\r\n            toast.error(\"Select Service Center First\");\r\n        } else {\r\n            this.servicecenterstatement();\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.name === 'tillDate') {\r\n            debugger;\r\n            this.setState({ tillDate: e.target.value, tillDateError: false });\r\n            this.show('tillDate', false, 'tillDateError', '');\r\n\r\n        }\r\n    }\r\n\r\n    selectType(value, type) {\r\n\r\n        if (type === 'DebtorType') {\r\n\r\n            this.setState({ DebtorTypeError: false, DebtorType: value });\r\n            this.show('DebtorType', false, \"DebtorTypeError\", \"\");\r\n            this.getOrganazationData(value)\r\n\r\n        }\r\n\r\n        if (type === 'agentinfo') {\r\n\r\n            this.setState({ agentinfo: value, radioSelected: false, DebtorType: 'ServiceCenter' });\r\n\r\n        }\r\n    }\r\n\r\n    onRadioBtnClick(e) {\r\n        this.setState({\r\n            radioSelected: e.target.checked,\r\n            agentinfo: ''\r\n        });\r\n        this.state.agentinfo = '';\r\n        this.servicecenterstatement();\r\n    }\r\n\r\n    getOrganazationData(ContactType) {\r\n        try {\r\n            let data = { ContactType: ContactType };\r\n            api.post('api/getOrganazationData', data).then(res => {\r\n                if (res.success) {\r\n                    var formattedData = [];\r\n                    for (let i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].OrganizationName,\r\n                            value: res.data[i].OrganizationId,\r\n                        })\r\n                    }\r\n                    this.setState({ sourceList: formattedData });\r\n                } else {\r\n                    console.log('getOrganazationData_error');\r\n                }\r\n            }).catch(err => {\r\n                console.log('getOrganazationData', err);\r\n            });\r\n        } catch (error) {\r\n            console.log('getOrganazationData', error);\r\n        }\r\n    }\r\n\r\n    show(field, condition, errorField, message) {\r\n        if (condition) {\r\n            if (document.getElementById(field))\r\n                document.getElementById(field).className = \"form-control is-invalid\";\r\n\r\n            if (document.getElementById(errorField))\r\n                document.getElementById(errorField).innerHTML = '<p>' + message + ' </p>';\r\n        } else {\r\n            if (document.getElementById(field))\r\n                document.getElementById(field).className = \"form-control\";\r\n\r\n            if (document.getElementById(errorField))\r\n                document.getElementById(errorField).innerHTML = null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        var header = null;\r\n\r\n        let columns ='';\r\n         if(this.state.agentinfo == ''){\r\n              columns = this.state.cols1.map((col, i) => {\r\n                 return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} style={col.style}\r\n                 />;\r\n             });\r\n         }\r\n         else{\r\n             columns = this.state.cols.map((col, i) => {\r\n                return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} style={col.style}\r\n                />;\r\n            });\r\n         }   \r\n\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1>Service Center Statement</h1>\r\n\r\n                    <div className=\"input-box\" style={{ width: '20%' }}>\r\n                        <label>Select Service Center</label>\r\n                        <Select name=\"agentinfo\" id=\"agentinfo\" options={this.state.sourceList}\r\n                            value={this.state.agentinfo} onChange={(data) => this.selectType(data, 'agentinfo')}\r\n                        // placeholder={t(\"policyUnderwriting:Source.defaultValue\")}\r\n                        // disabled={this.state.sourceDisable == true ? true : false}\r\n                        />\r\n                    </div>\r\n                    <div>&nbsp;\r\n                        <label>\r\n                            <Input type=\"checkbox\" name=\"radioSelected\"\r\n                                checked={this.state.radioSelected}\r\n                                value={this.state.radioSelected}\r\n                                onChange={(e) => this.onRadioBtnClick(e)}\r\n                            />\r\n                         All Service Center\r\n                        </label>\r\n                    </div>\r\n                    <div>&nbsp;\r\n                        <BTN color=\"success\" title=\"Search\" onClick={() => this.filterData()}> Search </BTN>\r\n                    </div>\r\n                    <div className=\"header-right-option\">\r\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\" tooltipOptions={{ position: 'bottom' }}\r\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                        />\r\n\r\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div className=\"input-box\" id=\"accordion\">\r\n                    <Card className=\"mb-0\">\r\n                        <CardHeader id=\"headingOne\">\r\n                            <BTN block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.setState({ custom: !this.state.custom })} aria-expanded={this.state.custom} aria-controls=\"collapseOne\">\r\n                                <h5 className=\"m-0 p-0\">\r\n                                    Search Service Center\r\n                        <i style={{ float: 'right' }} className={this.state.custom ? \"fa fa-chevron-down\" : \"fa fa-chevron-up\"}></i>\r\n                                </h5>\r\n                            </BTN>\r\n                        </CardHeader>\r\n                        <Collapse isOpen={this.state.custom} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                            <CardBody>\r\n                                <div className=\"filter-data\">\r\n                                    <Row>\r\n                                        <Col md='3'>\r\n                                            <div className=\"input-box\">\r\n                                                <label>DebtorType</label>\r\n                                                <Input type=\"select\" name=\"DebtorType\" id=\"DebtorType\" onChange={(e) => this.selectType(e.target.value, 'DebtorType')} value={this.state.DebtorType}>\r\n                                                    <option value=\"SubAgent\">Sub Agent</option>\r\n                                                    <option value=\"ServiceCenter\">Service Center</option>\r\n                                    }\r\n                                </Input>\r\n                                           </div>\r\n                                        </Col>\r\n                                        <Col md='2'>\r\n                                            <div className=\"input-box\">\r\n                                                <label>Till Date</label>\r\n                                                <Input disabled type=\"month\" id=\"tillDate\" name=\"tillDate\"\r\n                                                    value={this.state.tillDate}\r\n                                                    onChange={(e) => this.handleChange(e, 'tillDate')}\r\n                                                ></Input>\r\n                                           </div>\r\n                                        </Col>\r\n                                      \r\n                                    </Row>\r\n                                </div>\r\n                            </CardBody>\r\n                        </Collapse>\r\n                    </Card>\r\n                </div> */}\r\n                <div className=\"table-custom\">\r\n                    <DataTable ref={(el) => this.dt = el} value={this.state.arr} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                        paginator={true} rows={this.state.rowsPerPage} header={header} totalRecords={this.state.arr.length} exportFilename=\"Service Center Statement\"\r\n                        currentPageReportTemplate={this.state.str}\r\n                        scrollable={true}\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                        responsive={true} resizableColumns={true} columnResizeMode=\"expand\">\r\n                        {columns}\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(ServiceCenterStatement);\r\n"]},"metadata":{},"sourceType":"module"}