{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{MultiSelect}from'primereact/multiselect';import{InputText}from'primereact/inputtext';import{toast}from'react-toastify';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Button}from'primereact/button';import api from'../../../utils/apiClient';import Moment from'moment';import{Container,Form,Col,Row,Input,Card,CardBody,Button as BTN,Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';import{CommonConfig}from'../../../utils/constants';var MooringZone=/*#__PURE__*/function(_Component){_inherits(MooringZone,_Component);var _super=_createSuper(MooringZone);function MooringZone(props){var _this;_classCallCheck(this,MooringZone);_this=_super.call(this,props);_this.toggleLarge=function(){_this.setState({isDeleteModel:false,MooringZoneId:''});};_this.export=function(){_this.dt.exportCSV();};_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.arr.length?l:_this.state.arr.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.arr.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.addMoreMooring=function(){_this.props.history.push({pathname:'/AddMooringZone'});};var columns=[{field:\"Id\",header:\"ID\",sortable:true,filter:true,filterMatchMode:'contains',id:0},{field:\"Title\",header:\"Title\",sortable:true,filter:true,filterMatchMode:'contains',id:1},{field:\"Summary\",header:\"Summary\",sortable:true,filter:true,filterMatchMode:'contains',id:2},{field:\"Created\",header:\"Created\",sortable:true,filter:true,filterMatchMode:'contains',id:3},{field:\"Updated\",header:\"Updated\",sortable:true,filter:true,filterMatchMode:'contains',id:4},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,filterMatchMode:'contains',id:5}];_this.state={brand:null,colors:null,toggleModalDel:false,toggleModalAdd:false,cols:columns,arr:[],rowData:'',selectedPage:0,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null,isEdit:false,isDeleteModel:false};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.onColumnToggle=_this.onColumnToggle.bind(_assertThisInitialized(_this));return _this;}_createClass(MooringZone,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMooringZone();}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"button\",tooltip:\"Edit\",tooltipOptions:{position:'bottom'},icon:\"pi pi-pencil\",className:\"p-button-warning\",style:{marginRight:'.5em'},onClick:function onClick(){return _this2.editMooringZone(rowData);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",tooltip:\"Delete\",tooltipOptions:{position:'bottom'},icon:\"pi pi-trash\",className:\"p-button-danger\",onClick:function onClick(){return _this2.DeleteMooringZone(rowData);}}));}},{key:\"getMooringZone\",value:function getMooringZone(){var _this3=this;api.post('api/getMooringZone').then(function(res){if(res.success){var formattedData=[];for(var i=0;i<res.data.length;i++){var Updated=res.data[i].UpdatedOn===undefined||res.data[i].UpdatedOn===null||res.data[i].UpdatedOn===\"\"?\"No Updates\":Moment(res.data[i].UpdatedOn).format(CommonConfig.dateFormat.dateTime);formattedData.push({Id:[i+1],MooringZoneId:res.data[i].MooringZoneId,Title:res.data[i].MooringZoneName,Summary:res.data[i].Summary,Created:Moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),Updated:Updated});var lastPage=_this3.state.rowsPerPage<formattedData.length?_this3.state.rowsPerPage:formattedData.length;var str='1 to '+lastPage+' out of '+formattedData.length+' records';_this3.setState({arr:formattedData,str:str});console.log(\"getMooringZone\",_this3.state.arr);}}else{console.log(\"Else\");}}).catch(function(err){});}},{key:\"editMooringZone\",value:function editMooringZone(rowData){console.log(\"rowData\",rowData);var Id=rowData.MooringZoneId;this.props.history.push({pathname:'/EditMooringZone/'+Id,state:{Id:Id}});}},{key:\"DeleteMooringZone\",value:function DeleteMooringZone(rowData){this.setState({isDeleteModel:true,MooringZoneId:rowData.MooringZoneId});}},{key:\"Delete\",value:function Delete(){var _this4=this;try{var data={MooringZoneId:this.state.MooringZoneId,LoggedInUserId:CommonConfig.loggedInUserId()};api.post('api/deleteMooringZone',data).then(function(res){if(res.success){_this4.toggleLarge();toast.success(\"Mooring Zone deleted successfully\");_this4.getMooringZone();}});}catch(error){console.log(\"error\",error);}}},{key:\"onColumnToggle\",value:function onColumnToggle(event){var valueInOrder=event.value.sort(function(x,y){return x.id-y.id;});this.setState({cols:valueInOrder});}},{key:\"render\",value:function render(){var _this5=this,_React$createElement;var header=/*#__PURE__*/React.createElement(\"div\",null);var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:\"contains\"});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Mooring Zone\"),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'right'}},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{margin:'4px 4px 0 0'}}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this5.setState({globalFilter:e.target.value});},placeholder:\"Global Search\",size:\"30\",style:{marginRight:10}})),/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\",onChange:this.onColumnToggle,style:{width:'50px'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-plus\",tooltip:\"Add Mooring Zone\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this5.addMoreMooring();}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",tooltip:\"Export AS CSV\",tooltipOptions:{position:'bottom'},onClick:this.export,style:{marginRight:10}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,(_React$createElement={ref:function ref(el){return _this5.dt=el;},value:this.state.arr,first:this.state.selectedPage,onPage:function onPage(e){return _this5.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,header:header,totalRecords:this.state.arr.length,exportFilename:\"Mooring Zone List\",currentPageReportTemplate:this.state.str,scrollable:true,scrollHeight:\"250px\",paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"},_defineProperty(_React$createElement,\"scrollable\",true),_defineProperty(_React$createElement,\"scrollHeight\",\"265px\"),_React$createElement),columns)),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.isDeleteModel,toggle:this.toggleLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleLarge},\"Delete MooringZone\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure, You want to delete this MooringZone ?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.Delete();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\"Yes\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.toggleLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\"No\"))));}}]);return MooringZone;}(Component);export default MooringZone;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Master/MooringZones/MooringZone.js"],"names":["React","Component","DataTable","Column","MultiSelect","InputText","toast","Button","api","Moment","Container","Form","Col","Row","Input","Card","CardBody","BTN","Modal","ModalBody","ModalFooter","ModalHeader","CommonConfig","MooringZone","props","toggleLarge","setState","isDeleteModel","MooringZoneId","export","dt","exportCSV","getPageString","e","firstPage","first","l","rows","page","lastPage","state","arr","length","str","selectedPage","rowsPerPage","addMoreMooring","history","push","pathname","columns","field","header","sortable","filter","filterMatchMode","id","body","actionTemplate","bind","brand","colors","toggleModalDel","toggleModalAdd","cols","rowData","rowsPerPageOptions","dataTableConfig","globalFilter","isEdit","colOptions","col","label","value","onColumnToggle","getMooringZone","column","position","marginRight","editMooringZone","DeleteMooringZone","post","then","res","success","formattedData","i","data","Updated","UpdatedOn","undefined","format","dateFormat","dateTime","Id","Title","MooringZoneName","Summary","Created","CreatedOn","console","log","catch","err","LoggedInUserId","loggedInUserId","error","event","valueInOrder","sort","x","y","map","textAlign","margin","target","columnToggleIcon","width","el","className","Delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { toast } from 'react-toastify';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport { Button } from 'primereact/button';\r\nimport api from '../../../utils/apiClient';\r\nimport Moment from 'moment';\r\nimport { Container, Form, Col, Row, Input, Card, CardBody, Button as BTN, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { CommonConfig } from '../../../utils/constants';\r\n\r\nclass MooringZone extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let columns = [\r\n            { field: \"Id\", header: \"ID\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\r\n            { field: \"Title\", header: \"Title\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\r\n            { field: \"Summary\", header: \"Summary\", sortable: true, filter: true, filterMatchMode: 'contains', id: 2 },\r\n            { field: \"Created\", header: \"Created\", sortable: true, filter: true, filterMatchMode: 'contains', id: 3 },\r\n            { field: \"Updated\", header: \"Updated\", sortable: true, filter: true, filterMatchMode: 'contains', id: 4 },\r\n            { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, filterMatchMode: 'contains', id: 5 }\r\n        ];\r\n\r\n        this.state = {\r\n            brand: null,\r\n            colors: null,\r\n            toggleModalDel: false,\r\n            toggleModalAdd: false,\r\n            cols: columns,\r\n            arr: [],\r\n            rowData: '',\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            str: '',\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            isEdit: false,\r\n            isDeleteModel: false,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.onColumnToggle = this.onColumnToggle.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMooringZone();\r\n    }\r\n\r\n    actionTemplate(rowData, column) {\r\n        return <div>\r\n            <Button type=\"button\" tooltip=\"Edit\" tooltipOptions={{ position: 'bottom' }} icon=\"pi pi-pencil\" className=\"p-button-warning\" style={{ marginRight: '.5em' }} onClick={() => this.editMooringZone(rowData)}></Button>\r\n            <Button type=\"button\" tooltip=\"Delete\" tooltipOptions={{ position: 'bottom' }} icon=\"pi pi-trash\" className=\"p-button-danger\" onClick={() => this.DeleteMooringZone(rowData)}></Button>\r\n        </div>;\r\n    }\r\n\r\n    getMooringZone() {\r\n        api.post('api/getMooringZone').then(res => {\r\n            if (res.success) {\r\n                var formattedData = [];\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    var Updated = (res.data[i].UpdatedOn === undefined || res.data[i].UpdatedOn === null || res.data[i].UpdatedOn === \"\") ? (\"No Updates\") : (Moment(res.data[i].UpdatedOn).format(CommonConfig.dateFormat.dateTime));\r\n                    formattedData.push({\r\n                        Id: [i + 1],\r\n                        MooringZoneId: res.data[i].MooringZoneId,\r\n                        Title: res.data[i].MooringZoneName,\r\n                        Summary: res.data[i].Summary,\r\n                        Created: Moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),\r\n                        Updated: Updated,\r\n                    });\r\n                    let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n                    let str = '1 to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n\r\n                    this.setState({ arr: formattedData, str: str });\r\n                    console.log(\"getMooringZone\", this.state.arr);\r\n                }\r\n            } else {\r\n                console.log(\"Else\");\r\n\r\n            }\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    editMooringZone(rowData) {\r\n        console.log(\"rowData\", rowData);\r\n        var Id = rowData.MooringZoneId;\r\n\r\n        this.props.history.push({\r\n            pathname: '/EditMooringZone/' + Id,\r\n            state: {\r\n                Id: Id,\r\n            }\r\n        });\r\n    }\r\n\r\n    DeleteMooringZone(rowData) {\r\n        this.setState({ isDeleteModel: true, MooringZoneId: rowData.MooringZoneId })\r\n    }\r\n\r\n    toggleLarge = () => {\r\n        this.setState({\r\n            isDeleteModel: false,\r\n            MooringZoneId: '',\r\n        });\r\n    }\r\n\r\n    Delete() {\r\n        try {\r\n            let data = {\r\n                MooringZoneId: this.state.MooringZoneId,\r\n                LoggedInUserId: CommonConfig.loggedInUserId()\r\n            }\r\n            api.post('api/deleteMooringZone', data).then(res => {\r\n                if (res.success) {\r\n                    this.toggleLarge();\r\n                    toast.success(\"Mooring Zone deleted successfully\");\r\n                    this.getMooringZone();\r\n                }\r\n\r\n            })\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    }\r\n\r\n    export = () => {\r\n        this.dt.exportCSV();\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.arr.length) ? l : this.state.arr.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    onColumnToggle(event) {\r\n        let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\r\n        this.setState({ cols: valueInOrder });\r\n    }\r\n\r\n    addMoreMooring = () => {\r\n        this.props.history.push({\r\n            pathname: '/AddMooringZone'\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var header = <div>\r\n\r\n        </div>;\r\n        let columns = this.state.cols.map((col, i) => {\r\n            return <Column field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode=\"contains\" />;\r\n        });\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1>Mooring Zone</h1>\r\n                    <div className=\"header-right-option\">\r\n\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <i className=\"pi pi-search\" style={{ margin: '4px 4px 0 0' }}></i>\r\n                            <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" size=\"30\" style={{ marginRight: 10 }} />\r\n                        </div>\r\n\r\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\"\r\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                        />\r\n\r\n                        <Button type=\"button\" icon=\"pi pi-plus\" tooltip=\"Add Mooring Zone\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.addMoreMooring()}></Button>\r\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export AS CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"table-custom\">\r\n                    <DataTable ref={(el) => this.dt = el} value={this.state.arr} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                        paginator={true} rows={this.state.rowsPerPage} header={header} totalRecords={this.state.arr.length} exportFilename=\"Mooring Zone List\"\r\n                        currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"250px\"\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                        responsive={true} resizableColumns={true} columnResizeMode=\"fit\"\r\n                        scrollable={true} scrollHeight=\"265px\">\r\n                        {columns}\r\n                    </DataTable>\r\n                </div>\r\n                <Modal isOpen={this.state.isDeleteModel} toggle={this.toggleLarge}\r\n                    className={'modal-lg ' + this.props.className}>\r\n                    <ModalHeader toggle={this.toggleLarge}>Delete MooringZone</ModalHeader>\r\n                    <ModalBody>\r\n                        Are you sure, You want to delete this MooringZone ?\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <BTN color=\"success\" onClick={() => this.Delete()}><i class=\"fa fa-check\"></i>Yes</BTN>{' '}\r\n                        <BTN color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-close\"></i>No</BTN>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MooringZone;"]},"metadata":{},"sourceType":"module"}