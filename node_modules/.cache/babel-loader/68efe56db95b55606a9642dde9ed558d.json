{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{MultiSelect}from'primereact/multiselect';import{InputText}from'primereact/inputtext';import{toast}from'react-toastify';import{Button}from'primereact/button';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Modal,ModalBody,ModalFooter,ModalHeader,Col,Row,Input,Button as BTN}from'reactstrap';import api from'../../utils/apiClient';import APIConstant from'../../utils/constants';import moment from'moment';import{CommonConfig}from'../../utils/constants';import{apiBase}from'../../utils/config';import ShowMoreText from'react-show-more-text';import{useTranslation,withTranslation,Trans}from'react-i18next';var Notes=/*#__PURE__*/function(_Component){_inherits(Notes,_Component);var _super=_createSuper(Notes);function Notes(props){var _this;_classCallCheck(this,Notes);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.arr.length?l:_this.state.arr.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.arr.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.updateNotes=function(rowdata){_this.setState({isNoteEdit:true,notesdescription:rowdata.note,notesdescriptionError:false,notestitle:rowdata.title,notestitleError:false,notesType:rowdata.category,NotesTypeError:false,noteID:rowdata.noteID,userImg:apiBase+rowdata.link,titleNote:\"Edit\"});_this.show(\"notestitle\",false);_this.show(\"notesdescription\",false);_this.show('notesType',false);};_this.DeleteNotesModal=function(rowdata){_this.setState({noteID:rowdata.noteID});_this.openModal(rowdata);};_this.DeleteNotes=function(noteID){api.post('api/deleteNote',{noteId:noteID}).then(function(res){if(res.success){_this.reset();_this.openModal();toast.success('Notes deleted successful!');_this.getNoteList();}else{}}).catch(function(err){});};_this.reset=function(){_this.setState({isNoteEdit:false,notesdescription:'',notesdescriptionError:true,notestitle:'',notestitleError:true,notesType:'',NotesTypeError:true,noteID:'',userImg:'',userImgData:'',noteaddon:'',titleNote:\"Add\"});_this.show(\"notestitle\",false);_this.show(\"notesdescription\",false);_this.show('notesType',false);document.getElementById(\"noteaddon\").value=null;};_this.toggleLarge=function(){_this.setState({toggleModal:false});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='notestitle'){if(CommonConfig.isEmpty(e.target.value)){_this.setState({notestitleError:true});_this.show(\"notestitle\",true);}else{_this.setState({notestitleError:false,notestitle:e.target.value});_this.show(\"notestitle\",false);}}if(e.target.name==='notesdescription'){if(CommonConfig.isEmpty(e.target.value)){_this.setState({notesdescriptionError:true});_this.show(\"notesdescription\",true);}else{_this.setState({notesdescriptionError:false,notesdescription:e.target.value});_this.show(\"notesdescription\",false);}}};_this.selectImage=function(event){if(event.target.files&&event.target.files[0]){_this.setState({userImgData:event.target.files[0]});var reader=new FileReader();reader.onload=function(e){_this.setState({userImg:e.target.result});};reader.readAsDataURL(event.target.files[0]);}};_this.saveNotes=function(){if(_this.state.notestitleError===false&&_this.state.NotesTypeError===false&&_this.state.notesdescriptionError===false){var NotesForm=new FormData();NotesForm.append('noteId',_this.state.noteID);NotesForm.append('notetitle',_this.state.notestitle.trim());NotesForm.append('notesType',_this.state.notesType);NotesForm.append('notesdescription',_this.state.notesdescription.trim());NotesForm.append('entityid',_this.state.EntityId);NotesForm.append('entitytype',_this.state.EntityType);NotesForm.append('isflag',_this.state.isImportant);NotesForm.append('loggedInUserId',CommonConfig.loggedInUserId());NotesForm.append('languageId',_this.state.LanguageId);if(_this.state.userImgData&&_this.state.userImgData!=''&&_this.state.userImgData!=undefined&&_this.state.userImgData!=null){NotesForm.append('notesAddOn',_this.state.userImgData);}api.post('api/addNotes',NotesForm).then(function(res){if(res.success){document.getElementById(\"noteaddon\").value=null;_this.reset();if(res.data.affectedRows){toast.success('Notes updated successfully');}else{toast.success('Notes added successfully');}toast.success(res.message);_this.getNoteList();}else{}}).catch(function(err){});}else{_this.show(\"notestitle\",_this.state.notestitleError);_this.show(\"notesType\",_this.state.NotesTypeError);_this.show(\"notesdescription\",_this.state.notesdescriptionError);}};console.log(\"props\",props);var columns=[{field:\"id\",header:\"Id\",sortable:true,filter:false,id:0},{field:\"category\",header:\"category\",sortable:true,filter:true,id:1},{field:\"user\",header:\"User\",sortable:true,filter:true,id:2},{field:\"title\",header:\"Title\",sortable:true,filter:true,id:3},{field:\"note\",body:_this.noteTemplate.bind(_assertThisInitialized(_this)),header:\"note\",sortable:true,filter:true,id:4},{field:\"created\",header:\"Created\",sortable:true,filter:false,id:5},{field:\"updated\",header:\"Updated\",sortable:true,filter:false,id:6},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,id:7}];var NType=[{label:'Policy',value:'Policy'},{label:'Claim',value:'Claim'}];_this.state={toggleModal:false,cols:columns,arr:[],isImportant:1,Notes:'',Type:[],notesType:'',notestitle:'',notesdescription:'',notestitleError:true,notesdescriptionError:true,NotesTypeError:true,noteID:'',isNoteEdit:false,EntityId:'fddf9f64-0f38-4ebb-81d4-0e52f548f549',EntityType:'Organization',userImg:'',userImgData:'',noteaddon:'',str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,selectedPage:0,titleNote:\"Add\",LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.onColumnToggle=_this.onColumnToggle.bind(_assertThisInitialized(_this));_this.onBrandChange=_this.onBrandChange.bind(_assertThisInitialized(_this));_this.export=_this.export.bind(_assertThisInitialized(_this));return _this;}_createClass(Notes,[{key:\"componentDidMount\",value:function componentDidMount(){this.getNoteList();this.getNotesType();}},{key:\"getNoteList\",value:function getNoteList(){var _this2=this;api.post('api/getNotes',{}).then(function(res){if(res.success){var formattedData=[];console.log('erfwefcafc',res.data);for(var i=0;i<res.data.length;i++){formattedData.push({id:[i+1],noteID:res.data[i].NoteId,category:res.data[i].NoteType,user:res.data[i].EntityName,title:res.data[i].NoteTitle,note:res.data[i].NoteText,created:moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),updated:res.data[i].UpdatedOn!=null?moment(res.data[i].UpdatedOn).format(CommonConfig.dateFormat.dateTime):'',link:res.data[i].Link});}var lastPage=_this2.state.rowsPerPage<formattedData.length?_this2.state.rowsPerPage:formattedData.length;var str='1 to '+lastPage+' out of '+formattedData.length+' records';_this2.setState({arr:formattedData,str:str});}else{}}).catch(function(err){});}},{key:\"getNotesType\",value:function getNotesType(){var _this3=this;try{var data={stringmaptype:'NOTETYPE'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){console.log('NOTETYPE',res);if(res.success){_this3.setState({Type:res.data});}else{}}).catch(function(err){});}catch(error){}}},{key:\"executeOnClick\",value:function executeOnClick(isExpanded){}},{key:\"noteTemplate\",value:function noteTemplate(rowData,column){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ShowMoreText,{lines:3,more:\"Show more\",less:\"Show less\",anchorClass:\"\",onClick:this.executeOnClick,expanded:false},rowData.note));}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-pencil\",style:{margin:2},tooltip:\"Edit\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this4.updateNotes(rowData);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-trash\",style:{margin:2},tooltip:\"Delete\",tooltipOptions:{position:'bottom'},onClick:function onClick(){return _this4.DeleteNotesModal(rowData);}}));}},{key:\"onBrandChange\",value:function onBrandChange(event){this.dt.filter(event.value,'brand','equals');this.setState({brand:event.value});}},{key:\"export\",value:function _export(){this.dt.exportCSV();}},{key:\"openModal\",value:function openModal(){this.setState({toggleModal:!this.state.toggleModal});}},{key:\"onColumnToggle\",value:function onColumnToggle(event){var valueInOrder=event.value.sort(function(x,y){return x.id-y.id;});this.setState({cols:valueInOrder});}},{key:\"selectType\",value:function selectType(value,type){if(value===''||value===null){this.setState({NotesTypeError:true,notesType:value});this.show('notesType',true);}else{this.setState({NotesTypeError:false,notesType:value});this.show('notesType',false);}}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"render\",value:function render(){var _this5=this;var header=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\",md:\"12\",style:{padding:20}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(\"h4\",{style:{float:'left'}},this.state.titleNote,\" Notes\"))),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Row,{style:{marginTop:10}},/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,\"Note Title*\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"notestitle\",id:\"notestitle\",onChange:function onChange(e){return _this5.handleChange(e);},placeholder:\"Note Title\",size:\"30\",value:this.state.notestitle}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please enter note title \"))),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,\"Notes Type*\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"notesType\",id:\"notesType\",onChange:function onChange(e){return _this5.selectType(e.target.value,'notesType');},value:this.state.notesType},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select Notes Type\"),this.state.Type.map(function(ct,i){return/*#__PURE__*/React.createElement(\"option\",{value:ct.StringMapKey},ct.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please select note type \")))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:10}},/*#__PURE__*/React.createElement(Col,{md:\"9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,\"Notes*\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"notesdescription\",id:\"notesdescription\",rows:5,cols:50,placeholder:\"please write note\",value:this.state.notesdescription,onChange:function onChange(e){return _this5.handleChange(e);},autoResize:true}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\" Please enter note \"))),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,\"Notes Addon\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"noteaddon\",id:\"noteaddon\",onChange:this.selectImage})))),/*#__PURE__*/React.createElement(Row,{className:\"text-center\"},/*#__PURE__*/React.createElement(Col,null,this.state.isNoteEdit?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.saveNotes();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Update\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this5.reset();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.saveNotes();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this5.reset();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))))))),/*#__PURE__*/React.createElement(Col,{xs:\"4\",md:\"4\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'left'}},/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,onChange:this.onColumnToggle,style:{width:'50px'},fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\"}))),/*#__PURE__*/React.createElement(Col,{xs:\"4\",md:\"4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-section introduction\"},/*#__PURE__*/React.createElement(\"div\",{className:\"feature-intro\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Notes\")))),/*#__PURE__*/React.createElement(Col,{xs:\"4\",md:\"4\"},/*#__PURE__*/React.createElement(\"div\",{style:{'textAlign':'right'}},/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this5.setState({globalFilter:e.target.value});},placeholder:\"Global Search\",size:\"30\",style:{marginBottom:10}}),/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{margin:'4px 4px 0 0'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",style:{margin:2},tooltip:\"Export as CSV\",tooltipOptions:{position:'bottom'},onClick:this.export})))));var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this5.dt=el;},value:this.state.arr,currentPageReportTemplate:this.state.str,first:this.state.selectedPage,onPage:function onPage(e){return _this5.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,header:header,exportFilename:\"Notes\",paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown \",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"},columns)),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toggleModal,toggle:this.toggleLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleLarge},\"Delete Notes\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure you want to delete note?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.DeleteNotes(_this5.state.noteID);}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Yes\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.toggleLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))));}}]);return Notes;}(Component);// export default Notes;\nexport default withTranslation()(Notes);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Notes/Notes.js"],"names":["React","Component","DataTable","Column","MultiSelect","InputText","toast","Button","Modal","ModalBody","ModalFooter","ModalHeader","Col","Row","Input","BTN","api","APIConstant","moment","CommonConfig","apiBase","ShowMoreText","useTranslation","withTranslation","Trans","Notes","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","arr","length","str","setState","selectedPage","rowsPerPage","updateNotes","rowdata","isNoteEdit","notesdescription","note","notesdescriptionError","notestitle","title","notestitleError","notesType","category","NotesTypeError","noteID","userImg","link","titleNote","show","DeleteNotesModal","openModal","DeleteNotes","post","noteId","then","res","success","reset","getNoteList","catch","err","userImgData","noteaddon","document","getElementById","value","toggleLarge","toggleModal","handleChange","target","name","isEmpty","selectImage","event","files","reader","FileReader","onload","result","readAsDataURL","saveNotes","NotesForm","FormData","append","trim","EntityId","EntityType","isImportant","loggedInUserId","LanguageId","undefined","data","affectedRows","message","console","log","columns","field","header","sortable","filter","id","body","noteTemplate","bind","actionTemplate","NType","label","cols","Type","dataTableConfig","rowsPerPageOptions","i18n","language","colOptions","col","push","onColumnToggle","onBrandChange","export","getNotesType","formattedData","i","NoteId","NoteType","user","EntityName","NoteTitle","NoteText","created","CreatedOn","format","dateFormat","dateTime","updated","UpdatedOn","Link","stringmaptype","path","dropdownbycode","error","isExpanded","rowData","column","executeOnClick","margin","position","dt","brand","exportCSV","valueInOrder","sort","x","y","type","condition","className","padding","float","handleSubmit","marginTop","selectType","map","ct","StringMapKey","StringMapName","textAlign","width","columnToggleIcon","globalFilter","marginBottom","el"],"mappings":"4nCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,sBAA1B,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,SAAT,KAA0B,sBAA1B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAO,kDAAP,CACA,MAAO,yCAAP,CACA,MAAO,2BAAP,CACA,OAASC,KAAT,CAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,WAAxC,CAAqDC,GAArD,CAA0DC,GAA1D,CAA+DC,KAA/D,CAAsEP,MAAM,GAAIQ,CAAAA,GAAhF,KAA2F,YAA3F,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,cAAT,CAAyBC,eAAzB,CAA0CC,KAA1C,KAAuD,eAAvD,C,GAEMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MAgHnBC,aAhHmB,CAgHH,SAACC,CAAD,CAAO,CACrB,GAAIC,CAAAA,SAAS,CAAGD,CAAC,CAACE,KAAF,CAAU,CAA1B,CACA,GAAIC,CAAAA,CAAC,CAAGH,CAAC,CAACI,IAAF,EAAUJ,CAAC,CAACK,IAAF,CAAS,CAAnB,CAAR,CACA,GAAIC,CAAAA,QAAQ,CAAIH,CAAC,CAAG,MAAKI,KAAL,CAAWC,GAAX,CAAeC,MAApB,CAA8BN,CAA9B,CAAkC,MAAKI,KAAL,CAAWC,GAAX,CAAeC,MAAhE,CACA,GAAIC,CAAAA,GAAG,CAAGT,SAAS,CAAG,MAAZ,CAAqBK,QAArB,CAAgC,UAAhC,CAA6C,MAAKC,KAAL,CAAWC,GAAX,CAAeC,MAA5D,CAAqE,UAA/E,CACA,MAAKE,QAAL,CAAc,CAAEC,YAAY,CAAEZ,CAAC,CAACE,KAAlB,CAAyBQ,GAAG,CAAEA,GAA9B,CAAmCG,WAAW,CAAEb,CAAC,CAACI,IAAlD,CAAd,EACD,CAtHkB,OAwHnBU,WAxHmB,CAwHL,SAACC,OAAD,CAAa,CACzB,MAAKJ,QAAL,CAAc,CACZK,UAAU,CAAE,IADA,CACMC,gBAAgB,CAAEF,OAAO,CAACG,IADhC,CACsCC,qBAAqB,CAAE,KAD7D,CAEZC,UAAU,CAAEL,OAAO,CAACM,KAFR,CAEeC,eAAe,CAAE,KAFhC,CAGZC,SAAS,CAAER,OAAO,CAACS,QAHP,CAGiBC,cAAc,CAAE,KAHjC,CAIZC,MAAM,CAAEX,OAAO,CAACW,MAJJ,CAKZC,OAAO,CAAEnC,OAAO,CAAGuB,OAAO,CAACa,IALf,CAMZC,SAAS,CAAE,MANC,CAAd,EAQA,MAAKC,IAAL,CAAU,YAAV,CAAwB,KAAxB,EACA,MAAKA,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACA,MAAKA,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CApIkB,OAsInBC,gBAtImB,CAsIA,SAAChB,OAAD,CAAa,CAC9B,MAAKJ,QAAL,CAAc,CAAEe,MAAM,CAAEX,OAAO,CAACW,MAAlB,CAAd,EACA,MAAKM,SAAL,CAAejB,OAAf,EACD,CAzIkB,OA2InBkB,WA3ImB,CA2IL,SAACP,MAAD,CAAY,CACxBtC,GAAG,CAAC8C,IAAJ,CAAS,gBAAT,CAA2B,CAAEC,MAAM,CAAET,MAAV,CAA3B,EAA+CU,IAA/C,CAAoD,SAAAC,GAAG,CAAI,CACzD,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,MAAKC,KAAL,GACA,MAAKP,SAAL,GACAtD,KAAK,CAAC4D,OAAN,CAAc,2BAAd,EACA,MAAKE,WAAL,GACD,CALD,IAKO,CAEN,CACF,CATD,EASGC,KATH,CASS,SAAAC,GAAG,CAAI,CACf,CAVD,EAWD,CAvJkB,OAyJnBH,KAzJmB,CAyJX,UAAM,CACZ,MAAK5B,QAAL,CAAc,CACZK,UAAU,CAAE,KADA,CACOC,gBAAgB,CAAE,EADzB,CAC6BE,qBAAqB,CAAE,IADpD,CAEZC,UAAU,CAAE,EAFA,CAEIE,eAAe,CAAE,IAFrB,CAGZC,SAAS,CAAE,EAHC,CAGGE,cAAc,CAAE,IAHnB,CAIZC,MAAM,CAAE,EAJI,CAIAC,OAAO,CAAE,EAJT,CAIagB,WAAW,CAAE,EAJ1B,CAI8BC,SAAS,CAAE,EAJzC,CAI6Cf,SAAS,CAAE,KAJxD,CAAd,EAMA,MAAKC,IAAL,CAAU,YAAV,CAAwB,KAAxB,EACA,MAAKA,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACA,MAAKA,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACAe,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA6C,IAA7C,CACD,CApKkB,OA2MnBC,WA3MmB,CA2ML,UAAM,CAClB,MAAKrC,QAAL,CAAc,CAAEsC,WAAW,CAAE,KAAf,CAAd,EACD,CA7MkB,OAoNnBC,YApNmB,CAoNJ,SAAClD,CAAD,CAAO,CACpB,MAAKW,QAAL,oBAAiBX,CAAC,CAACmD,MAAF,CAASC,IAA1B,CAAiCpD,CAAC,CAACmD,MAAF,CAASJ,KAA1C,GACA,GAAI/C,CAAC,CAACmD,MAAF,CAASC,IAAT,GAAkB,YAAtB,CAAoC,CAClC,GAAI7D,YAAY,CAAC8D,OAAb,CAAqBrD,CAAC,CAACmD,MAAF,CAASJ,KAA9B,CAAJ,CAA0C,CACxC,MAAKpC,QAAL,CAAc,CAAEW,eAAe,CAAE,IAAnB,CAAd,EACA,MAAKQ,IAAL,CAAU,YAAV,CAAwB,IAAxB,EACD,CAHD,IAGO,CACL,MAAKnB,QAAL,CAAc,CAAEW,eAAe,CAAE,KAAnB,CAA0BF,UAAU,CAAEpB,CAAC,CAACmD,MAAF,CAASJ,KAA/C,CAAd,EACA,MAAKjB,IAAL,CAAU,YAAV,CAAwB,KAAxB,EACD,CACF,CACD,GAAI9B,CAAC,CAACmD,MAAF,CAASC,IAAT,GAAkB,kBAAtB,CAA0C,CACxC,GAAI7D,YAAY,CAAC8D,OAAb,CAAqBrD,CAAC,CAACmD,MAAF,CAASJ,KAA9B,CAAJ,CAA0C,CACxC,MAAKpC,QAAL,CAAc,CAAEQ,qBAAqB,CAAE,IAAzB,CAAd,EACA,MAAKW,IAAL,CAAU,kBAAV,CAA8B,IAA9B,EACD,CAHD,IAGO,CACL,MAAKnB,QAAL,CAAc,CAAEQ,qBAAqB,CAAE,KAAzB,CAAgCF,gBAAgB,CAAEjB,CAAC,CAACmD,MAAF,CAASJ,KAA3D,CAAd,EACA,MAAKjB,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACD,CACF,CACF,CAxOkB,OA0OnBwB,WA1OmB,CA0OL,SAACC,KAAD,CAAW,CAEvB,GAAIA,KAAK,CAACJ,MAAN,CAAaK,KAAb,EAAsBD,KAAK,CAACJ,MAAN,CAAaK,KAAb,CAAmB,CAAnB,CAA1B,CAAiD,CAC/C,MAAK7C,QAAL,CAAc,CAAEgC,WAAW,CAAEY,KAAK,CAACJ,MAAN,CAAaK,KAAb,CAAmB,CAAnB,CAAf,CAAd,EACA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,MAAP,CAAgB,SAAC3D,CAAD,CAAO,CACrB,MAAKW,QAAL,CAAc,CAAEgB,OAAO,CAAE3B,CAAC,CAACmD,MAAF,CAASS,MAApB,CAAd,EACD,CAFD,CAGAH,MAAM,CAACI,aAAP,CAAqBN,KAAK,CAACJ,MAAN,CAAaK,KAAb,CAAmB,CAAnB,CAArB,EAED,CACF,CArPkB,OAiQnBM,SAjQmB,CAiQP,UAAM,CAChB,GACE,MAAKvD,KAAL,CAAWe,eAAX,GAA+B,KAA/B,EACA,MAAKf,KAAL,CAAWkB,cAAX,GAA8B,KAD9B,EAEA,MAAKlB,KAAL,CAAWY,qBAAX,GAAqC,KAHvC,CAIE,CACA,GAAM4C,CAAAA,SAAS,CAAG,GAAIC,CAAAA,QAAJ,EAAlB,CACAD,SAAS,CAACE,MAAV,CAAiB,QAAjB,CAA2B,MAAK1D,KAAL,CAAWmB,MAAtC,EACAqC,SAAS,CAACE,MAAV,CAAiB,WAAjB,CAA8B,MAAK1D,KAAL,CAAWa,UAAX,CAAsB8C,IAAtB,EAA9B,EACAH,SAAS,CAACE,MAAV,CAAiB,WAAjB,CAA8B,MAAK1D,KAAL,CAAWgB,SAAzC,EACAwC,SAAS,CAACE,MAAV,CAAiB,kBAAjB,CAAqC,MAAK1D,KAAL,CAAWU,gBAAX,CAA4BiD,IAA5B,EAArC,EACAH,SAAS,CAACE,MAAV,CAAiB,UAAjB,CAA6B,MAAK1D,KAAL,CAAW4D,QAAxC,EACAJ,SAAS,CAACE,MAAV,CAAiB,YAAjB,CAA+B,MAAK1D,KAAL,CAAW6D,UAA1C,EACAL,SAAS,CAACE,MAAV,CAAiB,QAAjB,CAA2B,MAAK1D,KAAL,CAAW8D,WAAtC,EACAN,SAAS,CAACE,MAAV,CAAiB,gBAAjB,CAAmC1E,YAAY,CAAC+E,cAAb,EAAnC,EACAP,SAAS,CAACE,MAAV,CAAiB,YAAjB,CAA+B,MAAK1D,KAAL,CAAWgE,UAA1C,EAEA,GAAI,MAAKhE,KAAL,CAAWoC,WAAX,EAA0B,MAAKpC,KAAL,CAAWoC,WAAX,EAA0B,EAApD,EAA0D,MAAKpC,KAAL,CAAWoC,WAAX,EAA0B6B,SAApF,EAAiG,MAAKjE,KAAL,CAAWoC,WAAX,EAA0B,IAA/H,CAAqI,CACnIoB,SAAS,CAACE,MAAV,CAAiB,YAAjB,CAA+B,MAAK1D,KAAL,CAAWoC,WAA1C,EACD,CACDvD,GAAG,CAAC8C,IAAJ,CAAS,cAAT,CAAyB6B,SAAzB,EAAoC3B,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAE9C,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACfO,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA6C,IAA7C,CACA,MAAKR,KAAL,GACA,GAAIF,GAAG,CAACoC,IAAJ,CAASC,YAAb,CAA2B,CACzBhG,KAAK,CAAC4D,OAAN,CAAc,4BAAd,EACD,CAFD,IAEO,CACL5D,KAAK,CAAC4D,OAAN,CAAc,0BAAd,EACD,CACD5D,KAAK,CAAC4D,OAAN,CAAcD,GAAG,CAACsC,OAAlB,EACA,MAAKnC,WAAL,GACD,CAVD,IAUO,CAEN,CACF,CAfD,EAeGC,KAfH,CAeS,SAAAC,GAAG,CAAI,CACf,CAhBD,EAiBD,CApCD,IAoCO,CACL,MAAKZ,IAAL,CAAU,YAAV,CAAwB,MAAKvB,KAAL,CAAWe,eAAnC,EACA,MAAKQ,IAAL,CAAU,WAAV,CAAuB,MAAKvB,KAAL,CAAWkB,cAAlC,EACA,MAAKK,IAAL,CAAU,kBAAV,CAA8B,MAAKvB,KAAL,CAAWY,qBAAzC,EACD,CACF,CA3SkB,CAEjByD,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAoB/E,KAApB,EAEA,GAAIgF,CAAAA,OAAO,CAAG,CACZ,CAAEC,KAAK,CAAE,IAAT,CAAeC,MAAM,CAAE,IAAvB,CAA6BC,QAAQ,CAAE,IAAvC,CAA6CC,MAAM,CAAE,KAArD,CAA4DC,EAAE,CAAE,CAAhE,CADY,CAEZ,CAAEJ,KAAK,CAAE,UAAT,CAAqBC,MAAM,CAAE,UAA7B,CAAyCC,QAAQ,CAAE,IAAnD,CAAyDC,MAAM,CAAE,IAAjE,CAAuEC,EAAE,CAAE,CAA3E,CAFY,CAGZ,CAAEJ,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,QAAQ,CAAE,IAA3C,CAAiDC,MAAM,CAAE,IAAzD,CAA+DC,EAAE,CAAE,CAAnE,CAHY,CAIZ,CAAEJ,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,OAA1B,CAAmCC,QAAQ,CAAE,IAA7C,CAAmDC,MAAM,CAAE,IAA3D,CAAiEC,EAAE,CAAE,CAArE,CAJY,CAKZ,CAAEJ,KAAK,CAAE,MAAT,CAAiBK,IAAI,CAAE,MAAKC,YAAL,CAAkBC,IAAlB,+BAAvB,CAAqDN,MAAM,CAAE,MAA7D,CAAqEC,QAAQ,CAAE,IAA/E,CAAqFC,MAAM,CAAE,IAA7F,CAAmGC,EAAE,CAAE,CAAvG,CALY,CAMZ,CAAEJ,KAAK,CAAE,SAAT,CAAoBC,MAAM,CAAE,SAA5B,CAAuCC,QAAQ,CAAE,IAAjD,CAAuDC,MAAM,CAAE,KAA/D,CAAsEC,EAAE,CAAE,CAA1E,CANY,CAOZ,CAAEJ,KAAK,CAAE,SAAT,CAAoBC,MAAM,CAAE,SAA5B,CAAuCC,QAAQ,CAAE,IAAjD,CAAuDC,MAAM,CAAE,KAA/D,CAAsEC,EAAE,CAAE,CAA1E,CAPY,CAQZ,CAAEC,IAAI,CAAE,MAAKG,cAAL,CAAoBD,IAApB,+BAAR,CAAwCN,MAAM,CAAE,QAAhD,CAA0DC,QAAQ,CAAE,KAApE,CAA2EC,MAAM,CAAE,KAAnF,CAA0FC,EAAE,CAAE,CAA9F,CARY,CAAd,CAUA,GAAMK,CAAAA,KAAK,CAAG,CACZ,CAAEC,KAAK,CAAE,QAAT,CAAmB1C,KAAK,CAAE,QAA1B,CADY,CAEZ,CAAE0C,KAAK,CAAE,OAAT,CAAkB1C,KAAK,CAAE,OAAzB,CAFY,CAAd,CAIA,MAAKxC,KAAL,CAAa,CACX0C,WAAW,CAAE,KADF,CAEXyC,IAAI,CAAEZ,OAFK,CAGXtE,GAAG,CAAE,EAHM,CAIX6D,WAAW,CAAE,CAJF,CAKXxE,KAAK,CAAE,EALI,CAMX8F,IAAI,CAAE,EANK,CAOXpE,SAAS,CAAE,EAPA,CAQXH,UAAU,CAAE,EARD,CASXH,gBAAgB,CAAE,EATP,CAUXK,eAAe,CAAE,IAVN,CAWXH,qBAAqB,CAAE,IAXZ,CAYXM,cAAc,CAAE,IAZL,CAaXC,MAAM,CAAE,EAbG,CAcXV,UAAU,CAAE,KAdD,CAeXmD,QAAQ,CAAE,sCAfC,CAgBXC,UAAU,CAAE,cAhBD,CAkBXzC,OAAO,CAAE,EAlBE,CAmBXgB,WAAW,CAAE,EAnBF,CAoBXC,SAAS,CAAE,EApBA,CAsBXlC,GAAG,CAAE,EAtBM,CAuBXG,WAAW,CAAEtB,YAAY,CAACqG,eAAb,CAA6B/E,WAvB/B,CAwBXgF,kBAAkB,CAAEtG,YAAY,CAACqG,eAAb,CAA6BC,kBAxBtC,CAyBXjF,YAAY,CAAE,CAzBH,CA0BXiB,SAAS,CAAE,KA1BA,CA2BX0C,UAAU,CAAGzE,KAAK,CAACgG,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA4CjG,KAAK,CAACgG,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA4CjG,KAAK,CAACgG,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA2CjG,KAAK,CAACgG,IAAN,CAAWC,QA3B7I,CAAb,CA6BA,MAAKC,UAAL,CAAkB,EAAlB,CACA,sBAAgBlB,OAAhB,yBAAyB,CAApB,GAAImB,CAAAA,GAAG,aAAP,CACH,MAAKD,UAAL,CAAgBE,IAAhB,CAAqB,CAAET,KAAK,CAAEQ,GAAG,CAACjB,MAAb,CAAqBjC,KAAK,CAAEkD,GAA5B,CAArB,EACD,CACD,MAAKE,cAAL,CAAsB,MAAKA,cAAL,CAAoBb,IAApB,+BAAtB,CACA,MAAKc,aAAL,CAAqB,MAAKA,aAAL,CAAmBd,IAAnB,+BAArB,CACA,MAAKe,MAAL,CAAc,MAAKA,MAAL,CAAYf,IAAZ,+BAAd,CArDiB,aAsDlB,C,+EAEmB,CAClB,KAAK9C,WAAL,GACA,KAAK8D,YAAL,GACD,C,iDAEa,iBACZlH,GAAG,CAAC8C,IAAJ,CAAS,cAAT,CAAyB,EAAzB,EAA6BE,IAA7B,CAAkC,SAAAC,GAAG,CAAI,CACvC,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,GAAIiE,CAAAA,aAAa,CAAG,EAApB,CACA3B,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BxC,GAAG,CAACoC,IAA9B,EAEA,IAAK,GAAI+B,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGnE,GAAG,CAACoC,IAAJ,CAAShE,MAA7B,CAAqC+F,CAAC,EAAtC,CAA0C,CACxCD,aAAa,CAACL,IAAd,CAAmB,CACjBf,EAAE,CAAE,CAACqB,CAAC,CAAG,CAAL,CADa,CAEjB9E,MAAM,CAAEW,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYC,MAFH,CAGjBjF,QAAQ,CAAEa,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYE,QAHL,CAIjBC,IAAI,CAAEtE,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYI,UAJD,CAKjBvF,KAAK,CAAEgB,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYK,SALF,CAMjB3F,IAAI,CAAEmB,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYM,QAND,CAOjBC,OAAO,CAAEzH,MAAM,CAAC+C,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYQ,SAAb,CAAN,CAA8BC,MAA9B,CAAqC1H,YAAY,CAAC2H,UAAb,CAAwBC,QAA7D,CAPQ,CAQjBC,OAAO,CAAE/E,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYa,SAAZ,EAAyB,IAAzB,CAAgC/H,MAAM,CAAC+C,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYa,SAAb,CAAN,CAA8BJ,MAA9B,CAAqC1H,YAAY,CAAC2H,UAAb,CAAwBC,QAA7D,CAAhC,CAAyG,EARjG,CASjBvF,IAAI,CAAES,GAAG,CAACoC,IAAJ,CAAS+B,CAAT,EAAYc,IATD,CAAnB,EAWD,CACD,GAAIhH,CAAAA,QAAQ,CAAI,MAAI,CAACC,KAAL,CAAWM,WAAX,CAAyB0F,aAAa,CAAC9F,MAAxC,CAAkD,MAAI,CAACF,KAAL,CAAWM,WAA7D,CAA2E0F,aAAa,CAAC9F,MAAxG,CACA,GAAIC,CAAAA,GAAG,CAAG,QAAUJ,QAAV,CAAqB,UAArB,CAAkCiG,aAAa,CAAC9F,MAAhD,CAAyD,UAAnE,CACA,MAAI,CAACE,QAAL,CAAc,CAAEH,GAAG,CAAE+F,aAAP,CAAsB7F,GAAG,CAAEA,GAA3B,CAAd,EACD,CApBD,IAoBO,CAEN,CACF,CAxBD,EAwBG+B,KAxBH,CAwBS,SAAAC,GAAG,CAAI,CAEf,CA1BD,EA2BD,C,mDAEc,iBACb,GAAI,CACF,GAAM+B,CAAAA,IAAI,CAAG,CACX8C,aAAa,CAAE,UADJ,CAAb,CAGAnI,GAAG,CAAC8C,IAAJ,CAAS7C,WAAW,CAACmI,IAAZ,CAAiBC,cAA1B,CAA0ChD,IAA1C,EAAgDrC,IAAhD,CAAqD,SAAAC,GAAG,CAAI,CAC1DuC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBxC,GAAxB,EAEA,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,MAAI,CAAC3B,QAAL,CAAc,CAAEgF,IAAI,CAAEtD,GAAG,CAACoC,IAAZ,CAAd,EACD,CAFD,IAEO,CAEN,CACF,CARD,EAQGhC,KARH,CAQS,SAAAC,GAAG,CAAI,CAEf,CAVD,EAWD,CAAC,MAAOgF,KAAP,CAAc,CAEf,CACF,C,sDAwDcC,U,CAAY,CAC1B,C,kDAEYC,O,CAASC,M,CAAQ,CAC5B,mBAAO,4CACL,oBAAC,YAAD,EACE,KAAK,CAAE,CADT,CAEE,IAAI,CAAC,WAFP,CAGE,IAAI,CAAC,WAHP,CAIE,WAAW,CAAC,EAJd,CAKE,OAAO,CAAE,KAAKC,cALhB,CAME,QAAQ,CAAE,KANZ,EAOGF,OAAO,CAAC1G,IAPX,CADK,CAAP,CAWD,C,sDAEc0G,O,CAASC,M,CAAQ,iBAC9B,mBAAO,4CACL,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,cAA3B,CAA0C,KAAK,CAAE,CAAEE,MAAM,CAAE,CAAV,CAAjD,CAAgE,OAAO,CAAC,MAAxE,CAA+E,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAA/F,CAAuH,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClH,WAAL,CAAiB8G,OAAjB,CAAN,EAAhI,EADK,cAEL,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,aAA3B,CAAyC,KAAK,CAAE,CAAEG,MAAM,CAAE,CAAV,CAAhD,CAA+D,OAAO,CAAC,QAAvE,CAAgF,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAAhG,CAAwH,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACjG,gBAAL,CAAsB6F,OAAtB,CAAN,EAAjI,EAFK,CAAP,CAID,C,oDAEarE,K,CAAO,CACnB,KAAK0E,EAAL,CAAQ/C,MAAR,CAAe3B,KAAK,CAACR,KAArB,CAA4B,OAA5B,CAAqC,QAArC,EACA,KAAKpC,QAAL,CAAc,CAAEuH,KAAK,CAAE3E,KAAK,CAACR,KAAf,CAAd,EACD,C,wCAEQ,CACP,KAAKkF,EAAL,CAAQE,SAAR,GACD,C,6CAEW,CACV,KAAKxH,QAAL,CAAc,CAAEsC,WAAW,CAAE,CAAC,KAAK1C,KAAL,CAAW0C,WAA3B,CAAd,EACD,C,sDAMcM,K,CAAO,CACpB,GAAI6E,CAAAA,YAAY,CAAG7E,KAAK,CAACR,KAAN,CAAYsF,IAAZ,CAAiB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAAE,MAAOD,CAAAA,CAAC,CAACnD,EAAF,CAAOoD,CAAC,CAACpD,EAAhB,CAAoB,CAAjD,CAAnB,CACA,KAAKxE,QAAL,CAAc,CAAE+E,IAAI,CAAE0C,YAAR,CAAd,EACD,C,8CAqCUrF,K,CAAOyF,I,CAAM,CACtB,GAAIzF,KAAK,GAAK,EAAV,EAAgBA,KAAK,GAAK,IAA9B,CAAoC,CAClC,KAAKpC,QAAL,CAAc,CAAEc,cAAc,CAAE,IAAlB,CAAwBF,SAAS,CAAEwB,KAAnC,CAAd,EACA,KAAKjB,IAAL,CAAU,WAAV,CAAuB,IAAvB,EACD,CAHD,IAGO,CACL,KAAKnB,QAAL,CAAc,CAAEc,cAAc,CAAE,KAAlB,CAAyBF,SAAS,CAAEwB,KAApC,CAAd,EACA,KAAKjB,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CACF,C,kCA8CIiD,K,CAAO0D,S,CAAW,CACrB,GAAIA,SAAJ,CAAe,CACb5F,QAAQ,CAACC,cAAT,CAAwBiC,KAAxB,EAA+B2D,SAA/B,CAA2C,yBAA3C,CACD,CAFD,IAEO,CACL7F,QAAQ,CAACC,cAAT,CAAwBiC,KAAxB,EAA+B2D,SAA/B,CAA2C,cAA3C,CACD,CACF,C,uCAEQ,iBACP,GAAI1D,CAAAA,MAAM,cAAG,4CACX,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,IAAhB,CAAqB,KAAK,CAAE,CAAE2D,OAAO,CAAE,EAAX,CAA5B,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,IAAhB,eACE,0BAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAX,EAA+B,KAAKrI,KAAL,CAAWsB,SAA1C,UADF,CADF,CADF,cAME,4BAAM,QAAQ,CAAE,KAAKgH,YAArB,eACE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAAZ,eACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,+CADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,YAAxB,CAAqC,EAAE,CAAC,YAAxC,CAAqD,QAAQ,CAAE,kBAAA9I,CAAC,QAAI,CAAA,MAAI,CAACkD,YAAL,CAAkBlD,CAAlB,CAAJ,EAAhE,CAA0F,WAAW,CAAC,YAAtG,CAAmH,IAAI,CAAC,IAAxH,CAA6H,KAAK,CAAE,KAAKO,KAAL,CAAWa,UAA/I,EAFF,cAGE,0BAAI,SAAS,CAAC,wBAAd,8BAHF,CADF,CADF,cAQE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,+CADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,WAA1B,CAAsC,EAAE,CAAC,WAAzC,CAAqD,QAAQ,CAAE,kBAACpB,CAAD,QAAO,CAAA,MAAI,CAAC+I,UAAL,CAAgB/I,CAAC,CAACmD,MAAF,CAASJ,KAAzB,CAAgC,WAAhC,CAAP,EAA/D,CAAoH,KAAK,CAAE,KAAKxC,KAAL,CAAWgB,SAAtI,eACE,8BAAQ,KAAK,CAAC,EAAd,sBADF,CAEG,KAAKhB,KAAL,CAAWoF,IAAX,CAAgBqD,GAAhB,CAAoB,SAACC,EAAD,CAAKzC,CAAL,CAAW,CAC9B,mBAAQ,8BAAQ,KAAK,CAAEyC,EAAE,CAACC,YAAlB,EAAiCD,EAAE,CAACE,aAApC,CAAR,CACD,CAFA,CAFH,CAFF,cASE,0BAAI,SAAS,CAAC,wBAAd,8BATF,CADF,CARF,CADF,cAuBE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEL,SAAS,CAAE,EAAb,CAAZ,eACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,0CADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,kBAA5B,CAA+C,EAAE,CAAC,kBAAlD,CAAqE,IAAI,CAAE,CAA3E,CAA8E,IAAI,CAAE,EAApF,CAAwF,WAAW,CAAC,mBAApG,CAAwH,KAAK,CAAE,KAAKvI,KAAL,CAAWU,gBAA1I,CAA4J,QAAQ,CAAE,kBAAAjB,CAAC,QAAI,CAAA,MAAI,CAACkD,YAAL,CAAkBlD,CAAlB,CAAJ,EAAvK,CAAiM,UAAU,CAAE,IAA7M,EAFF,cAGE,0BAAI,SAAS,CAAC,wBAAd,wBAHF,CADF,CADF,cAQE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,+CADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,EAAE,CAAC,WAAvC,CAAmD,QAAQ,CAAE,KAAKsD,WAAlE,EAFF,CADF,CARF,CAvBF,cAsCE,oBAAC,GAAD,EAAK,SAAS,CAAC,aAAf,eACE,oBAAC,GAAD,MACI,KAAK/C,KAAL,CAAWS,UAAZ,cAEG,4CACE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC8C,SAAL,EAAN,EAA9B,eAAsD,yBAAG,KAAK,CAAC,aAAT,EAAtD,WADF,CACiG,GADjG,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvB,KAAL,EAAN,EAA9B,eAAkD,yBAAG,KAAK,CAAC,kBAAT,EAAlD,WAFF,CADF,CAFH,cASG,4CACE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACuB,SAAL,EAAN,EAA9B,eAAsD,yBAAG,KAAK,CAAC,aAAT,EAAtD,SADF,CAC+F,GAD/F,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvB,KAAL,EAAN,EAA9B,eAAkD,yBAAG,KAAK,CAAC,kBAAT,EAAlD,WAFF,CADF,CAVN,CADF,CAtCF,CANF,CADF,cAoEE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,EAAE,CAAC,GAAf,eACE,2BAAK,KAAK,CAAE,CAAE6G,SAAS,CAAE,MAAb,CAAZ,eACE,oBAAC,WAAD,EAAa,KAAK,CAAE,KAAK7I,KAAL,CAAWmF,IAA/B,CAAqC,OAAO,CAAE,KAAKM,UAAnD,CAA+D,QAAQ,CAAE,KAAKG,cAA9E,CAA8F,KAAK,CAAE,CAAEkD,KAAK,CAAE,MAAT,CAArG,CAAwH,gBAAgB,CAAE,IAA1I,CAAgJ,WAAW,CAAE9J,YAAY,CAACqG,eAAb,CAA6B0D,gBAA1L,CAA4M,OAAO,CAAC,oBAApN,EADF,CADF,CApEF,cAyEE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,EAAE,CAAC,GAAf,eACE,2BAAK,SAAS,CAAC,8BAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,sCADF,CADF,CADF,CAzEF,cAgFE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,EAAE,CAAC,GAAf,eACE,2BAAK,KAAK,CAAE,CAAE,YAAa,OAAf,CAAZ,eACE,oBAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,OAAO,CAAE,iBAACtJ,CAAD,QAAO,CAAA,MAAI,CAACW,QAAL,CAAc,CAAE4I,YAAY,CAAEvJ,CAAC,CAACmD,MAAF,CAASJ,KAAzB,CAAd,CAAP,EAAlC,CAA0F,WAAW,CAAC,eAAtG,CAAsH,IAAI,CAAC,IAA3H,CAAgI,KAAK,CAAE,CAAEyG,YAAY,CAAE,EAAhB,CAAvI,EADF,cAEE,yBAAG,SAAS,CAAC,cAAb,CAA4B,KAAK,CAAE,CAAEzB,MAAM,CAAE,aAAV,CAAnC,EAFF,cAGE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,qBAA3B,CAAiD,KAAK,CAAE,CAAEA,MAAM,CAAE,CAAV,CAAxD,CAAuE,OAAO,CAAC,eAA/E,CAA+F,cAAc,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAA/G,CAAuI,OAAO,CAAE,KAAK3B,MAArJ,EAHF,CADF,CAhFF,CADW,CAAb,CA2FA,GAAIvB,CAAAA,OAAO,CAAG,KAAKvE,KAAL,CAAWmF,IAAX,CAAgBsD,GAAhB,CAAoB,SAAC/C,GAAD,CAAMO,CAAN,CAAY,CAC5C,mBAAO,oBAAC,MAAD,EAAQ,KAAK,CAAEP,GAAG,CAAClB,KAAnB,CAA0B,MAAM,CAAEkB,GAAG,CAACjB,MAAtC,CAA8C,IAAI,CAAEiB,GAAG,CAACb,IAAxD,CAA8D,QAAQ,CAAEa,GAAG,CAAChB,QAA5E,CAAsF,MAAM,CAAEgB,GAAG,CAACf,MAAlG,EAAP,CACD,CAFa,CAAd,CAIA,mBACE,4CACE,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,SAAD,EAAW,GAAG,CAAE,aAACuE,EAAD,QAAQ,CAAA,MAAI,CAACxB,EAAL,CAAUwB,EAAlB,EAAhB,CAAsC,KAAK,CAAE,KAAKlJ,KAAL,CAAWC,GAAxD,CACE,yBAAyB,CAAE,KAAKD,KAAL,CAAWG,GADxC,CAC6C,KAAK,CAAE,KAAKH,KAAL,CAAWK,YAD/D,CAC6E,MAAM,CAAE,gBAACZ,CAAD,QAAO,CAAA,MAAI,CAACD,aAAL,CAAmBC,CAAnB,CAAP,EADrF,CAEE,SAAS,CAAE,IAFb,CAEmB,IAAI,CAAE,KAAKO,KAAL,CAAWM,WAFpC,CAEiD,MAAM,CAAEmE,MAFzD,CAEiE,cAAc,CAAC,OAFhF,CAGE,iBAAiB,CAAC,uGAHpB,CAIE,kBAAkB,CAAE,KAAKzE,KAAL,CAAWsF,kBAJjC,CAIqD,YAAY,CAAE,KAAKtF,KAAL,CAAWgJ,YAJ9E,CAI4F,YAAY,CAAC,kBAJzG,CAKE,UAAU,CAAE,IALd,CAKoB,gBAAgB,CAAE,IALtC,CAK4C,gBAAgB,CAAC,KAL7D,EAMGzE,OANH,CADF,CADF,cAYE,oBAAC,KAAD,EAAO,MAAM,CAAE,KAAKvE,KAAL,CAAW0C,WAA1B,CAAuC,MAAM,CAAE,KAAKD,WAApD,CACE,SAAS,CAAE,YAAc,KAAKlD,KAAL,CAAW4I,SADtC,eAEE,oBAAC,WAAD,EAAa,MAAM,CAAE,KAAK1F,WAA1B,iBAFF,cAGE,oBAAC,SAAD,8CAHF,cAME,oBAAC,WAAD,mBACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACf,WAAL,CAAiB,MAAI,CAAC1B,KAAL,CAAWmB,MAA5B,CAAN,EAA9B,eAAyE,yBAAG,KAAK,CAAC,aAAT,EAAzE,QADF,CACiH,GADjH,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,KAAKsB,WAAnC,eAAgD,yBAAG,KAAK,CAAC,kBAAT,EAAhD,WAFF,CANF,CAZF,CADF,CA2BD,C,mBAjbiB3E,S,EAobpB;AACA,cAAesB,CAAAA,eAAe,GAAGE,KAAH,CAA9B","sourcesContent":["import React, { Component } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { toast } from 'react-toastify';\r\nimport { Button } from 'primereact/button';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Col, Row, Input, Button as BTN } from 'reactstrap';\r\nimport api from '../../utils/apiClient';\r\nimport APIConstant from '../../utils/constants';\r\nimport moment from 'moment';\r\nimport { CommonConfig } from '../../utils/constants';\r\nimport { apiBase } from '../../utils/config';\r\nimport ShowMoreText from 'react-show-more-text';\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\n\r\nclass Notes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"props\",props);\r\n\r\n    let columns = [\r\n      { field: \"id\", header: \"Id\", sortable: true, filter: false, id: 0 },\r\n      { field: \"category\", header: \"category\", sortable: true, filter: true, id: 1 },\r\n      { field: \"user\", header: \"User\", sortable: true, filter: true, id: 2 },\r\n      { field: \"title\", header: \"Title\", sortable: true, filter: true, id: 3 },\r\n      { field: \"note\", body: this.noteTemplate.bind(this), header: \"note\", sortable: true, filter: true, id: 4 },\r\n      { field: \"created\", header: \"Created\", sortable: true, filter: false, id: 5 },\r\n      { field: \"updated\", header: \"Updated\", sortable: true, filter: false, id: 6 },\r\n      { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, id: 7 }\r\n    ];\r\n    const NType = [\r\n      { label: 'Policy', value: 'Policy' },\r\n      { label: 'Claim', value: 'Claim' }\r\n    ];\r\n    this.state = {\r\n      toggleModal: false,\r\n      cols: columns,\r\n      arr: [],\r\n      isImportant: 1,\r\n      Notes: '',\r\n      Type: [],\r\n      notesType: '',\r\n      notestitle: '',\r\n      notesdescription: '',\r\n      notestitleError: true,\r\n      notesdescriptionError: true,\r\n      NotesTypeError: true,\r\n      noteID: '',\r\n      isNoteEdit: false,\r\n      EntityId: 'fddf9f64-0f38-4ebb-81d4-0e52f548f549',\r\n      EntityType: 'Organization',\r\n\r\n      userImg: '',\r\n      userImgData: '',\r\n      noteaddon: '',\r\n\r\n      str: '',\r\n      rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n      rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n      selectedPage: 0,\r\n      titleNote: \"Add\",\r\n      LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n    };\r\n    this.colOptions = [];\r\n    for (let col of columns) {\r\n      this.colOptions.push({ label: col.header, value: col });\r\n    }\r\n    this.onColumnToggle = this.onColumnToggle.bind(this);\r\n    this.onBrandChange = this.onBrandChange.bind(this);\r\n    this.export = this.export.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getNoteList();\r\n    this.getNotesType();\r\n  }\r\n\r\n  getNoteList() {\r\n    api.post('api/getNotes', {}).then(res => {\r\n      if (res.success) {\r\n        var formattedData = [];\r\n        console.log('erfwefcafc', res.data);\r\n\r\n        for (var i = 0; i < res.data.length; i++) {\r\n          formattedData.push({\r\n            id: [i + 1],\r\n            noteID: res.data[i].NoteId,\r\n            category: res.data[i].NoteType,\r\n            user: res.data[i].EntityName,\r\n            title: res.data[i].NoteTitle,\r\n            note: res.data[i].NoteText,\r\n            created: moment(res.data[i].CreatedOn).format(CommonConfig.dateFormat.dateTime),\r\n            updated: res.data[i].UpdatedOn != null ? moment(res.data[i].UpdatedOn).format(CommonConfig.dateFormat.dateTime) : '',\r\n            link: res.data[i].Link,\r\n          })\r\n        }\r\n        let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n        let str = '1 to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n        this.setState({ arr: formattedData, str: str });\r\n      } else {\r\n\r\n      }\r\n    }).catch(err => {\r\n\r\n    });\r\n  }\r\n\r\n  getNotesType() {\r\n    try {\r\n      const data = {\r\n        stringmaptype: 'NOTETYPE'\r\n      };\r\n      api.post(APIConstant.path.dropdownbycode, data).then(res => {\r\n        console.log('NOTETYPE', res);\r\n\r\n        if (res.success) {\r\n          this.setState({ Type: res.data });\r\n        } else {\r\n\r\n        }\r\n      }).catch(err => {\r\n\r\n      });\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  getPageString = (e) => {\r\n    let firstPage = e.first + 1;\r\n    let l = e.rows * (e.page + 1);\r\n    let lastPage = (l < this.state.arr.length) ? l : this.state.arr.length\r\n    var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\r\n    this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n  }\r\n\r\n  updateNotes = (rowdata) => {\r\n    this.setState({\r\n      isNoteEdit: true, notesdescription: rowdata.note, notesdescriptionError: false,\r\n      notestitle: rowdata.title, notestitleError: false,\r\n      notesType: rowdata.category, NotesTypeError: false,\r\n      noteID: rowdata.noteID,\r\n      userImg: apiBase + rowdata.link,\r\n      titleNote: \"Edit\"\r\n    });\r\n    this.show(\"notestitle\", false);\r\n    this.show(\"notesdescription\", false);\r\n    this.show('notesType', false);\r\n  }\r\n\r\n  DeleteNotesModal = (rowdata) => {\r\n    this.setState({ noteID: rowdata.noteID });\r\n    this.openModal(rowdata);\r\n  }\r\n\r\n  DeleteNotes = (noteID) => {\r\n    api.post('api/deleteNote', { noteId: noteID }).then(res => {\r\n      if (res.success) {\r\n        this.reset();\r\n        this.openModal();\r\n        toast.success('Notes deleted successful!');\r\n        this.getNoteList();\r\n      } else {\r\n\r\n      }\r\n    }).catch(err => {\r\n    });\r\n  }\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      isNoteEdit: false, notesdescription: '', notesdescriptionError: true,\r\n      notestitle: '', notestitleError: true,\r\n      notesType: '', NotesTypeError: true,\r\n      noteID: '', userImg: '', userImgData: '', noteaddon: '', titleNote: \"Add\"\r\n    });\r\n    this.show(\"notestitle\", false);\r\n    this.show(\"notesdescription\", false);\r\n    this.show('notesType', false);\r\n    document.getElementById(\"noteaddon\").value = null;\r\n  }\r\n\r\n  executeOnClick(isExpanded) {\r\n  }\r\n\r\n  noteTemplate(rowData, column) {\r\n    return <div>\r\n      <ShowMoreText\r\n        lines={3}\r\n        more='Show more'\r\n        less='Show less'\r\n        anchorClass=''\r\n        onClick={this.executeOnClick}\r\n        expanded={false}>\r\n        {rowData.note}\r\n      </ShowMoreText>\r\n    </div>;\r\n  }\r\n\r\n  actionTemplate(rowData, column) {\r\n    return <div>\r\n      <Button type=\"button\" icon=\"pi pi-pencil\" style={{ margin: 2 }} tooltip=\"Edit\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.updateNotes(rowData)}></Button>\r\n      <Button type=\"button\" icon=\"pi pi-trash\" style={{ margin: 2 }} tooltip=\"Delete\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.DeleteNotesModal(rowData)}></Button>\r\n    </div>;\r\n  }\r\n\r\n  onBrandChange(event) {\r\n    this.dt.filter(event.value, 'brand', 'equals');\r\n    this.setState({ brand: event.value });\r\n  }\r\n\r\n  export() {\r\n    this.dt.exportCSV();\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({ toggleModal: !this.state.toggleModal });\r\n  }\r\n\r\n  toggleLarge = () => {\r\n    this.setState({ toggleModal: false });\r\n  }\r\n\r\n  onColumnToggle(event) {\r\n    let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\r\n    this.setState({ cols: valueInOrder });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    if (e.target.name === 'notestitle') {\r\n      if (CommonConfig.isEmpty(e.target.value)) {\r\n        this.setState({ notestitleError: true });\r\n        this.show(\"notestitle\", true);\r\n      } else {\r\n        this.setState({ notestitleError: false, notestitle: e.target.value });\r\n        this.show(\"notestitle\", false);\r\n      }\r\n    }\r\n    if (e.target.name === 'notesdescription') {\r\n      if (CommonConfig.isEmpty(e.target.value)) {\r\n        this.setState({ notesdescriptionError: true });\r\n        this.show(\"notesdescription\", true);\r\n      } else {\r\n        this.setState({ notesdescriptionError: false, notesdescription: e.target.value });\r\n        this.show(\"notesdescription\", false);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectImage = (event) => {\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n      this.setState({ userImgData: event.target.files[0] });\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        this.setState({ userImg: e.target.result });\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n\r\n    }\r\n  }\r\n\r\n  selectType(value, type) {\r\n    if (value === '' || value === null) {\r\n      this.setState({ NotesTypeError: true, notesType: value });\r\n      this.show('notesType', true);\r\n    } else {\r\n      this.setState({ NotesTypeError: false, notesType: value });\r\n      this.show('notesType', false);\r\n    }\r\n  }\r\n\r\n  saveNotes = () => {\r\n    if (\r\n      this.state.notestitleError === false &&\r\n      this.state.NotesTypeError === false &&\r\n      this.state.notesdescriptionError === false\r\n    ) {\r\n      const NotesForm = new FormData();\r\n      NotesForm.append('noteId', this.state.noteID);\r\n      NotesForm.append('notetitle', this.state.notestitle.trim());\r\n      NotesForm.append('notesType', this.state.notesType);\r\n      NotesForm.append('notesdescription', this.state.notesdescription.trim());\r\n      NotesForm.append('entityid', this.state.EntityId);\r\n      NotesForm.append('entitytype', this.state.EntityType);\r\n      NotesForm.append('isflag', this.state.isImportant);\r\n      NotesForm.append('loggedInUserId', CommonConfig.loggedInUserId());\r\n      NotesForm.append('languageId', this.state.LanguageId);\r\n\r\n      if (this.state.userImgData && this.state.userImgData != '' && this.state.userImgData != undefined && this.state.userImgData != null) {\r\n        NotesForm.append('notesAddOn', this.state.userImgData);\r\n      }\r\n      api.post('api/addNotes', NotesForm).then(res => {\r\n\r\n        if (res.success) {\r\n          document.getElementById(\"noteaddon\").value = null;\r\n          this.reset();\r\n          if (res.data.affectedRows) {\r\n            toast.success('Notes updated successfully');\r\n          } else {\r\n            toast.success('Notes added successfully');\r\n          }\r\n          toast.success(res.message);\r\n          this.getNoteList();\r\n        } else {\r\n\r\n        }\r\n      }).catch(err => {\r\n      });\r\n    } else {\r\n      this.show(\"notestitle\", this.state.notestitleError);\r\n      this.show(\"notesType\", this.state.NotesTypeError);\r\n      this.show(\"notesdescription\", this.state.notesdescriptionError);\r\n    }\r\n  }\r\n\r\n  show(field, condition) {\r\n    if (condition) {\r\n      document.getElementById(field).className = \"form-control is-invalid\";\r\n    } else {\r\n      document.getElementById(field).className = \"form-control\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var header = <div>\r\n      <Row>\r\n        <Col xs=\"12\" md=\"12\" style={{ padding: 20 }}>\r\n          <Row>\r\n            <Col xs=\"12\" md=\"12\">\r\n              <h4 style={{ float: 'left' }}>{this.state.titleNote} Notes</h4>\r\n            </Col>\r\n          </Row>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <Row style={{ marginTop: 10 }}>\r\n              <Col md=\"3\">\r\n                <div className=\"input-box\">\r\n                  <label>Note Title*</label>\r\n                  <Input type=\"text\" name=\"notestitle\" id=\"notestitle\" onChange={e => this.handleChange(e)} placeholder=\"Note Title\" size=\"30\" value={this.state.notestitle} />\r\n                  <em className=\"error invalid-feedback\"> Please enter note title </em>\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"input-box\">\r\n                  <label>Notes Type*</label>\r\n                  <Input type=\"select\" name=\"notesType\" id=\"notesType\" onChange={(e) => this.selectType(e.target.value, 'notesType')} value={this.state.notesType}>\r\n                    <option value=''>Select Notes Type</option>\r\n                    {this.state.Type.map((ct, i) => {\r\n                      return (<option value={ct.StringMapKey}>{ct.StringMapName}</option>)\r\n                    })\r\n                    }\r\n                  </Input>\r\n                  <em className=\"error invalid-feedback\"> Please select note type </em>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginTop: 10 }}>\r\n              <Col md=\"9\">\r\n                <div className=\"input-box\">\r\n                  <label>Notes*</label>\r\n                  <Input type=\"textarea\" name=\"notesdescription\" id=\"notesdescription\" rows={5} cols={50} placeholder=\"please write note\" value={this.state.notesdescription} onChange={e => this.handleChange(e)} autoResize={true} />\r\n                  <em className=\"error invalid-feedback\"> Please enter note </em>\r\n                </div>\r\n              </Col>\r\n              <Col md=\"3\">\r\n                <div className=\"input-box\">\r\n                  <label>Notes Addon</label>\r\n                  <Input type=\"file\" name=\"noteaddon\" id=\"noteaddon\" onChange={this.selectImage} />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n              <Col>\r\n                {(this.state.isNoteEdit) ?\r\n                  (\r\n                    <div>\r\n                      <div className=\"pull-right\">\r\n                        <BTN color=\"success\" onClick={() => this.saveNotes()}><i class=\"fa fa-check\"></i> Update</BTN>{' '}\r\n                        <BTN color=\"primary\" onClick={() => this.reset()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <div className=\"pull-right\">\r\n                        <BTN color=\"success\" onClick={() => this.saveNotes()}><i class=\"fa fa-check\"></i> Save</BTN>{' '}\r\n                        <BTN color=\"primary\" onClick={() => this.reset()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }\r\n              </Col>\r\n            </Row>\r\n          </form>\r\n        </Col>\r\n        <Col xs=\"4\" md=\"4\">\r\n          <div style={{ textAlign: 'left' }}>\r\n            <MultiSelect value={this.state.cols} options={this.colOptions} onChange={this.onColumnToggle} style={{ width: '50px' }} fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\" />\r\n          </div>\r\n        </Col>\r\n        <Col xs=\"4\" md=\"4\">\r\n          <div className=\"content-section introduction\">\r\n            <div className=\"feature-intro\">\r\n              <h1>Notes</h1>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col xs=\"4\" md=\"4\">\r\n          <div style={{ 'textAlign': 'right' }}>\r\n            <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" size=\"30\" style={{ marginBottom: 10 }} />\r\n            <i className=\"pi pi-search\" style={{ margin: '4px 4px 0 0' }}></i>\r\n            <Button type=\"button\" icon=\"pi pi-external-link\" style={{ margin: 2 }} tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export}></Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>;\r\n\r\n    let columns = this.state.cols.map((col, i) => {\r\n      return <Column field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} />;\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"table-custom\">\r\n          <DataTable ref={(el) => this.dt = el} value={this.state.arr}\r\n            currentPageReportTemplate={this.state.str} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n            paginator={true} rows={this.state.rowsPerPage} header={header} exportFilename=\"Notes\"\r\n            paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown \"\r\n            rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n            responsive={true} resizableColumns={true} columnResizeMode=\"fit\">\r\n            {columns}\r\n          </DataTable>\r\n        </div>\r\n\r\n        <Modal isOpen={this.state.toggleModal} toggle={this.toggleLarge}\r\n          className={'modal-lg ' + this.props.className}>\r\n          <ModalHeader toggle={this.toggleLarge}>Delete Notes</ModalHeader>\r\n          <ModalBody>\r\n            Are you sure you want to delete note?\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <BTN color=\"success\" onClick={() => this.DeleteNotes(this.state.noteID)}><i class=\"fa fa-check\"></i> Yes</BTN>{' '}\r\n            <BTN color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\r\n          </ModalFooter>\r\n        </Modal>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Notes;\r\nexport default withTranslation()(Notes);"]},"metadata":{},"sourceType":"module"}