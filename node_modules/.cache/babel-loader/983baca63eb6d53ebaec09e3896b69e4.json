{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{toast}from'react-toastify';import{Sidebar}from'primereact/sidebar';import{ScrollPanel}from'primereact/scrollpanel';import{Button}from'primereact/button';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Button as BTN,Row,Col,Input,Card,CardHeader,CardBody,Collapse}from'reactstrap';import api from'../../utils/apiClient';import APIConstant from'../../utils/constants';import moment from'moment';import{CommonConfig}from'../../utils/constants';import{withTranslation}from'react-i18next';import ShowMoreText from'react-show-more-text';var PersonNotes=/*#__PURE__*/function(_Component){_inherits(PersonNotes,_Component);var _super=_createSuper(PersonNotes);function PersonNotes(props){var _this;_classCallCheck(this,PersonNotes);_this=_super.call(this,props);_this.loading=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn pt-1 text-center\"},\"Loading...\");};_this.saveNotes=function(){if(_this.state.NotesTypeError===false&&_this.state.notesdescriptionError===false){var NotesForm=new FormData();NotesForm.append('noteId',_this.state.noteID);NotesForm.append('notesType',_this.state.notesType);NotesForm.append('notesdescription',_this.state.notesdescription.trim());NotesForm.append('entityid',_this.state.EntityId);NotesForm.append('entitytype',_this.state.EntityType);NotesForm.append('isflag',_this.state.isImportant);NotesForm.append('loggedInUserId',CommonConfig.loggedInUserId());NotesForm.append('languageId',_this.state.LanguageId);api.post('api/addNotes',NotesForm).then(function(res){if(res.success){_this.reset();toast.success('Notes added successfully');toast.success(res.message);_this.getNoteList();}else{}}).catch(function(err){});}else{_this.show(\"notesType\",_this.state.NotesTypeError);_this.show(\"notesdescription\",_this.state.notesdescriptionError);}};_this.saveNotesNewBusiness=function(){if(_this.state.notesdescriptionError===false){if(_this.state.responseType==\"\"){toast.error('Please Select Response Type');return;}if(_this.state.responseType==\"Not Interested\"){if(_this.state.reasonType==\"\"){toast.error('Please Select Reason Type');return;}}if(_this.state.contactMode==\"\"){toast.error('Please Select Contact mode');return;}if(_this.state.renewalMonth==\"\"){toast.error('Please Select Renewal Month');return;}var data={'EntityType':'Policy','EntityId':_this.state.NavID,'PolicyId':_this.state.NavID,'isflag':_this.state.isImportant,'Response':_this.state.responseType,'Reason':_this.state.reasonType,'NoteText':_this.state.notesdescription.trim(),'FollowUpDateTime':_this.state.DateTime,// 'RenewalMonth': this.state.renewalMonth,\n'InceptionDate':_this.state.notesInceptionDate1,'ContactMode':_this.state.contactMode,'CurrentUser':CommonConfig.loggedInUserData().EntityId};console.log(\"dataaaaaa..........\",data);api.post('api/saveFollowUpNote',data).then(function(res){if(res.data.success){toast.success('Follow-Up note added successfully');_this.resetNewBusiness();_this.getNoteList({PolicyId:_this.state.NavID});}else{toast.error(res.data.msg);}}).catch(function(err){});}else{if(_this.state.responseType==''){_this.show(\"responseType\",true,\"responseTypeError\",\"Please Select Response\");}if(_this.state.contactMode==''){_this.show(\"contactMode\",true,\"contactModeError\",\"Please Select Contact mode\");}if(_this.state.renewalMonth==''){_this.show(\"renewalMonth\",true,\"renewalMonthError\",\"Please Select Renewal month\");}_this.show(\"notesType\",_this.state.NotesTypeError);_this.show(\"notesdescription\",_this.state.notesdescriptionError);}};_this.resetNewBusiness=function(){var t=new Date(_this.state.InceptionDate);var renewalMonth=\"\";if(t.getMonth()+1<10){renewalMonth=\"0\"+(t.getMonth()+1);}else{renewalMonth=t.getMonth()+1;}var renewalValue=_this.state.renewalMonthList.filter(function(x){return x.StringMapKey==renewalMonth;});var finalRenewalDate={value:renewalMonth,label:renewalValue[0].StringMapName};_this.setState({notesdescription:'',notesdescriptionError:true,responseType:'',notesInceptionDate:moment(_this.state.InceptionDate).format('DD-MM-YYYY'),notesInceptionDate1:moment(_this.state.inceptionDate).format('YYYY-MM-DD'),reasonType:'',DateTime:'',renewalMonth:finalRenewalDate,contactMode:'',isImportant:0,isEditDate:false,isEditRenewalMonth:false});_this.show(\"notesdescription\",false);_this.setState({addNoteCollapse:false});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='notesdescription'){if(CommonConfig.isEmpty(e.target.value)){_this.setState({notesdescriptionError:true});_this.show(\"notesdescription\",true);}else{_this.setState({notesdescriptionError:false,notesdescription:e.target.value});_this.show(\"notesdescription\",false);}}if(e.target.name==='inceptionDate'){if(CommonConfig.isEmpty(e.target.value)){_this.setState({inceptionDateError:true});_this.show(\"inceptionDate\",true,\"inceptionDateError\",\"Please enter Inception Date\");}else{var t=new Date(e.target.value);var renewalMonth=\"\";if(t.getMonth()+1<10){renewalMonth=\"0\"+(t.getMonth()+1);}else{renewalMonth=t.getMonth()+1;}var data=_this.state.renewalMonthList.filter(function(x){return x.StringMapKey==renewalMonth;});var inceptionDate=moment(e.target.value).format('DD-MM-YYYY');console.log(\"data.......\",e.target.value);var finalRenewalDate={value:renewalMonth,label:data[0].StringMapName};_this.setState({notesInceptionDate:inceptionDate,notesInceptionDate1:e.target.value,inceptionDateError:false,renewalMonth:finalRenewalDate});_this.show('inceptionDate',false,\"inceptionDateError\",\"\");}}};_this.updateNotes=function(data){_this.setState({isNoteEdit:true,notesdescription:data.NoteText,notesdescriptionError:false,notesType:data.NoteType,NotesTypeError:false,isImportant:data.IsFlag.data[0],noteID:data.NoteId,addNoteCollapse:true});_this.show(\"notesdescription\",false);_this.show('notesType',false);};_this.reset=function(){_this.setState({isNoteEdit:false,notesdescription:'',notesdescriptionError:true,notesType:'',NotesTypeError:true,noteID:'',isImportant:0});_this.show(\"notesdescription\",false);_this.show('notesType',false);};_this.state={Type:[],noteList:[],isImportant:0,notesType:'',notesdescription:'',NotesTypeError:true,notesdescriptionError:true,noteID:'',isNoteEdit:false,ReasonArray:[],ResponseTypeArray:[],showReasonDD:false,responseType:'',responseTypeError:false,reasonTypeError:false,reasonType:'',DateTime:'',reasonsShow:false,contactMode:'',contactModeError:false,contactModeList:[],renewalMonth:'',renewalMonthList:[],renewalMonthError:false,notesInceptionDate:'',notesInceptionDate1:'',isEditRenewalMonth:false,isEditDate:false,InceptionDate:'',SecurityGroupList:[{label:'New Business',value:'New Business'},{label:'Renewal',value:'Renewal'},{label:'Underwriting',value:'Underwriting'}],EntityId:'',EntityType:'',LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,addNoteCollapse:false};// This data we will get from Policy and Contact pages.\nif(props.NavPage){_this.state.NavPage=props.NavPage;_this.state.EntityType=props.NavPage;_this.state.InceptionDate=props.inceptionDate;}if(props.NavID){_this.state.NavID=props.NavID;_this.state.EntityId=props.NavID;}return _this;}_createClass(PersonNotes,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.getDropDownValues('MONTH','renewalMonthList');case 2:_context.next=4;return this.getDropDownValues('CONTACTMODE','contactModeList');case 4:_context.next=6;return this.getDropDownValues('FOLLOWUPRESPONSE','ResponseTypeArray');case 6:_context.next=8;return this.getNoteList();case 8:_context.next=10;return this.getNotesType();case 10:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getPolicyHolder\",value:function(){var _getPolicyHolder=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data={policyId:this.state.EntityId};console.log(\"getPolicyHolderDetails\",data);_context2.next=4;return api.post('api/getPolicyHolderDetails',data).then(function(res){console.log(\"getPolicyHolderDetails\",res);if(res.success){var resdata=res.data[0];console.log(\"getPolicyHolderDetails\",resdata[0]);_this2.setState({InceptionDate:resdata[0].InceptionDate});}else{}}).catch(function(err){console.log('error',err);});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function getPolicyHolder(){return _getPolicyHolder.apply(this,arguments);}return getPolicyHolder;}()},{key:\"getNoteList\",value:function(){var _getNoteList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this3=this;var t,renewalMonth,renewalValue,finalRenewalDate,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:t=this.state.InceptionDate?new Date(this.state.InceptionDate):new Date();renewalMonth=\"\";if(t.getMonth()+1<10){renewalMonth=\"0\"+(t.getMonth()+1);}else{renewalMonth=t.getMonth()+1;}renewalValue=this.state.renewalMonthList.filter(function(x){return x.StringMapKey==renewalMonth;});finalRenewalDate={value:renewalMonth,label:renewalValue[0].StringMapName};this.setState({notesInceptionDate:moment(this.state.InceptionDate).format('DD-MM-YYYY'),notesInceptionDate1:moment(this.state.InceptionDate).format('YYYY-MM-DD'),renewalMonth:finalRenewalDate});data={'entityId':this.state.EntityId,'entityType':this.state.EntityType,'CurrentUser':CommonConfig.loggedInUserData().EntityId};// if (CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\") {\n_context3.next=9;return api.post('api/getNewBusineesNotes',data).then(function(res){if(res.success){console.log(\" new business notes......\",res.data);_this3.setState({noteList:res.data});}else{toast.warn(\"No notes found for Policy.\");}}).catch(function(err){console.log(\"getNoteList err\",err);});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function getNoteList(){return _getNoteList.apply(this,arguments);}return getNoteList;}()},{key:\"getPolicyHolder\",value:function getPolicyHolder(){var _this4=this;var data={policyId:this.props.match.params.id};console.log(\"getPolicyHolderDetails\",data);api.post('api/getPolicyHolderDetails',data).then(function(res){console.log(\"getPolicyHolderDetails\",res);if(res.success){var resdata=res.data[0];console.log(\"getPolicyHolderDetails\",resdata[0]);_this4.setState({inceptionDate:resdata[0].InceptionDate});}else{}}).catch(function(err){console.log('error',err);});}},{key:\"getDropDownValues\",value:function(){var _getDropDownValues=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(stringMapType,setStateName){var _this5=this;var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;data={stringmaptype:stringMapType,orderby:'sortorder'};if(stringMapType==\"MONTH\"){data={stringmaptype:stringMapType,orderby:'StringMapKey'};}_context4.next=5;return api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this5.setState(_defineProperty({},setStateName,res.data));}else{}}).catch(function(err){});case 5:_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(\"error...\",_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));function getDropDownValues(_x,_x2){return _getDropDownValues.apply(this,arguments);}return getDropDownValues;}()},{key:\"getDropDownReasonValues\",value:function getDropDownReasonValues(response,setStateName){var _this6=this;try{var data={StingMapKey:response};api.post(APIConstant.path.dropdownbycodeforreason,data).then(function(res){if(res.success){console.log(\"ressssssssssssss/....\",res);_this6.setState({ReasonArray:res.data[0]});}else{}}).catch(function(err){});}catch(error){console.log(\"error...\",error);}}},{key:\"getNotesType\",value:function getNotesType(){var _this7=this;try{var data={stringmaptype:'NOTETYPE'};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this7.setState({Type:res.data});}else{}}).catch(function(err){});}catch(error){}}},{key:\"Important\",value:function Important(){this.state.isImportant===0?this.setState({isImportant:1}):this.setState({isImportant:0});}},{key:\"show\",// show(field, condition) {\n//   if (condition) {\n//     document.getElementById(field).className = \"form-control is-invalid\";\n//   } else {\n//     document.getElementById(field).className = \"form-control\";\n//   }\n// }\nvalue:function show(field,condition,errorField,message){if(condition){if(document.getElementById(field))document.getElementById(field).className=\"form-control is-invalid\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML='<p>'+message+' </p>';}else{if(document.getElementById(field))document.getElementById(field).className=\"form-control\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML=null;}}},{key:\"selectType1\",value:function selectType1(value,type){if(value===''||value===null){this.setState({NotesTypeError:true,notesType:value});this.show('notesType',true);}else{this.setState({NotesTypeError:false,notesType:value});this.show('notesType',false);}}},{key:\"selectType\",value:function selectType(value,type){if(type==='responseType'){if(value===''||value===undefined||value===null){this.setState({responseType:'',responseTypeError:true,showReasonDD:false});this.show('responseType',true,\"responseTypeError\",\"Please select Response\");}else{this.setState({responseType:value.value,responseTypeError:false});this.show('responseType',false,\"responseTypeError\",\"\");this.getDropDownReasonValues(value.value,'ReasonArray');if(value.value==\"Not Interested\"||value.value==\"Lost\"||value.value==\"Purge\"||value.value==\"Abandoned\"){this.setState({showReasonDD:true});}else{this.setState({showReasonDD:false});}}}if(type==='reasonType'){if(value===''||value===undefined||value===null){this.setState({reasonType:'',reasonTypeError:true});this.show('reasonType',true,\"reasonTypeError\",\"Please select Reason\");}else{this.setState({reasonType:value.value,reasonTypeError:false});this.show('reasonType',false,\"reasonTypeError\",\"\");}}if(type==='contactMode'){if(value.value==''||value.value==undefined||value.value==null){this.setState({contactMode:'',contactModeError:true});this.show('contactMode',true,\"contactModeError\",\"Please select Contact mode\");}else{this.setState({contactMode:value.value,contactModeError:false});this.show('contactMode',false,\"contactModeError\",\"\");}}if(type==='renewalMonth'){if(value.value==''||value.value==undefined||value.value==null){this.setState({renewalMonth:'',renewalMonthError:true});this.show('renewalMonth',true,\"renewalMonthError\",\"Please select Renewal month\");}else{var date=new Date();var ShowMonth=value.value;console.log(ShowMonth);var curmonth=new Date().getMonth()+1;console.log(curmonth);if(ShowMonth<curmonth)var curyear=new Date().getFullYear()+1;else var curyear=new Date().getFullYear();console.log(\"curyear\",curyear);var inceptionDate=moment([parseInt(curyear),parseInt(value.value)-1]).format('DD-MM-YYYY');var inceptionDate1=moment([parseInt(curyear),parseInt(value.value)-1]).format('YYYY-MM-DD');this.setState({renewalMonth:value.value,renewalMonthError:true,notesInceptionDate:inceptionDate,notesInceptionDate1:inceptionDate1});this.show('renewalMonth',false,\"renewalMonthError\",\"\");// this.setState({ renewalMonth: value.value, renewalMonthError:true });\n// this.show('renewalMonth', false, \"renewalMonthError\", \"\");\n}}}},{key:\"editDate\",value:function editDate(task){if(task==\"view\"){this.setState({isEditDate:false});}else{this.setState({isEditDate:true});}}},{key:\"editRenewalMonth\",value:function editRenewalMonth(task){if(task=='view'){this.setState({isEditRenewalMonth:false});}else{this.setState({isEditRenewalMonth:true});}}},{key:\"executeOnClick\",value:function executeOnClick(isExpanded){}},{key:\"HideSideBar\",value:function HideSideBar(){this.setState({visible:false});this.reset();}},{key:\"render\",value:function render(){var _this8=this;var _this$props=this.props,t=_this$props.t,i18n=_this$props.i18n;var SaveButton=t(\"buttons.Save\");var AddButton=t(\"buttons.Add\");var EditButton=t(\"buttons.Edit\");var DeleteButton=t(\"buttons.Delete\");var CloseButton=t(\"buttons.Close\");var BackButton=t(\"buttons.Back\");var UpdateButton=t(\"buttons.Update\");return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(e){return _this8.setState({visible:true});}},\"Notes\"),/*#__PURE__*/React.createElement(Sidebar,{showCloseIcon:false,blockScroll:true,visible:this.state.visible,position:\"right\",onHide:function onHide(e){return _this8.HideSideBar();},style:{width:900}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"text-left float-right\",onClick:function onClick(e){return _this8.HideSideBar();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close\"}))),/*#__PURE__*/React.createElement(ScrollPanel,{style:{width:'100%',height:'92%',paddingLeft:\"20px\",paddingRight:\"20px\"}},/*#__PURE__*/React.createElement(Card,{className:\"mb-0\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"headingOne\"},/*#__PURE__*/React.createElement(BTN,{block:true,color:\"link\",className:\"text-left m-0 p-0\",onClick:function onClick(){return _this8.setState({addNoteCollapse:!_this8.state.addNoteCollapse});},\"aria-expanded\":this.state.addNoteCollapse,\"aria-controls\":\"collapseOne\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0 p-0\"},\" \",this.state.isNoteEdit?t(\"contactNotes:EditNotes\"):t(\"contactNotes:AddNotes\"),\" \",/*#__PURE__*/React.createElement(\"i\",{style:{float:\"right\"},className:this.state.addNoteCollapse?\"fa fa-chevron-up\":\"fa fa-chevron-down\"}),\" \"))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.addNoteCollapse,\"data-parent\":\"#accordion\",id:\"collapseOne\",\"aria-labelledby\":\"headingOne\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,style:{padding:10}},CommonConfig.loggedInUserData().SecurityGroupName==\"New Business\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,\"Contact Mode\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"contactMode\",id:\"contactMode\",onChange:function onChange(e){return _this8.selectType(e.target,'contactMode');},value:this.state.contactMode},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select\"),this.state.contactModeList.map(function(x){return/*#__PURE__*/React.createElement(\"option\",{value:x.StringMapKey},x.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{id:\"contactModeError\",className:\"error invalid-feedback\"})),!this.state.isEditRenewalMonth?/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,\" Renewal Month : \",CommonConfig.isEmpty(this.state.renewalMonth)!==true?this.state.renewalMonth.label:this.state.renewalMonth),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BTN,{style:{float:\"right\"},color:\"primary\",onClick:this.state.isEditRenewalMonth?function(){return _this8.editRenewalMonth(\"view\");}:function(){return _this8.editRenewalMonth(\"edit\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"})))):/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",null,\" Renewal Month :\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"renewalMonth\",id:\"renewalMonth\",onChange:function onChange(e){return _this8.selectType(e.target,'renewalMonth');},value:this.state.renewalMonth.value},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select\"),this.state.renewalMonthList.map(function(x){return/*#__PURE__*/React.createElement(\"option\",{value:x.StringMapKey},x.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{id:\"renewalMonthError\",className:\"error invalid-feedback\"}))),!this.state.isEditDate?/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,\"Inception date: \",this.state.notesInceptionDate),/*#__PURE__*/React.createElement(BTN,{style:{float:\"right\"},color:\"primary\",onClick:this.state.isEditDate?function(){return _this8.editDate(\"view\");}:function(){return _this8.editDate(\"edit\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"}))):/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"label\",null,\"Inception date: \",this.state.notesInceptionDate),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"inceptionDate\",id:\"inceptionDate\",placeholder:\"Inception Date\",style:{width:'80%',display:\"inline-block\"},onChange:function onChange(e){return _this8.handleChange(e,'inceptionDate');},value:this.state.notesInceptionDate1}),/*#__PURE__*/React.createElement(\"em\",{id:\"iceptionDateError\",className:\"error invalid-feedback\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box with-icon\"},/*#__PURE__*/React.createElement(\"label\",null,\"Response*\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"responseType\",id:\"responseType\",onChange:function onChange(e){return _this8.selectType(e.target,'responseType');},value:this.state.responseType},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select\"),this.state.ResponseTypeArray.map(function(ct,i){return/*#__PURE__*/React.createElement(\"option\",{value:ct.StringMapKey},ct.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{id:\"responseTypeError\",className:\"error invalid-feedback\"}))),this.state.showReasonDD?/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box with-icon\"},/*#__PURE__*/React.createElement(\"label\",null,\"Reason\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"reasonType\",id:\"reasonType\",onChange:function onChange(e){return _this8.selectType(e.target,'reasonType');},value:this.state.reasonType},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select\"),this.state.ReasonArray.map(function(ct,i){return/*#__PURE__*/React.createElement(\"option\",{value:ct.StringMapKey},ct.StringMapName);})))):null)):null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},CommonConfig.loggedInUserData().SecurityGroupName!=\"New Business\"?/*#__PURE__*/React.createElement(\"div\",{className:\"input-box with-icon\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"contactNotes:NotesType.label\"),\"*\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"notesType\",id:\"notesType\",onChange:function onChange(e){return _this8.selectType1(e.target.value,'notesType');},value:this.state.notesType},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},t(\"contactNotes:NotesType.placeholder\")),this.state.Type.map(function(ct,i){return/*#__PURE__*/React.createElement(\"option\",{value:ct.StringMapKey},ct.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"contactNotes:NotesType.error_blank\"))):null,/*#__PURE__*/React.createElement(\"a\",{title:t(\"contactNotes:ImportantNotes\"),href:\"javascript:void(0)\",onClick:function onClick(){return _this8.Important();},style:{color:this.state.isImportant===0?'#aaaaaa':'#ff0000',fontSize:25}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-exclamation-circle\",\"aria-hidden\":\"true\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"contactNotes:Notes.label\"),\"*\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"notesdescription\",id:\"notesdescription\",placeholder:t(\"contactNotes:Notes.placeholder\"),value:this.state.notesdescription,onChange:function onChange(e){return _this8.handleChange(e);},autoResize:true}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"contactNotes:Notes.error_blank\"))))),CommonConfig.loggedInUserData().SecurityGroupName==\"New Business\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box with-icon\"},/*#__PURE__*/React.createElement(\"label\",null,\"Next Follow-Up Date & Time\"),/*#__PURE__*/React.createElement(Input,{type:\"datetime-local\",id:\"DateTime\",name:\"DateTime\",value:this.state.DateTime,onChange:function onChange(e){return _this8.handleChange(e,'DateTime');}})))):null,/*#__PURE__*/React.createElement(Row,{className:\"text-center\"},/*#__PURE__*/React.createElement(Col,null,this.state.isNoteEdit?CommonConfig.loggedInUserData().SecurityGroupName==\"New Business\"?/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this8.saveNotesNewBusiness();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this8.resetNewBusiness();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\")):/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this8.saveNotes();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this8.reset();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\")):CommonConfig.loggedInUserData().SecurityGroupName==\"New Business\"?/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this8.saveNotesNewBusiness();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this8.resetNewBusiness();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\")):/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this8.saveNotes();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" Save\"),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this8.reset();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-angle-left\"}),\" Cancel\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"added-note-outer\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.noteList.length,\" notes\"),/*#__PURE__*/React.createElement(\"ul\",null,this.state.noteList.map(function(notes,i){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"addednote-left\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:notes.IsFlag.data[0]===0?'#aaaaaa':'#ff0000'}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-exclamation-circle\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"h3\",null,notes.NoteType),(notes.ContactMode==null||notes.ContactMode=='')&&(notes.RenewalMonth==null||notes.RenewalMonth=='')?null:/*#__PURE__*/React.createElement(Row,null,notes.ContactMode==null||notes.ContactMode==''?null:/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Contact Mode:\"),\" \",notes.ContactMode)),notes.RenewalMonth==null||notes.RenewalMonth==''?null:/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Renewal Month:\"),\" \",notes.RenewalMonth))),(notes.Response==null||notes.Response=='')&&(notes.Reason==null||notes.Reason=='')?null:/*#__PURE__*/React.createElement(Row,null,notes.Response==null||notes.Response==''?null:/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Response:\"),\" \",notes.Response)),/*#__PURE__*/React.createElement(Col,{md:\"6\"},notes.Reason==null||notes.Reason==''?null:/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Reason: \"),\" \",notes.Reason))),notes.FollowUpDateTime=='0000-00-00 00:00:00'||notes.FollowUpDateTime==null||notes.FollowUpDateTime==\"\"?null:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Follow Up DateTime: \"),\" \",moment(notes.FollowUpDateTime).format(CommonConfig.dateFormat.dateTime)))),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(ShowMoreText,{lines:2,more:\"Show more\",less:\"Show less\",anchorClass:\"\",onClick:_this8.executeOnClick,expanded:false},notes.NoteText)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Added By\")),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-user\",\"aria-hidden\":\"true\"}),\" \",notes.CreatedByName+\" \"),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-calendar\",\"aria-hidden\":\"true\"}),\" \",moment(notes.CreatedOn).format(CommonConfig.dateFormat.dateTime))),notes.UpdatedByName!=null?/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Updated By\")),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-user\",\"aria-hidden\":\"true\"}),\" \",notes.UpdatedByName+\" \"),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-calendar\",\"aria-hidden\":\"true\"}),\" \",moment(notes.UpdatedOn).format(CommonConfig.dateFormat.dateTime))):null)));}))))));}}]);return PersonNotes;}(Component);export default withTranslation()(PersonNotes);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/SidebarNav/Notes.js"],"names":["React","Component","toast","Sidebar","ScrollPanel","Button","BTN","Row","Col","Input","Card","CardHeader","CardBody","Collapse","api","APIConstant","moment","CommonConfig","withTranslation","ShowMoreText","PersonNotes","props","loading","saveNotes","state","NotesTypeError","notesdescriptionError","NotesForm","FormData","append","noteID","notesType","notesdescription","trim","EntityId","EntityType","isImportant","loggedInUserId","LanguageId","post","then","res","success","reset","message","getNoteList","catch","err","show","saveNotesNewBusiness","responseType","error","reasonType","contactMode","renewalMonth","data","NavID","DateTime","notesInceptionDate1","loggedInUserData","console","log","resetNewBusiness","PolicyId","msg","t","Date","InceptionDate","getMonth","renewalValue","renewalMonthList","filter","x","StringMapKey","finalRenewalDate","value","label","StringMapName","setState","notesInceptionDate","format","inceptionDate","isEditDate","isEditRenewalMonth","addNoteCollapse","handleChange","e","target","name","isEmpty","inceptionDateError","updateNotes","isNoteEdit","NoteText","NoteType","IsFlag","NoteId","Type","noteList","ReasonArray","ResponseTypeArray","showReasonDD","responseTypeError","reasonTypeError","reasonsShow","contactModeError","contactModeList","renewalMonthError","SecurityGroupList","i18n","language","NavPage","getDropDownValues","getNotesType","policyId","resdata","warn","match","params","id","stringMapType","setStateName","stringmaptype","orderby","path","dropdownbycode","response","StingMapKey","dropdownbycodeforreason","field","condition","errorField","document","getElementById","className","innerHTML","type","undefined","getDropDownReasonValues","date","ShowMonth","curmonth","curyear","getFullYear","parseInt","inceptionDate1","task","isExpanded","visible","SaveButton","AddButton","EditButton","DeleteButton","CloseButton","BackButton","UpdateButton","HideSideBar","width","height","paddingLeft","paddingRight","float","handleSubmit","padding","SecurityGroupName","selectType","map","editRenewalMonth","editDate","display","ct","i","selectType1","Important","color","fontSize","length","notes","ContactMode","RenewalMonth","Response","Reason","FollowUpDateTime","dateFormat","dateTime","executeOnClick","CreatedByName","CreatedOn","UpdatedByName","UpdatedOn"],"mappings":"wyCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAO,kDAAP,CACA,MAAO,yCAAP,CACA,MAAO,2BAAP,CACA,OAASA,MAAM,GAAIC,CAAAA,GAAnB,CAAwBC,GAAxB,CAA6BC,GAA7B,CAAkCC,KAAlC,CAAyCC,IAAzC,CAA+CC,UAA/C,CAA2DC,QAA3D,CAAqEC,QAArE,KAAqF,YAArF,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,C,GAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MA0NnBC,OA1NmB,CA0NT,8BAAM,2BAAK,SAAS,CAAC,kCAAf,eAAN,EA1NS,OAgOnBC,SAhOmB,CAgOP,UAAM,CAChB,GACE,MAAKC,KAAL,CAAWC,cAAX,GAA8B,KAA9B,EACA,MAAKD,KAAL,CAAWE,qBAAX,GAAqC,KAFvC,CAE8C,CAE5C,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,QAAJ,EAAlB,CACAD,SAAS,CAACE,MAAV,CAAiB,QAAjB,CAA2B,MAAKL,KAAL,CAAWM,MAAtC,EACAH,SAAS,CAACE,MAAV,CAAiB,WAAjB,CAA8B,MAAKL,KAAL,CAAWO,SAAzC,EACAJ,SAAS,CAACE,MAAV,CAAiB,kBAAjB,CAAqC,MAAKL,KAAL,CAAWQ,gBAAX,CAA4BC,IAA5B,EAArC,EACAN,SAAS,CAACE,MAAV,CAAiB,UAAjB,CAA6B,MAAKL,KAAL,CAAWU,QAAxC,EACAP,SAAS,CAACE,MAAV,CAAiB,YAAjB,CAA+B,MAAKL,KAAL,CAAWW,UAA1C,EACAR,SAAS,CAACE,MAAV,CAAiB,QAAjB,CAA2B,MAAKL,KAAL,CAAWY,WAAtC,EACAT,SAAS,CAACE,MAAV,CAAiB,gBAAjB,CAAmCZ,YAAY,CAACoB,cAAb,EAAnC,EACAV,SAAS,CAACE,MAAV,CAAiB,YAAjB,CAA+B,MAAKL,KAAL,CAAWc,UAA1C,EAEAxB,GAAG,CAACyB,IAAJ,CAAS,cAAT,CAAyBZ,SAAzB,EAAoCa,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAC9C,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,MAAKC,KAAL,GACAzC,KAAK,CAACwC,OAAN,CAAc,0BAAd,EACAxC,KAAK,CAACwC,OAAN,CAAcD,GAAG,CAACG,OAAlB,EACA,MAAKC,WAAL,GACD,CALD,IAKO,CAEN,CACF,CATD,EASGC,KATH,CASS,SAAAC,GAAG,CAAI,CACf,CAVD,EAWD,CAzBD,IAyBO,CACL,MAAKC,IAAL,CAAU,WAAV,CAAuB,MAAKxB,KAAL,CAAWC,cAAlC,EACA,MAAKuB,IAAL,CAAU,kBAAV,CAA8B,MAAKxB,KAAL,CAAWE,qBAAzC,EACD,CACF,CA9PkB,OAgQnBuB,oBAhQmB,CAgQI,UAAM,CAC3B,GAAI,MAAKzB,KAAL,CAAWE,qBAAX,GAAqC,KAAzC,CAAgD,CAC5C,GAAI,MAAKF,KAAL,CAAW0B,YAAX,EAA2B,EAA/B,CAAmC,CAC/BhD,KAAK,CAACiD,KAAN,CAAY,6BAAZ,EACA,OACH,CAED,GAAI,MAAK3B,KAAL,CAAW0B,YAAX,EAA2B,gBAA/B,CAAiD,CAC7C,GAAI,MAAK1B,KAAL,CAAW4B,UAAX,EAAyB,EAA7B,CAAiC,CAC7BlD,KAAK,CAACiD,KAAN,CAAY,2BAAZ,EACA,OACH,CACJ,CAED,GAAI,MAAK3B,KAAL,CAAW6B,WAAX,EAA0B,EAA9B,CAAkC,CAC9BnD,KAAK,CAACiD,KAAN,CAAY,4BAAZ,EACA,OACH,CAED,GAAI,MAAK3B,KAAL,CAAW8B,YAAX,EAA2B,EAA/B,CAAmC,CAC/BpD,KAAK,CAACiD,KAAN,CAAY,6BAAZ,EACA,OACH,CAED,GAAII,CAAAA,IAAI,CAAG,CACP,aAAc,QADP,CAEP,WAAY,MAAK/B,KAAL,CAAWgC,KAFhB,CAGP,WAAY,MAAKhC,KAAL,CAAWgC,KAHhB,CAIP,SAAU,MAAKhC,KAAL,CAAWY,WAJd,CAKP,WAAY,MAAKZ,KAAL,CAAW0B,YALhB,CAMP,SAAU,MAAK1B,KAAL,CAAW4B,UANd,CAOP,WAAY,MAAK5B,KAAL,CAAWQ,gBAAX,CAA4BC,IAA5B,EAPL,CAQP,mBAAoB,MAAKT,KAAL,CAAWiC,QARxB,CASP;AACA,gBAAiB,MAAKjC,KAAL,CAAWkC,mBAVrB,CAWP,cAAe,MAAKlC,KAAL,CAAW6B,WAXnB,CAYP,cAAepC,YAAY,CAAC0C,gBAAb,GAAgCzB,QAZxC,CAAX,CAcA0B,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAkCN,IAAlC,EACAzC,GAAG,CAACyB,IAAJ,CAAS,sBAAT,CAAiCgB,IAAjC,EAAuCf,IAAvC,CAA4C,SAAAC,GAAG,CAAI,CAC/C,GAAIA,GAAG,CAACc,IAAJ,CAASb,OAAb,CAAsB,CAClBxC,KAAK,CAACwC,OAAN,CAAc,mCAAd,EACA,MAAKoB,gBAAL,GACA,MAAKjB,WAAL,CAAiB,CAAEkB,QAAQ,CAAE,MAAKvC,KAAL,CAAWgC,KAAvB,CAAjB,EAEH,CALD,IAKO,CACHtD,KAAK,CAACiD,KAAN,CAAYV,GAAG,CAACc,IAAJ,CAASS,GAArB,EACH,CACJ,CATD,EASGlB,KATH,CASS,SAAAC,GAAG,CAAI,CACf,CAVD,EAWH,CAjDD,IAiDO,CACH,GAAG,MAAKvB,KAAL,CAAW0B,YAAX,EAA0B,EAA7B,CAAgC,CAC5B,MAAKF,IAAL,CAAU,cAAV,CAA0B,IAA1B,CAAgC,mBAAhC,CAAsD,wBAAtD,EACH,CACD,GAAG,MAAKxB,KAAL,CAAW6B,WAAX,EAAyB,EAA5B,CAA+B,CAC3B,MAAKL,IAAL,CAAU,aAAV,CAAyB,IAAzB,CAA+B,kBAA/B,CAAoD,4BAApD,EACH,CACD,GAAG,MAAKxB,KAAL,CAAW8B,YAAX,EAA0B,EAA7B,CAAgC,CAC5B,MAAKN,IAAL,CAAU,cAAV,CAA0B,IAA1B,CAAgC,mBAAhC,CAAsD,6BAAtD,EACH,CACD,MAAKA,IAAL,CAAU,WAAV,CAAuB,MAAKxB,KAAL,CAAWC,cAAlC,EACA,MAAKuB,IAAL,CAAU,kBAAV,CAA8B,MAAKxB,KAAL,CAAWE,qBAAzC,EACH,CACJ,CA/ToB,OAiUnBoC,gBAjUmB,CAiUA,UAAM,CACvB,GAAIG,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,CAAS,MAAK1C,KAAL,CAAW2C,aAApB,CAAR,CAEI,GAAIb,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAGW,CAAC,CAACG,QAAF,GAAe,CAAf,CAAmB,EAAtB,CAAyB,CACrBd,YAAY,CAAG,KAAMW,CAAC,CAACG,QAAF,GAAe,CAArB,CAAf,CACH,CAFD,IAGI,CACAd,YAAY,CAAIW,CAAC,CAACG,QAAF,GAAe,CAA/B,CACH,CACD,GAAIC,CAAAA,YAAY,CAAG,MAAK7C,KAAL,CAAW8C,gBAAX,CAA4BC,MAA5B,CAAmC,SAAAC,CAAC,QAAGA,CAAAA,CAAC,CAACC,YAAF,EAAkBnB,YAArB,EAApC,CAAnB,CACA,GAAIoB,CAAAA,gBAAgB,CAAG,CACnBC,KAAK,CAAGrB,YADW,CAEnBsB,KAAK,CAAGP,YAAY,CAAC,CAAD,CAAZ,CAAgBQ,aAFL,CAAvB,CAKJ,MAAKC,QAAL,CAAc,CACZ9C,gBAAgB,CAAE,EADN,CACUN,qBAAqB,CAAE,IADjC,CAEZwB,YAAY,CAAE,EAFF,CAGZ6B,kBAAkB,CAAE/D,MAAM,CAAC,MAAKQ,KAAL,CAAW2C,aAAZ,CAAN,CAAiCa,MAAjC,CAAwC,YAAxC,CAHR,CAIZtB,mBAAmB,CAAE1C,MAAM,CAAC,MAAKQ,KAAL,CAAWyD,aAAZ,CAAN,CAAiCD,MAAjC,CAAwC,YAAxC,CAJT,CAKZ5B,UAAU,CAAE,EALA,CAMZK,QAAQ,CAAE,EANE,CAOZH,YAAY,CAAEoB,gBAPF,CAQZrB,WAAW,CAAC,EARA,CASZjB,WAAW,CAAE,CATD,CAUZ8C,UAAU,CAAC,KAVC,CAWZC,kBAAkB,CAAE,KAXR,CAAd,EAaA,MAAKnC,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EAEA,MAAK8B,QAAL,CAAc,CAAEM,eAAe,CAAE,KAAnB,CAAd,EACD,CAjWkB,OA2cnBC,YA3cmB,CA2cJ,SAACC,CAAD,CAAO,CACpB,MAAKR,QAAL,oBAAiBQ,CAAC,CAACC,MAAF,CAASC,IAA1B,CAAiCF,CAAC,CAACC,MAAF,CAASZ,KAA1C,GACA,GAAIW,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,kBAAtB,CAA0C,CACxC,GAAIvE,YAAY,CAACwE,OAAb,CAAqBH,CAAC,CAACC,MAAF,CAASZ,KAA9B,CAAJ,CAA0C,CACxC,MAAKG,QAAL,CAAc,CAAEpD,qBAAqB,CAAE,IAAzB,CAAd,EACA,MAAKsB,IAAL,CAAU,kBAAV,CAA8B,IAA9B,EACD,CAHD,IAGO,CACL,MAAK8B,QAAL,CAAc,CAAEpD,qBAAqB,CAAE,KAAzB,CAAgCM,gBAAgB,CAAEsD,CAAC,CAACC,MAAF,CAASZ,KAA3D,CAAd,EACA,MAAK3B,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACD,CACF,CACD,GAAGsC,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,eAArB,CAAqC,CACnC,GAAIvE,YAAY,CAACwE,OAAb,CAAqBH,CAAC,CAACC,MAAF,CAASZ,KAA9B,CAAJ,CAA0C,CACtC,MAAKG,QAAL,CAAc,CAAEY,kBAAkB,CAAE,IAAtB,CAAd,EACA,MAAK1C,IAAL,CAAU,eAAV,CAA2B,IAA3B,CAAiC,oBAAjC,CAAuD,6BAAvD,EACH,CAHD,IAGM,CACF,GAAIiB,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,CAASoB,CAAC,CAACC,MAAF,CAASZ,KAAlB,CAAR,CACA,GAAIrB,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAGW,CAAC,CAACG,QAAF,GAAe,CAAf,CAAmB,EAAtB,CAAyB,CACrBd,YAAY,CAAG,KAAMW,CAAC,CAACG,QAAF,GAAe,CAArB,CAAf,CACH,CAFD,IAGI,CACAd,YAAY,CAAIW,CAAC,CAACG,QAAF,GAAe,CAA/B,CACH,CACD,GAAIb,CAAAA,IAAI,CAAG,MAAK/B,KAAL,CAAW8C,gBAAX,CAA4BC,MAA5B,CAAmC,SAAAC,CAAC,QAAGA,CAAAA,CAAC,CAACC,YAAF,EAAkBnB,YAArB,EAApC,CAAX,CACA,GAAI2B,CAAAA,aAAa,CAAGjE,MAAM,CAACsE,CAAC,CAACC,MAAF,CAASZ,KAAV,CAAN,CAAuBK,MAAvB,CAA8B,YAA9B,CAApB,CACApB,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA0ByB,CAAC,CAACC,MAAF,CAASZ,KAAnC,EACA,GAAID,CAAAA,gBAAgB,CAAG,CACnBC,KAAK,CAAGrB,YADW,CAEnBsB,KAAK,CAAGrB,IAAI,CAAC,CAAD,CAAJ,CAAQsB,aAFG,CAAvB,CAIA,MAAKC,QAAL,CAAc,CAAEC,kBAAkB,CAAEE,aAAtB,CAAqCvB,mBAAmB,CAAE4B,CAAC,CAACC,MAAF,CAASZ,KAAnE,CAA0Ee,kBAAkB,CAAE,KAA9F,CAAqGpC,YAAY,CAAEoB,gBAAnH,CAAd,EACA,MAAK1B,IAAL,CAAU,eAAV,CAA2B,KAA3B,CAAmC,oBAAnC,CAAyD,EAAzD,EACH,CACF,CACF,CA9ekB,OAggBnB2C,WAhgBmB,CAggBL,SAACpC,IAAD,CAAU,CACtB,MAAKuB,QAAL,CAAc,CACZc,UAAU,CAAE,IADA,CACM5D,gBAAgB,CAAEuB,IAAI,CAACsC,QAD7B,CACuCnE,qBAAqB,CAAE,KAD9D,CAEZK,SAAS,CAAEwB,IAAI,CAACuC,QAFJ,CAEcrE,cAAc,CAAE,KAF9B,CAEqCW,WAAW,CAAEmB,IAAI,CAACwC,MAAL,CAAYxC,IAAZ,CAAiB,CAAjB,CAFlD,CAGZzB,MAAM,CAAEyB,IAAI,CAACyC,MAHD,CAGSZ,eAAe,CAAE,IAH1B,CAAd,EAKA,MAAKpC,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACA,MAAKA,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CAxgBkB,OA0gBnBL,KA1gBmB,CA0gBX,UAAM,CACZ,MAAKmC,QAAL,CAAc,CACZc,UAAU,CAAE,KADA,CACO5D,gBAAgB,CAAE,EADzB,CAC6BN,qBAAqB,CAAE,IADpD,CAEZK,SAAS,CAAE,EAFC,CAEGN,cAAc,CAAE,IAFnB,CAGZK,MAAM,CAAE,EAHI,CAGAM,WAAW,CAAE,CAHb,CAAd,EAKA,MAAKY,IAAL,CAAU,kBAAV,CAA8B,KAA9B,EACA,MAAKA,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CAlhBkB,CAGjB,MAAKxB,KAAL,CAAa,CACXyE,IAAI,CAAE,EADK,CAEXC,QAAQ,CAAE,EAFC,CAGX9D,WAAW,CAAE,CAHF,CAIXL,SAAS,CAAE,EAJA,CAKXC,gBAAgB,CAAE,EALP,CAMXP,cAAc,CAAE,IANL,CAOXC,qBAAqB,CAAE,IAPZ,CAQXI,MAAM,CAAE,EARG,CASX8D,UAAU,CAAE,KATD,CAUXO,WAAW,CAAE,EAVF,CAWXC,iBAAiB,CAAE,EAXR,CAYXC,YAAY,CAAE,KAZH,CAaXnD,YAAY,CAAE,EAbH,CAcXoD,iBAAiB,CAAC,KAdP,CAeXC,eAAe,CAAC,KAfL,CAgBXnD,UAAU,CAAE,EAhBD,CAiBXK,QAAQ,CAAE,EAjBC,CAkBX+C,WAAW,CAAE,KAlBF,CAmBXnD,WAAW,CAAC,EAnBD,CAoBXoD,gBAAgB,CAAE,KApBP,CAqBXC,eAAe,CAAC,EArBL,CAsBXpD,YAAY,CAAC,EAtBF,CAuBXgB,gBAAgB,CAAC,EAvBN,CAwBXqC,iBAAiB,CAAE,KAxBR,CAyBX5B,kBAAkB,CAAE,EAzBT,CA0BXrB,mBAAmB,CAAC,EA1BT,CA2BXyB,kBAAkB,CAAE,KA3BT,CA4BXD,UAAU,CAAE,KA5BD,CA6BXf,aAAa,CAAE,EA7BJ,CA+BXyC,iBAAiB,CAAE,CACf,CAAEhC,KAAK,CAAE,cAAT,CAAyBD,KAAK,CAAE,cAAhC,CADe,CAEf,CAAEC,KAAK,CAAE,SAAT,CAAoBD,KAAK,CAAE,SAA3B,CAFe,CAGf,CAAEC,KAAK,CAAE,cAAT,CAAyBD,KAAK,CAAE,cAAhC,CAHe,CA/BR,CAqCXzC,QAAQ,CAAE,EArCC,CAsCXC,UAAU,CAAE,EAtCD,CAuCXG,UAAU,CAAGjB,KAAK,CAACwF,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA4CzF,KAAK,CAACwF,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA4CzF,KAAK,CAACwF,IAAN,CAAWC,QAAX,GAAwB,IAAzB,CAAiC,OAAjC,CAA2CzF,KAAK,CAACwF,IAAN,CAAWC,QAvC7I,CAyCX1B,eAAe,CAAE,KAzCN,CAAb,CA2CA;AACA,GAAI/D,KAAK,CAAC0F,OAAV,CAAmB,CACjB,MAAKvF,KAAL,CAAWuF,OAAX,CAAqB1F,KAAK,CAAC0F,OAA3B,CACA,MAAKvF,KAAL,CAAWW,UAAX,CAAwBd,KAAK,CAAC0F,OAA9B,CACA,MAAKvF,KAAL,CAAW2C,aAAX,CAA2B9C,KAAK,CAAC4D,aAAjC,CACD,CACD,GAAI5D,KAAK,CAACmC,KAAV,CAAiB,CACf,MAAKhC,KAAL,CAAWgC,KAAX,CAAmBnC,KAAK,CAACmC,KAAzB,CACA,MAAKhC,KAAL,CAAWU,QAAX,CAAsBb,KAAK,CAACmC,KAA5B,CACD,CAvDgB,aAyDlB,C,4SAGO,MAAKwD,iBAAL,CAAuB,OAAvB,CAAgC,kBAAhC,C,8BAED,MAAKA,iBAAL,CAAuB,aAAvB,CAAsC,iBAAtC,C,8BAEC,MAAKA,iBAAL,CAAuB,kBAAvB,CAA2C,mBAA3C,C,8BACA,MAAKnE,WAAL,E,+BACA,MAAKoE,YAAL,E,kcAKA1D,I,CAAO,CAAE2D,QAAQ,CAAE,KAAK1F,KAAL,CAAWU,QAAvB,C,CACb0B,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCN,IAAtC,E,uBACMzC,CAAAA,GAAG,CAACyB,IAAJ,CAAS,4BAAT,CAAuCgB,IAAvC,EAA6Cf,IAA7C,CAAkD,SAAAC,GAAG,CAAI,CAC3DmB,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCpB,GAAtC,EACA,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACb,GAAIyE,CAAAA,OAAO,CAAG1E,GAAG,CAACc,IAAJ,CAAS,CAAT,CAAd,CACAK,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCsD,OAAO,CAAC,CAAD,CAA7C,EACA,MAAI,CAACrC,QAAL,CAAc,CACVX,aAAa,CAAEgD,OAAO,CAAC,CAAD,CAAP,CAAWhD,aADhB,CAAd,EAGH,CAND,IAMO,CACN,CACJ,CAVK,EAUHrB,KAVG,CAUG,SAAAC,GAAG,CAAI,CACZa,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBd,GAArB,EACH,CAZK,C,keAiBFkB,C,CAAI,KAAKzC,KAAL,CAAW2C,aAAX,CAA2B,GAAID,CAAAA,IAAJ,CAAS,KAAK1C,KAAL,CAAW2C,aAApB,CAA3B,CAAgE,GAAID,CAAAA,IAAJ,E,CAEhEZ,Y,CAAe,E,CACnB,GAAGW,CAAC,CAACG,QAAF,GAAe,CAAf,CAAmB,EAAtB,CAAyB,CACrBd,YAAY,CAAG,KAAMW,CAAC,CAACG,QAAF,GAAe,CAArB,CAAf,CACH,CAFD,IAGI,CACAd,YAAY,CAAIW,CAAC,CAACG,QAAF,GAAe,CAA/B,CACH,CACGC,Y,CAAe,KAAK7C,KAAL,CAAW8C,gBAAX,CAA4BC,MAA5B,CAAmC,SAAAC,CAAC,QAAGA,CAAAA,CAAC,CAACC,YAAF,EAAkBnB,YAArB,EAApC,C,CACfoB,gB,CAAmB,CACnBC,KAAK,CAAGrB,YADW,CAEnBsB,KAAK,CAAGP,YAAY,CAAC,CAAD,CAAZ,CAAgBQ,aAFL,C,CAIvB,KAAKC,QAAL,CAAc,CAAEC,kBAAkB,CAAE/D,MAAM,CAAC,KAAKQ,KAAL,CAAW2C,aAAZ,CAAN,CAAiCa,MAAjC,CAAwC,YAAxC,CAAtB,CAA4EtB,mBAAmB,CAAE1C,MAAM,CAAC,KAAKQ,KAAL,CAAW2C,aAAZ,CAAN,CAAiCa,MAAjC,CAAwC,YAAxC,CAAjG,CAAyJ1B,YAAY,CAAEoB,gBAAvK,CAAd,EAGEnB,I,CAAO,CACX,WAAY,KAAK/B,KAAL,CAAWU,QADZ,CAEX,aAAc,KAAKV,KAAL,CAAWW,UAFd,CAGX,cAAelB,YAAY,CAAC0C,gBAAb,GAAgCzB,QAHpC,C,CAMb;uBACQpB,CAAAA,GAAG,CAACyB,IAAJ,CAAS,yBAAT,CAAoCgB,IAApC,EAA0Cf,IAA1C,CAA+C,SAAAC,GAAG,CAAI,CACxD,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACbkB,OAAO,CAACC,GAAR,CAAY,2BAAZ,CAAyCpB,GAAG,CAACc,IAA7C,EACA,MAAI,CAACuB,QAAL,CAAc,CAAEoB,QAAQ,CAAEzD,GAAG,CAACc,IAAhB,CAAd,EACH,CAHD,IAGO,CACHrD,KAAK,CAACkH,IAAN,CAAW,4BAAX,EACH,CACJ,CAPK,EAOHtE,KAPG,CAOG,SAAAC,GAAG,CAAI,CACZa,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+Bd,GAA/B,EACH,CATK,C,kNAwBQ,iBAChB,GAAMQ,CAAAA,IAAI,CAAG,CAAE2D,QAAQ,CAAE,KAAK7F,KAAL,CAAWgG,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC,CAAb,CACA3D,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCN,IAAtC,EACAzC,GAAG,CAACyB,IAAJ,CAAS,4BAAT,CAAuCgB,IAAvC,EAA6Cf,IAA7C,CAAkD,SAAAC,GAAG,CAAI,CACrDmB,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCpB,GAAtC,EACA,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACb,GAAIyE,CAAAA,OAAO,CAAG1E,GAAG,CAACc,IAAJ,CAAS,CAAT,CAAd,CACAK,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCsD,OAAO,CAAC,CAAD,CAA7C,EACA,MAAI,CAACrC,QAAL,CAAc,CACVG,aAAa,CAAEkC,OAAO,CAAC,CAAD,CAAP,CAAWhD,aADhB,CAAd,EAGH,CAND,IAMO,CAEN,CACJ,CAXD,EAWGrB,KAXH,CAWS,SAAAC,GAAG,CAAI,CACZa,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBd,GAArB,EACH,CAbD,EAcH,C,6IAEyByE,a,CAAeC,Y,gKAE7BlE,I,CAAO,CACPmE,aAAa,CAAEF,aADR,CAEPG,OAAO,CAAE,WAFF,C,CAIX,GAAIH,aAAa,EAAI,OAArB,CAA6B,CACzBjE,IAAI,CAAG,CACHmE,aAAa,CAAEF,aADZ,CAEHG,OAAO,CAAE,cAFN,CAAP,CAIH,C,uBACK7G,CAAAA,GAAG,CAACyB,IAAJ,CAASxB,WAAW,CAAC6G,IAAZ,CAAiBC,cAA1B,CAA0CtE,IAA1C,EAAgDf,IAAhD,CAAqD,SAAAC,GAAG,CAAI,CAC9D,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACb,MAAI,CAACoC,QAAL,oBAAiB2C,YAAjB,CAAgChF,GAAG,CAACc,IAApC,GACH,CAFD,IAEO,CACN,CACJ,CALK,EAKHT,KALG,CAKG,SAAAC,GAAG,CAAI,CACf,CANK,C,2FAQNa,OAAO,CAACC,GAAR,CAAY,UAAZ,e,iQAIkBiE,Q,CAAUL,Y,CAAc,iBAC9C,GAAI,CACA,GAAMlE,CAAAA,IAAI,CAAG,CACTwE,WAAW,CAAED,QADJ,CAAb,CAGAhH,GAAG,CAACyB,IAAJ,CAASxB,WAAW,CAAC6G,IAAZ,CAAiBI,uBAA1B,CAAmDzE,IAAnD,EAAyDf,IAAzD,CAA8D,SAAAC,GAAG,CAAI,CACjE,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACbkB,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCpB,GAArC,EACA,MAAI,CAACqC,QAAL,CAAc,CAAEqB,WAAW,CAAE1D,GAAG,CAACc,IAAJ,CAAS,CAAT,CAAf,CAAd,EACH,CAHD,IAGO,CACN,CACJ,CAND,EAMGT,KANH,CAMS,SAAAC,GAAG,CAAI,CACf,CAPD,EAQH,CAAC,MAAOI,KAAP,CAAc,CACZS,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBV,KAAxB,EACH,CACF,C,mDAEc,iBACb,GAAI,CACF,GAAMI,CAAAA,IAAI,CAAG,CACXmE,aAAa,CAAE,UADJ,CAAb,CAGA5G,GAAG,CAACyB,IAAJ,CAASxB,WAAW,CAAC6G,IAAZ,CAAiBC,cAA1B,CAA0CtE,IAA1C,EAAgDf,IAAhD,CAAqD,SAAAC,GAAG,CAAI,CAC1D,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACf,MAAI,CAACoC,QAAL,CAAc,CAAEmB,IAAI,CAAExD,GAAG,CAACc,IAAZ,CAAd,EACD,CAFD,IAEO,CAEN,CACF,CAND,EAMGT,KANH,CAMS,SAAAC,GAAG,CAAI,CAEf,CARD,EASD,CAAC,MAAOI,KAAP,CAAc,CAEf,CACF,C,6CAIW,CACT,KAAK3B,KAAL,CAAWY,WAAX,GAA2B,CAA3B,CAA+B,KAAK0C,QAAL,CAAc,CAAE1C,WAAW,CAAE,CAAf,CAAd,CAA/B,CAAmE,KAAK0C,QAAL,CAAc,CAAE1C,WAAW,CAAE,CAAf,CAAd,CAApE,CACD,C,cAsID;AACA;AACA;AACA;AACA;AACA;AACA;oBAEK6F,K,CAAOC,S,CAAWC,U,CAAYvF,O,CAAS,CAC1C,GAAIsF,SAAJ,CAAe,CACX,GAAIE,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAAJ,CACIG,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,EAA+BK,SAA/B,CAA2C,yBAA3C,CAEJ,GAAIF,QAAQ,CAACC,cAAT,CAAwBF,UAAxB,CAAJ,CACIC,QAAQ,CAACC,cAAT,CAAwBF,UAAxB,EAAoCI,SAApC,CAAgD,MAAQ3F,OAAR,CAAkB,OAAlE,CACP,CAND,IAMO,CACH,GAAIwF,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAAJ,CACIG,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,EAA+BK,SAA/B,CAA2C,cAA3C,CAEJ,GAAIF,QAAQ,CAACC,cAAT,CAAwBF,UAAxB,CAAJ,CACIC,QAAQ,CAACC,cAAT,CAAwBF,UAAxB,EAAoCI,SAApC,CAAgD,IAAhD,CACP,CACF,C,gDAEW5D,K,CAAO6D,I,CAAM,CACvB,GAAI7D,KAAK,GAAK,EAAV,EAAgBA,KAAK,GAAK,IAA9B,CAAoC,CAClC,KAAKG,QAAL,CAAc,CAAErD,cAAc,CAAE,IAAlB,CAAwBM,SAAS,CAAE4C,KAAnC,CAAd,EACA,KAAK3B,IAAL,CAAU,WAAV,CAAuB,IAAvB,EACD,CAHD,IAGO,CACL,KAAK8B,QAAL,CAAc,CAAErD,cAAc,CAAE,KAAlB,CAAyBM,SAAS,CAAE4C,KAApC,CAAd,EACA,KAAK3B,IAAL,CAAU,WAAV,CAAuB,KAAvB,EACD,CACF,C,8CAEU2B,K,CAAQ6D,I,CAAK,CACtB,GAAIA,IAAI,GAAK,cAAb,CAA6B,CAE3B,GAAI7D,KAAK,GAAK,EAAV,EAAgBA,KAAK,GAAK8D,SAA1B,EAAuC9D,KAAK,GAAK,IAArD,CAA2D,CACvD,KAAKG,QAAL,CAAc,CAAE5B,YAAY,CAAE,EAAhB,CAAoBoD,iBAAiB,CAAE,IAAvC,CAA6CD,YAAY,CAAE,KAA3D,CAAd,EACA,KAAKrD,IAAL,CAAU,cAAV,CAA0B,IAA1B,CAAgC,mBAAhC,CAAqD,wBAArD,EACH,CAHD,IAGO,CACH,KAAK8B,QAAL,CAAc,CAAE5B,YAAY,CAAEyB,KAAK,CAACA,KAAtB,CAA8B2B,iBAAiB,CAAC,KAAhD,CAAd,EACA,KAAKtD,IAAL,CAAU,cAAV,CAA0B,KAA1B,CAAiC,mBAAjC,CAAsD,EAAtD,EAEA,KAAK0F,uBAAL,CAA6B/D,KAAK,CAACA,KAAnC,CAA0C,aAA1C,EAEA,GAAIA,KAAK,CAACA,KAAN,EAAe,gBAAf,EAAmCA,KAAK,CAACA,KAAN,EAAe,MAAlD,EAA4DA,KAAK,CAACA,KAAN,EAAe,OAA3E,EAAqFA,KAAK,CAACA,KAAN,EAAe,WAAxG,CAAqH,CACnH,KAAKG,QAAL,CAAc,CAACuB,YAAY,CAAE,IAAf,CAAd,EACD,CAFD,IAEK,CACH,KAAKvB,QAAL,CAAc,CAACuB,YAAY,CAAE,KAAf,CAAd,EACD,CACJ,CACF,CAED,GAAImC,IAAI,GAAK,YAAb,CAA2B,CACzB,GAAI7D,KAAK,GAAK,EAAV,EAAgBA,KAAK,GAAK8D,SAA1B,EAAuC9D,KAAK,GAAK,IAArD,CAA2D,CACvD,KAAKG,QAAL,CAAc,CAAE1B,UAAU,CAAE,EAAd,CAAkBmD,eAAe,CAAE,IAAnC,CAAd,EACA,KAAKvD,IAAL,CAAU,YAAV,CAAwB,IAAxB,CAA8B,iBAA9B,CAAiD,sBAAjD,EACH,CAHD,IAGO,CACH,KAAK8B,QAAL,CAAc,CAAE1B,UAAU,CAAEuB,KAAK,CAACA,KAApB,CAA2B4B,eAAe,CAAC,KAA3C,CAAd,EACA,KAAKvD,IAAL,CAAU,YAAV,CAAwB,KAAxB,CAA+B,iBAA/B,CAAkD,EAAlD,EACH,CACF,CAED,GAAIwF,IAAI,GAAK,aAAb,CAA4B,CAC1B,GAAI7D,KAAK,CAACA,KAAN,EAAe,EAAf,EAAqBA,KAAK,CAACA,KAAN,EAAe8D,SAApC,EAAiD9D,KAAK,CAACA,KAAN,EAAe,IAApE,CAA0E,CACtE,KAAKG,QAAL,CAAc,CAAEzB,WAAW,CAAE,EAAf,CAAmBoD,gBAAgB,CAAE,IAArC,CAAd,EACA,KAAKzD,IAAL,CAAU,aAAV,CAAyB,IAAzB,CAA+B,kBAA/B,CAAmD,4BAAnD,EACH,CAHD,IAGO,CACH,KAAK8B,QAAL,CAAc,CAAEzB,WAAW,CAAEsB,KAAK,CAACA,KAArB,CAA4B8B,gBAAgB,CAAE,KAA9C,CAAd,EACA,KAAKzD,IAAL,CAAU,aAAV,CAAyB,KAAzB,CAAgC,kBAAhC,CAAoD,EAApD,EACH,CACF,CAED,GAAIwF,IAAI,GAAK,cAAb,CAA6B,CAC3B,GAAI7D,KAAK,CAACA,KAAN,EAAe,EAAf,EAAqBA,KAAK,CAACA,KAAN,EAAe8D,SAApC,EAAiD9D,KAAK,CAACA,KAAN,EAAe,IAApE,CAA0E,CACtE,KAAKG,QAAL,CAAc,CAAExB,YAAY,CAAE,EAAhB,CAAoBqD,iBAAiB,CAAC,IAAtC,CAAd,EACA,KAAK3D,IAAL,CAAU,cAAV,CAA0B,IAA1B,CAAgC,mBAAhC,CAAqD,6BAArD,EACH,CAHD,IAGO,CACL,GAAI2F,CAAAA,IAAI,CAAG,GAAIzE,CAAAA,IAAJ,EAAX,CACA,GAAI0E,CAAAA,SAAS,CAAGjE,KAAK,CAACA,KAAtB,CACCf,OAAO,CAACC,GAAR,CAAY+E,SAAZ,EAED,GAAIC,CAAAA,QAAQ,CAAG,GAAI3E,CAAAA,IAAJ,GAAWE,QAAX,GAAwB,CAAvC,CACAR,OAAO,CAACC,GAAR,CAAYgF,QAAZ,EACA,GAAID,SAAS,CAAGC,QAAhB,CAEI,GAAIC,CAAAA,OAAO,CAAG,GAAI5E,CAAAA,IAAJ,GAAW6E,WAAX,GAA2B,CAAzC,CAFJ,IAII,IAAID,CAAAA,OAAO,CAAG,GAAI5E,CAAAA,IAAJ,GAAW6E,WAAX,EAAd,CACJnF,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBiF,OAAvB,EAEA,GAAI7D,CAAAA,aAAa,CAAGjE,MAAM,CAAC,CAACgI,QAAQ,CAACF,OAAD,CAAT,CAAoBE,QAAQ,CAACrE,KAAK,CAACA,KAAP,CAAR,CAAwB,CAA5C,CAAD,CAAN,CAAuDK,MAAvD,CAA8D,YAA9D,CAApB,CACA,GAAIiE,CAAAA,cAAc,CAAGjI,MAAM,CAAC,CAACgI,QAAQ,CAACF,OAAD,CAAT,CAAoBE,QAAQ,CAACrE,KAAK,CAACA,KAAP,CAAR,CAAwB,CAA5C,CAAD,CAAN,CAAuDK,MAAvD,CAA8D,YAA9D,CAArB,CACA,KAAKF,QAAL,CAAc,CAAExB,YAAY,CAAEqB,KAAK,CAACA,KAAtB,CAA6BgC,iBAAiB,CAAC,IAA/C,CAAsD5B,kBAAkB,CAAEE,aAA1E,CAAwFvB,mBAAmB,CAAEuF,cAA7G,CAAd,EACA,KAAKjG,IAAL,CAAU,cAAV,CAA0B,KAA1B,CAAiC,mBAAjC,CAAsD,EAAtD,EACE;AACA;AAEH,CACF,CACF,C,0CAuCQkG,I,CAAM,CACb,GAAIA,IAAI,EAAI,MAAZ,CAAoB,CAChB,KAAKpE,QAAL,CAAc,CAAEI,UAAU,CAAE,KAAd,CAAd,EACH,CAFD,IAEO,CACH,KAAKJ,QAAL,CAAc,CAAEI,UAAU,CAAE,IAAd,CAAd,EACH,CACF,C,0DAEcgE,I,CAAK,CAClB,GAAGA,IAAI,EAAI,MAAX,CAAkB,CACd,KAAKpE,QAAL,CAAc,CAAEK,kBAAkB,CAAG,KAAvB,CAAd,EACH,CAFD,IAEO,CACH,KAAKL,QAAL,CAAc,CAAEK,kBAAkB,CAAE,IAAtB,CAAd,EACH,CACJ,C,sDAsBgBgE,U,CAAY,CAC1B,C,iDAEa,CACZ,KAAKrE,QAAL,CAAc,CAAEsE,OAAO,CAAE,KAAX,CAAd,EACA,KAAKzG,KAAL,GACD,C,uCAEQ,iCACa,KAAKtB,KADlB,CACC4C,CADD,aACCA,CADD,CACI4C,IADJ,aACIA,IADJ,CAEP,GAAMwC,CAAAA,UAAU,CAAGpF,CAAC,CAAC,cAAD,CAApB,CACA,GAAMqF,CAAAA,SAAS,CAAGrF,CAAC,CAAC,aAAD,CAAnB,CACA,GAAMsF,CAAAA,UAAU,CAAGtF,CAAC,CAAC,cAAD,CAApB,CACA,GAAMuF,CAAAA,YAAY,CAAGvF,CAAC,CAAC,gBAAD,CAAtB,CACA,GAAMwF,CAAAA,WAAW,CAAGxF,CAAC,CAAC,eAAD,CAArB,CACA,GAAMyF,CAAAA,UAAU,CAAGzF,CAAC,CAAC,cAAD,CAApB,CACA,GAAM0F,CAAAA,YAAY,CAAG1F,CAAC,CAAC,gBAAD,CAAtB,CAEA,mBACE,4CACE,yBAAG,OAAO,CAAE,iBAACqB,CAAD,QAAO,CAAA,MAAI,CAACR,QAAL,CAAc,CAAEsE,OAAO,CAAE,IAAX,CAAd,CAAP,EAAZ,UADF,cAEE,oBAAC,OAAD,EAAS,aAAa,CAAE,KAAxB,CAA+B,WAAW,CAAE,IAA5C,CAAkD,OAAO,CAAE,KAAK5H,KAAL,CAAW4H,OAAtE,CAA+E,QAAQ,CAAC,OAAxF,CAAgG,MAAM,CAAE,gBAAC9D,CAAD,QAAO,CAAA,MAAI,CAACsE,WAAL,EAAP,EAAxG,CAAmI,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAT,CAA1I,eAEE,4CACE,4BAAM,SAAS,CAAC,uBAAhB,CAAwC,OAAO,CAAE,iBAACvE,CAAD,QAAO,CAAA,MAAI,CAACsE,WAAL,EAAP,EAAjD,eACE,yBAAG,SAAS,CAAC,aAAb,EADF,CADF,CAFF,cAOE,oBAAC,WAAD,EAAa,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,KAAzB,CAAgCC,WAAW,CAAE,MAA7C,CAAqDC,YAAY,CAAE,MAAnE,CAApB,eAEE,oBAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,KAAV,CAAW,KAAK,CAAC,MAAjB,CAAwB,SAAS,CAAC,mBAAlC,CAAsD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClF,QAAL,CAAc,CAAEM,eAAe,CAAE,CAAC,MAAI,CAAC5D,KAAL,CAAW4D,eAA/B,CAAd,CAAN,EAA/D,CAAsI,gBAAe,KAAK5D,KAAL,CAAW4D,eAAhK,CAAiL,gBAAc,aAA/L,eACE,0BAAI,SAAS,CAAC,SAAd,MAA2B,KAAK5D,KAAL,CAAWoE,UAAZ,CAA0B3B,CAAC,CAAC,wBAAD,CAA3B,CAAwDA,CAAC,CAAC,uBAAD,CAAnF,kBAA8G,yBAAG,KAAK,CAAE,CAAEgG,KAAK,CAAE,OAAT,CAAV,CAA8B,SAAS,CAAE,KAAKzI,KAAL,CAAW4D,eAAX,CAA6B,kBAA7B,CAAkD,oBAA3F,EAA9G,KADF,CADF,CADF,cAOE,oBAAC,QAAD,EAAU,MAAM,CAAE,KAAK5D,KAAL,CAAW4D,eAA7B,CAA8C,cAAY,YAA1D,CAAuE,EAAE,CAAC,aAA1E,CAAwF,kBAAgB,YAAxG,eACE,4BAAM,QAAQ,CAAE,KAAK8E,YAArB,CAAmC,KAAK,CAAE,CAAEC,OAAO,CAAE,EAAX,CAA1C,EACClJ,YAAY,CAAC0C,gBAAb,GAAgCyG,iBAAhC,EAAqD,cAArD,cACwB,qDA8BuC,oBAAC,GAAD,mBACpC,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,gDADJ,cAGQ,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAE,aAA3B,CAAyC,EAAE,CAAC,aAA5C,CAA0D,QAAQ,CAAE,kBAAC9E,CAAD,QAAO,CAAA,MAAI,CAAC+E,UAAL,CAAgB/E,CAAC,CAACC,MAAlB,CAAyB,aAAzB,CAAP,EAApE,CAAoH,KAAK,CAAE,KAAK/D,KAAL,CAAW6B,WAAtI,eACA,8BAAQ,KAAK,CAAC,EAAd,WADA,CAEC,KAAK7B,KAAL,CAAWkF,eAAX,CAA2B4D,GAA3B,CAA+B,SAAC9F,CAAD,CAAO,CACnC,mBAAO,8BAAQ,KAAK,CAAEA,CAAC,CAACC,YAAjB,EAAgCD,CAAC,CAACK,aAAlC,CAAP,CACH,CAFA,CAFD,CAHR,cAUQ,0BAAI,EAAE,CAAC,kBAAP,CAA0B,SAAS,CAAC,wBAApC,EAVR,CADoC,CAenC,CAAC,KAAKrD,KAAL,CAAW2D,kBAAZ,cACD,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,qDAAyBlE,YAAY,CAACwE,OAAb,CAAqB,KAAKjE,KAAL,CAAW8B,YAAhC,IAAkD,IAAlD,CAAyD,KAAK9B,KAAL,CAAW8B,YAAX,CAAwBsB,KAAjF,CAAyF,KAAKpD,KAAL,CAAW8B,YAA7H,CADJ,cAEI,qDACI,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAE2G,KAAK,CAAE,OAAT,CAAZ,CAAgC,KAAK,CAAC,SAAtC,CACI,OAAO,CAAE,KAAKzI,KAAL,CAAW2D,kBAAX,CAAgC,iBAAM,CAAA,MAAI,CAACoF,gBAAL,CAAsB,MAAtB,CAAN,EAAhC,CAAsE,iBAAM,CAAA,MAAI,CAACA,gBAAL,CAAsB,MAAtB,CAAN,EADnF,eAGA,yBAAG,SAAS,CAAC,cAAb,EAHA,CADJ,CAFJ,CADC,cAaD,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,qDACA,oDADA,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAE,cAA3B,CAA0C,EAAE,CAAC,cAA7C,CAA4D,QAAQ,CAAE,kBAACjF,CAAD,QAAO,CAAA,MAAI,CAAC+E,UAAL,CAAgB/E,CAAC,CAACC,MAAlB,CAAyB,cAAzB,CAAP,EAAtE,CAAuH,KAAK,CAAE,KAAK/D,KAAL,CAAW8B,YAAX,CAAwBqB,KAAtJ,eACA,8BAAQ,KAAK,CAAC,EAAd,WADA,CAEC,KAAKnD,KAAL,CAAW8C,gBAAX,CAA4BgG,GAA5B,CAAgC,SAAC9F,CAAD,CAAO,CACpC,mBAAO,8BAAQ,KAAK,CAAEA,CAAC,CAACC,YAAjB,EAAgCD,CAAC,CAACK,aAAlC,CAAP,CACH,CAFA,CAFD,CAHJ,cAUI,0BAAI,EAAE,CAAC,mBAAP,CAA2B,SAAS,CAAC,wBAArC,EAVJ,CADJ,CA5BoC,CA6CnC,CAAC,KAAKrD,KAAL,CAAW0D,UAAZ,cACD,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,oDAAwB,KAAK1D,KAAL,CAAWuD,kBAAnC,CADJ,cAGI,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEkF,KAAK,CAAE,OAAT,CAAZ,CAAgC,KAAK,CAAC,SAAtC,CACI,OAAO,CAAE,KAAKzI,KAAL,CAAW0D,UAAX,CAAwB,iBAAM,CAAA,MAAI,CAACsF,QAAL,CAAc,MAAd,CAAN,EAAxB,CAAsD,iBAAM,CAAA,MAAI,CAACA,QAAL,CAAc,MAAd,CAAN,EADnE,eAGA,yBAAG,SAAS,CAAC,cAAb,EAHA,CAHJ,CADC,cAWA,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACG,oDAAwB,KAAKhJ,KAAL,CAAWuD,kBAAnC,CADH,cAEG,4CACI,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,eAAxB,CAAwC,EAAE,CAAC,eAA3C,CACI,WAAW,CAAC,gBADhB,CAEI,KAAK,CAAE,CAAE8E,KAAK,CAAE,KAAT,CAAgBY,OAAO,CAAE,cAAzB,CAFX,CAGI,QAAQ,CAAE,kBAACnF,CAAD,QAAO,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,eAArB,CAAP,EAHd,CAII,KAAK,CAAE,KAAK9D,KAAL,CAAWkC,mBAJtB,EADJ,cAOI,0BAAI,EAAE,CAAC,mBAAP,CAA2B,SAAS,CAAC,wBAArC,EAPJ,CAFH,CAxDmC,CA9BvC,cA4GD,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6CADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,cAA1B,CAAyC,EAAE,CAAC,cAA5C,CAA2D,QAAQ,CAAE,kBAAC4B,CAAD,QAAO,CAAA,MAAI,CAAC+E,UAAL,CAAgB/E,CAAC,CAACC,MAAlB,CAA0B,cAA1B,CAAP,EAArE,CAAuH,KAAK,CAAE,KAAK/D,KAAL,CAAW0B,YAAzI,eACI,8BAAQ,KAAK,CAAC,EAAd,WADJ,CAEK,KAAK1B,KAAL,CAAW4E,iBAAX,CAA6BkE,GAA7B,CAAiC,SAACI,EAAD,CAAKC,CAAL,CAAW,CACzC,mBAAQ,8BAAQ,KAAK,CAAED,EAAE,CAACjG,YAAlB,EAAiCiG,EAAE,CAAC7F,aAApC,CAAR,CACH,CAFA,CAFL,CAFJ,cASI,0BAAI,EAAE,CAAC,mBAAP,CAA2B,SAAS,CAAC,wBAArC,EATJ,CADJ,CADJ,CAcK,KAAKrD,KAAL,CAAW6E,YAAX,cACI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACG,2BAAK,SAAS,CAAC,qBAAf,eACI,0CADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,YAA1B,CAAuC,EAAE,CAAC,YAA1C,CAAuD,QAAQ,CAAE,kBAACf,CAAD,QAAO,CAAA,MAAI,CAAC+E,UAAL,CAAgB/E,CAAC,CAACC,MAAlB,CAA0B,YAA1B,CAAP,EAAjE,CAAiH,KAAK,CAAE,KAAK/D,KAAL,CAAW4B,UAAnI,eACI,8BAAQ,KAAK,CAAC,EAAd,WADJ,CAEK,KAAK5B,KAAL,CAAW2E,WAAX,CAAuBmE,GAAvB,CAA2B,SAACI,EAAD,CAAKC,CAAL,CAAW,CACnC,mBAAQ,8BAAQ,KAAK,CAAED,EAAE,CAACjG,YAAlB,EAAiCiG,EAAE,CAAC7F,aAApC,CAAR,CACH,CAFA,CAFL,CAFJ,CADH,CADJ,CAYc,IA1BnB,CA5GC,CADxB,CA0IsB,IA3IvB,cA4IE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EACC5D,YAAY,CAAC0C,gBAAb,GAAgCyG,iBAAhC,EAAqD,cAArD,cACE,2BAAK,SAAS,CAAC,qBAAf,eACC,iCAAQnG,CAAC,CAAC,8BAAD,CAAT,KADD,cAEC,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,WAA1B,CAAsC,EAAE,CAAC,WAAzC,CAAqD,QAAQ,CAAE,kBAACqB,CAAD,QAAO,CAAA,MAAI,CAACsF,WAAL,CAAiBtF,CAAC,CAACC,MAAF,CAASZ,KAA1B,CAAiC,WAAjC,CAAP,EAA/D,CAAqH,KAAK,CAAE,KAAKnD,KAAL,CAAWO,SAAvI,eACE,8BAAQ,KAAK,CAAC,EAAd,EAAkBkC,CAAC,CAAC,oCAAD,CAAnB,CADF,CAEG,KAAKzC,KAAL,CAAWyE,IAAX,CAAgBqE,GAAhB,CAAoB,SAACI,EAAD,CAAKC,CAAL,CAAW,CAC9B,mBAAQ,8BAAQ,KAAK,CAAED,EAAE,CAACjG,YAAlB,EAAiCiG,EAAE,CAAC7F,aAApC,CAAR,CACD,CAFA,CAFH,CAFD,cASC,0BAAI,SAAS,CAAC,wBAAd,EAAwCZ,CAAC,CAAC,oCAAD,CAAzC,CATD,CADF,CAWc,IAZf,cAaI,yBAAG,KAAK,CAAEA,CAAC,CAAC,6BAAD,CAAX,CAA4C,IAAI,CAAC,oBAAjD,CAAsE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC4G,SAAL,EAAN,EAA/E,CAAuG,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAKtJ,KAAL,CAAWY,WAAX,GAA2B,CAA3B,CAA+B,SAA/B,CAA2C,SAApD,CAA+D2I,QAAQ,CAAE,EAAzE,CAA9G,eAA6L,yBAAG,KAAK,CAAC,0BAAT,CAAoC,cAAY,MAAhD,EAA7L,CAbJ,CADF,CA5IF,cA8JE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,iCAAQ9G,CAAC,CAAC,0BAAD,CAAT,KADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,kBAA5B,CAA+C,EAAE,CAAC,kBAAlD,CAAqE,WAAW,CAAEA,CAAC,CAAC,gCAAD,CAAnF,CAAuH,KAAK,CAAE,KAAKzC,KAAL,CAAWQ,gBAAzI,CAA2J,QAAQ,CAAE,kBAAAsD,CAAC,QAAI,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAJ,EAAtK,CAAgM,UAAU,CAAE,IAA5M,EAFF,cAGE,0BAAI,SAAS,CAAC,wBAAd,EAAwCrB,CAAC,CAAC,gCAAD,CAAzC,CAHF,CADF,CADF,CA9JF,CAuKGhD,YAAY,CAAC0C,gBAAb,GAAgCyG,iBAAhC,EAAqD,cAArD,cACE,oBAAC,GAAD,mBACG,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,8DADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,gBAAZ,CAA6B,EAAE,CAAC,UAAhC,CAA2C,IAAI,CAAC,UAAhD,CACI,KAAK,CAAE,KAAK5I,KAAL,CAAWiC,QADtB,CAEI,QAAQ,CAAE,kBAAC6B,CAAD,QAAO,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAqB,UAArB,CAAP,EAFd,EAFJ,CADJ,CADH,CADF,CAYE,IAnLL,cAoLE,oBAAC,GAAD,EAAK,SAAS,CAAC,aAAf,eACE,oBAAC,GAAD,MACI,KAAK9D,KAAL,CAAWoE,UAAZ,CAEI3E,YAAY,CAAC0C,gBAAb,GAAgCyG,iBAAhC,EAAqD,cAArD,cACD,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnH,oBAAL,EAAN,EAA9B,eAAiE,yBAAG,KAAK,CAAC,aAAT,EAAjE,SADF,CAC0G,GAD1G,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACa,gBAAL,EAAN,EAA9B,eAA6D,yBAAG,KAAK,CAAC,kBAAT,EAA7D,WAFF,CADC,cAMD,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvC,SAAL,EAAN,EAA9B,eAAsD,yBAAG,KAAK,CAAC,aAAT,EAAtD,SADF,CAC+F,GAD/F,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACoB,KAAL,EAAN,EAA9B,eAAkD,yBAAG,KAAK,CAAC,kBAAT,EAAlD,WAFF,CARH,CAcI1B,YAAY,CAAC0C,gBAAb,GAAgCyG,iBAAhC,EAAqD,cAArD,cACD,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnH,oBAAL,EAAN,EAA9B,eAAiE,yBAAG,KAAK,CAAC,aAAT,EAAjE,SADF,CAC0G,GAD1G,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACa,gBAAL,EAAN,EAA9B,eAA6D,yBAAG,KAAK,CAAC,kBAAT,EAA7D,WAFF,CADC,cAMD,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvC,SAAL,EAAN,EAA9B,eAAsD,yBAAG,KAAK,CAAC,aAAT,EAAtD,SADF,CAC+F,GAD/F,cAEE,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACoB,KAAL,EAAN,EAA9B,eAAkD,yBAAG,KAAK,CAAC,kBAAT,EAAlD,WAFF,CArBN,CADF,CApLF,CADF,CAPF,CAFF,cAiOE,2BAAK,SAAS,CAAC,kBAAf,eACE,8BAAK,KAAKnB,KAAL,CAAW0E,QAAX,CAAoB8E,MAAzB,UADF,cAEE,8BACG,KAAKxJ,KAAL,CAAW0E,QAAX,CAAoBoE,GAApB,CAAwB,SAACW,KAAD,CAAQN,CAAR,CAAc,CACrC,mBACE,2CACE,2BAAK,SAAS,CAAC,gBAAf,eACE,4BAAM,KAAK,CAAE,CAAEG,KAAK,CAAEG,KAAK,CAAClF,MAAN,CAAaxC,IAAb,CAAkB,CAAlB,IAAyB,CAAzB,CAA6B,SAA7B,CAAyC,SAAlD,CAAb,eAA4E,yBAAG,KAAK,CAAC,0BAAT,CAAoC,cAAY,MAAhD,EAA5E,CADF,cAEE,8BAAK0H,KAAK,CAACnF,QAAX,CAFF,CAKS,CAACmF,KAAK,CAACC,WAAN,EAAqB,IAArB,EAA6BD,KAAK,CAACC,WAAN,EAAqB,EAAnD,IAA2DD,KAAK,CAACE,YAAN,EAAsB,IAAtB,EAA8BF,KAAK,CAACE,YAAN,EAAsB,EAA/G,EAAsH,IAAtH,cACD,oBAAC,GAAD,MACGF,KAAK,CAACC,WAAN,EAAqB,IAArB,EAA6BD,KAAK,CAACC,WAAN,EAAqB,EAAlD,CAAsD,IAAtD,cACD,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,0CAAG,6CAAH,KAAyBD,KAAK,CAACC,WAA/B,CADF,CAFF,CAMGD,KAAK,CAACE,YAAN,EAAsB,IAAtB,EAA8BF,KAAK,CAACE,YAAN,EAAsB,EAApD,CAAwD,IAAxD,cACD,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,0CAAG,8CAAH,KAA0BF,KAAK,CAACE,YAAhC,CADF,CAPF,CANR,CAmBS,CAACF,KAAK,CAACG,QAAN,EAAkB,IAAlB,EAA0BH,KAAK,CAACG,QAAN,EAAkB,EAA7C,IAAqDH,KAAK,CAACI,MAAN,EAAgB,IAAhB,EAAwBJ,KAAK,CAACI,MAAN,EAAgB,EAA7F,EAAoG,IAApG,cACD,oBAAC,GAAD,MACGJ,KAAK,CAACG,QAAN,EAAkB,IAAlB,EAA0BH,KAAK,CAACG,QAAN,EAAkB,EAA5C,CAAgD,IAAhD,cACC,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,0CAAG,yCAAH,KAAqBH,KAAK,CAACG,QAA3B,CADF,CAFJ,cAME,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EACCH,KAAK,CAACI,MAAN,EAAgB,IAAhB,EAAwBJ,KAAK,CAACI,MAAN,EAAgB,EAAxC,CAA6C,IAA7C,cAAmD,0CAAG,wCAAH,KAAoBJ,KAAK,CAACI,MAA1B,CADpD,CANF,CApBR,CA+BSJ,KAAK,CAACK,gBAAN,EAA0B,qBAA1B,EAAmDL,KAAK,CAACK,gBAAN,EAA0B,IAA7E,EAAqFL,KAAK,CAACK,gBAAN,EAA0B,EAA/G,CAAoH,IAApH,cACC,oBAAC,GAAD,mBACE,oBAAC,GAAD,mBACE,0CAAG,oDAAH,KAAgCtK,MAAM,CAACiK,KAAK,CAACK,gBAAP,CAAN,CAA+BtG,MAA/B,CAAsC/D,YAAY,CAACsK,UAAb,CAAwBC,QAA9D,CAAhC,CADF,CADF,CAhCV,cAuCE,0CACE,oBAAC,YAAD,EACE,KAAK,CAAE,CADT,CAEE,IAAI,CAAC,WAFP,CAGE,IAAI,CAAC,WAHP,CAIE,WAAW,CAAC,EAJd,CAKE,OAAO,CAAE,MAAI,CAACC,cALhB,CAME,QAAQ,CAAE,KANZ,EAOGR,KAAK,CAACpF,QAPT,CADF,CAvCF,cAkDE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,0CAAG,wCAAH,CADF,cAEE,4BAAM,SAAS,CAAC,MAAhB,eAAuB,yBAAG,KAAK,CAAC,YAAT,CAAsB,cAAY,MAAlC,EAAvB,KAAsEoF,KAAK,CAACS,aAAN,CAAqB,GAA3F,CAFF,cAGE,4BAAM,SAAS,CAAC,MAAhB,eAAuB,yBAAG,KAAK,CAAC,gBAAT,CAA0B,cAAY,MAAtC,EAAvB,KAA0E1K,MAAM,CAACiK,KAAK,CAACU,SAAP,CAAN,CAAwB3G,MAAxB,CAA+B/D,YAAY,CAACsK,UAAb,CAAwBC,QAAvD,CAA1E,CAHF,CADF,CAOIP,KAAK,CAACW,aAAN,EAAuB,IAAxB,cACC,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACE,0CAAG,0CAAH,CADF,cAEE,4BAAM,SAAS,CAAC,MAAhB,eAAuB,yBAAG,KAAK,CAAC,YAAT,CAAsB,cAAY,MAAlC,EAAvB,KAAsEX,KAAK,CAACW,aAAN,CAAqB,GAA3F,CAFF,cAGE,4BAAM,SAAS,CAAC,MAAhB,eAAuB,yBAAG,KAAK,CAAC,gBAAT,CAA0B,cAAY,MAAtC,EAAvB,KAA0E5K,MAAM,CAACiK,KAAK,CAACY,SAAP,CAAN,CAAwB7G,MAAxB,CAA+B/D,YAAY,CAACsK,UAAb,CAAwBC,QAAvD,CAA1E,CAHF,CADD,CAMI,IAbP,CAlDF,CADF,CADF,CA4ED,CA7EA,CADH,CAFF,CAjOF,CAPF,CAFF,CADF,CAqUD,C,yBA52BuBvL,S,EA+2B1B,cAAeiB,CAAAA,eAAe,GAAGE,WAAH,CAA9B","sourcesContent":["import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport { Sidebar } from 'primereact/sidebar';\nimport { ScrollPanel } from 'primereact/scrollpanel';\nimport { Button } from 'primereact/button';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { Button as BTN, Row, Col, Input, Card, CardHeader, CardBody, Collapse } from 'reactstrap';\nimport api from '../../utils/apiClient';\nimport APIConstant from '../../utils/constants';\nimport moment from 'moment';\nimport { CommonConfig } from '../../utils/constants';\nimport { withTranslation } from 'react-i18next';\nimport ShowMoreText from 'react-show-more-text';\n\nclass PersonNotes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      Type: [],\n      noteList: [],\n      isImportant: 0,\n      notesType: '',\n      notesdescription: '',\n      NotesTypeError: true,\n      notesdescriptionError: true,\n      noteID: '',\n      isNoteEdit: false,\n      ReasonArray: [],\n      ResponseTypeArray: [],\n      showReasonDD: false,\n      responseType: '',\n      responseTypeError:false,\n      reasonTypeError:false,\n      reasonType: '',\n      DateTime: '',\n      reasonsShow: false,\n      contactMode:'',\n      contactModeError: false,\n      contactModeList:[],\n      renewalMonth:'',\n      renewalMonthList:[],\n      renewalMonthError: false,\n      notesInceptionDate: '',\n      notesInceptionDate1:'',\n      isEditRenewalMonth: false,\n      isEditDate: false,\n      InceptionDate: '',\n\n      SecurityGroupList: [\n          { label: 'New Business', value: 'New Business' },\n          { label: 'Renewal', value: 'Renewal' },\n          { label: 'Underwriting', value: 'Underwriting' },\n      ],\n      \n      EntityId: '',\n      EntityType: '',\n      LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\n\n      addNoteCollapse: false,\n    };\n    // This data we will get from Policy and Contact pages.\n    if (props.NavPage) {\n      this.state.NavPage = props.NavPage;\n      this.state.EntityType = props.NavPage;\n      this.state.InceptionDate = props.inceptionDate;\n    }\n    if (props.NavID) {\n      this.state.NavID = props.NavID;\n      this.state.EntityId = props.NavID;\n    }\n    \n  }\n\n  async componentDidMount() {\n    await this.getDropDownValues('MONTH', 'renewalMonthList');\n    // await this.getPolicyHolder();\n   await this.getDropDownValues('CONTACTMODE', 'contactModeList');\n    // this.getDropDownValues('FOLLOWUPREASON', 'ReasonArray');\n    await this.getDropDownValues('FOLLOWUPRESPONSE', 'ResponseTypeArray');\n    await this.getNoteList();\n    await this.getNotesType();\n  }\n\n\n  async getPolicyHolder() {\n    const data = { policyId: this.state.EntityId };\n    console.log(\"getPolicyHolderDetails\", data);\n    await api.post('api/getPolicyHolderDetails', data).then(res => {\n        console.log(\"getPolicyHolderDetails\", res);\n        if (res.success) {\n            let resdata = res.data[0];\n            console.log(\"getPolicyHolderDetails\", resdata[0]);\n            this.setState({\n                InceptionDate: resdata[0].InceptionDate,\n            });\n        } else {\n        }\n    }).catch(err => {\n        console.log('error', err);\n    });\n}\n\n\n  async getNoteList() {\n    var t = this.state.InceptionDate ? new Date(this.state.InceptionDate) : new Date();\n        \n        var renewalMonth = \"\";\n        if(t.getMonth() + 1 < 10){\n            renewalMonth = \"0\"+ (t.getMonth() + 1);  \n        }  \n        else{\n            renewalMonth = (t.getMonth() + 1);\n        } \n        let renewalValue = this.state.renewalMonthList.filter(x=> x.StringMapKey == renewalMonth);\n        let finalRenewalDate = {\n            value : renewalMonth,\n            label : renewalValue[0].StringMapName\n        }\n        this.setState({ notesInceptionDate: moment(this.state.InceptionDate).format('DD-MM-YYYY'),notesInceptionDate1: moment(this.state.InceptionDate).format('YYYY-MM-DD') , renewalMonth: finalRenewalDate});\n\n\n    const data = {\n      'entityId': this.state.EntityId,\n      'entityType': this.state.EntityType,\n      'CurrentUser': CommonConfig.loggedInUserData().EntityId\n    };\n\n    // if (CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\") {\n      await api.post('api/getNewBusineesNotes', data).then(res => {\n          if (res.success) {\n              console.log(\" new business notes......\", res.data)\n              this.setState({ noteList: res.data });\n          } else {\n              toast.warn(\"No notes found for Policy.\");\n          }\n      }).catch(err => {\n          console.log(\"getNoteList err\", err);\n      });\n    // }else{\n    //   api.post('api/getNotes', data).then(res => {\n    //     if (res.success) {\n    //       console.log(\" new normal notes......\", res.data)\n    //      this.setState({ noteList: res.data });\n    //     } else {\n\n    //     }\n    //   }).catch(err => {\n\n    //   });\n    // } \n  }\n\n  getPolicyHolder() {\n    const data = { policyId: this.props.match.params.id };\n    console.log(\"getPolicyHolderDetails\", data);\n    api.post('api/getPolicyHolderDetails', data).then(res => {\n        console.log(\"getPolicyHolderDetails\", res);\n        if (res.success) {\n            let resdata = res.data[0];\n            console.log(\"getPolicyHolderDetails\", resdata[0]);\n            this.setState({\n                inceptionDate: resdata[0].InceptionDate,\n            });\n        } else {\n\n        }\n    }).catch(err => {\n        console.log('error', err);\n    });\n}\n\n  async getDropDownValues(stringMapType, setStateName) {\n    try {\n        let data = {\n            stringmaptype: stringMapType,\n            orderby: 'sortorder'\n        };\n        if (stringMapType == \"MONTH\"){\n            data = {\n                stringmaptype: stringMapType,\n                orderby: 'StringMapKey'\n            };  \n        }\n        await api.post(APIConstant.path.dropdownbycode, data).then(res => {\n            if (res.success) {\n                this.setState({ [setStateName]: res.data });\n            } else {\n            }\n        }).catch(err => {\n        });\n    } catch (error) {\n        console.log(\"error...\", error);\n    }\n  }\n\n  getDropDownReasonValues(response, setStateName) {\n    try {\n        const data = {\n            StingMapKey: response,\n        };\n        api.post(APIConstant.path.dropdownbycodeforreason, data).then(res => {\n            if (res.success) {\n                console.log(\"ressssssssssssss/....\", res)\n                this.setState({ ReasonArray: res.data[0] });\n            } else {\n            }\n        }).catch(err => {\n        });\n    } catch (error) {\n        console.log(\"error...\", error);\n    }\n  }\n\n  getNotesType() {\n    try {\n      const data = {\n        stringmaptype: 'NOTETYPE'\n      };\n      api.post(APIConstant.path.dropdownbycode, data).then(res => {\n        if (res.success) {\n          this.setState({ Type: res.data });\n        } else {\n\n        }\n      }).catch(err => {\n\n      });\n    } catch (error) {\n\n    }\n  }\n\n  loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n\n  Important() {\n    (this.state.isImportant === 0 ? this.setState({ isImportant: 1 }) : this.setState({ isImportant: 0 }))\n  }\n\n  saveNotes = () => {\n    if (\n      this.state.NotesTypeError === false &&\n      this.state.notesdescriptionError === false) {\n\n      const NotesForm = new FormData();\n      NotesForm.append('noteId', this.state.noteID);\n      NotesForm.append('notesType', this.state.notesType);\n      NotesForm.append('notesdescription', this.state.notesdescription.trim());\n      NotesForm.append('entityid', this.state.EntityId);\n      NotesForm.append('entitytype', this.state.EntityType);\n      NotesForm.append('isflag', this.state.isImportant);\n      NotesForm.append('loggedInUserId', CommonConfig.loggedInUserId());\n      NotesForm.append('languageId', this.state.LanguageId);\n\n      api.post('api/addNotes', NotesForm).then(res => {\n        if (res.success) {\n          this.reset();\n          toast.success('Notes added successfully');\n          toast.success(res.message);\n          this.getNoteList();\n        } else {\n\n        }\n      }).catch(err => {\n      });\n    } else {\n      this.show(\"notesType\", this.state.NotesTypeError);\n      this.show(\"notesdescription\", this.state.notesdescriptionError);\n    }\n  }\n\n  saveNotesNewBusiness = () => {\n    if (this.state.notesdescriptionError === false) {\n        if (this.state.responseType == \"\") {\n            toast.error('Please Select Response Type');\n            return\n        }\n\n        if (this.state.responseType == \"Not Interested\") {\n            if (this.state.reasonType == \"\") {\n                toast.error('Please Select Reason Type');\n                return\n            }\n        }\n\n        if (this.state.contactMode == \"\") {\n            toast.error('Please Select Contact mode');\n            return\n        }\n        \n        if (this.state.renewalMonth == \"\") {\n            toast.error('Please Select Renewal Month');\n            return\n        }\n\n        var data = {\n            'EntityType': 'Policy',\n            'EntityId': this.state.NavID,\n            'PolicyId': this.state.NavID,\n            'isflag': this.state.isImportant,\n            'Response': this.state.responseType,\n            'Reason': this.state.reasonType,\n            'NoteText': this.state.notesdescription.trim(),\n            'FollowUpDateTime': this.state.DateTime,\n            // 'RenewalMonth': this.state.renewalMonth,\n            'InceptionDate': this.state.notesInceptionDate1,\n            'ContactMode': this.state.contactMode,\n            'CurrentUser': CommonConfig.loggedInUserData().EntityId\n        }\n        console.log(\"dataaaaaa..........\",data)\n        api.post('api/saveFollowUpNote', data).then(res => {\n            if (res.data.success) {\n                toast.success('Follow-Up note added successfully');\n                this.resetNewBusiness();\n                this.getNoteList({ PolicyId: this.state.NavID });\n                \n            } else {\n                toast.error(res.data.msg);\n            }\n        }).catch(err => {\n        });\n    } else {\n        if(this.state.responseType ==''){\n            this.show(\"responseType\", true, \"responseTypeError\" , \"Please Select Response\" )\n        }\n        if(this.state.contactMode ==''){\n            this.show(\"contactMode\", true, \"contactModeError\" , \"Please Select Contact mode\" )\n        }\n        if(this.state.renewalMonth ==''){\n            this.show(\"renewalMonth\", true, \"renewalMonthError\" , \"Please Select Renewal month\" )\n        }\n        this.show(\"notesType\", this.state.NotesTypeError);\n        this.show(\"notesdescription\", this.state.notesdescriptionError);\n    }\n}\n\n  resetNewBusiness = () => {\n    var t = new Date(this.state.InceptionDate);\n        \n        var renewalMonth = \"\";\n        if(t.getMonth() + 1 < 10){\n            renewalMonth = \"0\"+ (t.getMonth() + 1);  \n        }  \n        else{\n            renewalMonth = (t.getMonth() + 1);\n        } \n        let renewalValue = this.state.renewalMonthList.filter(x=> x.StringMapKey == renewalMonth);\n        let finalRenewalDate = {\n            value : renewalMonth,\n            label : renewalValue[0].StringMapName\n        }\n\n    this.setState({\n      notesdescription: '', notesdescriptionError: true,\n      responseType: '',\n      notesInceptionDate: moment(this.state.InceptionDate).format('DD-MM-YYYY'),\n      notesInceptionDate1: moment(this.state.inceptionDate).format('YYYY-MM-DD'),\n      reasonType: '',\n      DateTime: '',\n      renewalMonth: finalRenewalDate,\n      contactMode:'',\n      isImportant: 0,\n      isEditDate:false,\n      isEditRenewalMonth: false,\n    });\n    this.show(\"notesdescription\", false);\n\n    this.setState({ addNoteCollapse: false });\n  }\n\n\n  // show(field, condition) {\n  //   if (condition) {\n  //     document.getElementById(field).className = \"form-control is-invalid\";\n  //   } else {\n  //     document.getElementById(field).className = \"form-control\";\n  //   }\n  // }\n\n  show(field, condition, errorField, message) {\n    if (condition) {\n        if (document.getElementById(field))\n            document.getElementById(field).className = \"form-control is-invalid\";\n\n        if (document.getElementById(errorField))\n            document.getElementById(errorField).innerHTML = '<p>' + message + ' </p>';\n    } else {\n        if (document.getElementById(field))\n            document.getElementById(field).className = \"form-control\";\n\n        if (document.getElementById(errorField))\n            document.getElementById(errorField).innerHTML = null;\n    }\n  }\n\n  selectType1(value, type) {\n    if (value === '' || value === null) {\n      this.setState({ NotesTypeError: true, notesType: value });\n      this.show('notesType', true);\n    } else {\n      this.setState({ NotesTypeError: false, notesType: value });\n      this.show('notesType', false);\n    }\n  }\n\n  selectType(value , type){\n    if (type === 'responseType') {\n\n      if (value === '' || value === undefined || value === null) {\n          this.setState({ responseType: '', responseTypeError: true ,showReasonDD: false });\n          this.show('responseType', true ,\"responseTypeError\", \"Please select Response\")\n      } else {\n          this.setState({ responseType: value.value , responseTypeError:false});\n          this.show('responseType', false ,\"responseTypeError\", \"\")\n\n          this.getDropDownReasonValues(value.value, 'ReasonArray')\n          \n          if (value.value == \"Not Interested\" || value.value == \"Lost\" || value.value == \"Purge\"|| value.value == \"Abandoned\" ){\n            this.setState({showReasonDD: true});\n          }else{\n            this.setState({showReasonDD: false});\n          }\n      }\n    }\n\n    if (type === 'reasonType') {\n      if (value === '' || value === undefined || value === null) {\n          this.setState({ reasonType: '', reasonTypeError: true });\n          this.show('reasonType', true ,\"reasonTypeError\", \"Please select Reason\")\n      } else {\n          this.setState({ reasonType: value.value ,reasonTypeError:false});\n          this.show('reasonType', false ,\"reasonTypeError\", \"\");\n      }\n    }\n\n    if (type === 'contactMode') {\n      if (value.value == '' || value.value == undefined || value.value == null) {\n          this.setState({ contactMode: '', contactModeError: true });\n          this.show('contactMode', true, \"contactModeError\", \"Please select Contact mode\");\n      } else {\n          this.setState({ contactMode: value.value, contactModeError: false });\n          this.show('contactMode', false, \"contactModeError\", \"\");\n      }\n    }\n\n    if (type === 'renewalMonth') {\n      if (value.value == '' || value.value == undefined || value.value == null) {\n          this.setState({ renewalMonth: '', renewalMonthError:true });\n          this.show('renewalMonth', true, \"renewalMonthError\", \"Please select Renewal month\");\n      } else {\n        var date = new Date();\n        var ShowMonth = value.value;\n         console.log(ShowMonth);\n\n        var curmonth = new Date().getMonth() + 1;\n        console.log(curmonth);\n        if (ShowMonth < curmonth)\n\n            var curyear = new Date().getFullYear() + 1;\n        else\n            var curyear = new Date().getFullYear();\n        console.log(\"curyear\", curyear);\n\n        var inceptionDate = moment([parseInt(curyear), parseInt(value.value) - 1]).format('DD-MM-YYYY');\n        var inceptionDate1 = moment([parseInt(curyear), parseInt(value.value) - 1]).format('YYYY-MM-DD');\n        this.setState({ renewalMonth: value.value, renewalMonthError:true , notesInceptionDate: inceptionDate,notesInceptionDate1: inceptionDate1 });\n        this.show('renewalMonth', false, \"renewalMonthError\", \"\");\n          // this.setState({ renewalMonth: value.value, renewalMonthError:true });\n          // this.show('renewalMonth', false, \"renewalMonthError\", \"\");\n\n      }\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n    if (e.target.name === 'notesdescription') {\n      if (CommonConfig.isEmpty(e.target.value)) {\n        this.setState({ notesdescriptionError: true });\n        this.show(\"notesdescription\", true);\n      } else {\n        this.setState({ notesdescriptionError: false, notesdescription: e.target.value });\n        this.show(\"notesdescription\", false);\n      }\n    }\n    if(e.target.name === 'inceptionDate'){\n      if (CommonConfig.isEmpty(e.target.value)) {\n          this.setState({ inceptionDateError: true });\n          this.show(\"inceptionDate\", true, \"inceptionDateError\", \"Please enter Inception Date\");\n      }else {  \n          var t = new Date(e.target.value);\n          var renewalMonth = \"\";\n          if(t.getMonth() + 1 < 10){\n              renewalMonth = \"0\"+ (t.getMonth() + 1);  \n          }  \n          else{\n              renewalMonth = (t.getMonth() + 1);\n          } \n          let data = this.state.renewalMonthList.filter(x=> x.StringMapKey == renewalMonth);\n          var inceptionDate = moment(e.target.value).format('DD-MM-YYYY');                \n          console.log(\"data.......\",e.target.value);\n          let finalRenewalDate = {\n              value : renewalMonth,\n              label : data[0].StringMapName\n          }\n          this.setState({ notesInceptionDate: inceptionDate ,notesInceptionDate1: e.target.value, inceptionDateError: false ,renewalMonth: finalRenewalDate });\n          this.show('inceptionDate', false , \"inceptionDateError\", \"\");\n      }\n    }\n  }\n\n  editDate(task) {\n    if (task == \"view\") {\n        this.setState({ isEditDate: false });\n    } else {\n        this.setState({ isEditDate: true });\n    }\n  }\n\neditRenewalMonth(task){\n    if(task == 'view'){\n        this.setState({ isEditRenewalMonth : false});\n    } else {\n        this.setState({ isEditRenewalMonth: true });\n    }\n}\n\n  updateNotes = (data) => {\n    this.setState({\n      isNoteEdit: true, notesdescription: data.NoteText, notesdescriptionError: false,\n      notesType: data.NoteType, NotesTypeError: false, isImportant: data.IsFlag.data[0],\n      noteID: data.NoteId, addNoteCollapse: true\n    });\n    this.show(\"notesdescription\", false);\n    this.show('notesType', false);\n  }\n\n  reset = () => {\n    this.setState({\n      isNoteEdit: false, notesdescription: '', notesdescriptionError: true,\n      notesType: '', NotesTypeError: true,\n      noteID: '', isImportant: 0,\n    });\n    this.show(\"notesdescription\", false);\n    this.show('notesType', false);\n  }\n\n  executeOnClick(isExpanded) {\n  }\n\n  HideSideBar() {\n    this.setState({ visible: false });\n    this.reset();\n  }\n\n  render() {\n    const { t, i18n } = this.props;\n    const SaveButton = t(\"buttons.Save\");\n    const AddButton = t(\"buttons.Add\");\n    const EditButton = t(\"buttons.Edit\");\n    const DeleteButton = t(\"buttons.Delete\");\n    const CloseButton = t(\"buttons.Close\");\n    const BackButton = t(\"buttons.Back\");\n    const UpdateButton = t(\"buttons.Update\");\n\n    return (\n      <div>\n        <a onClick={(e) => this.setState({ visible: true })}>Notes</a>\n        <Sidebar showCloseIcon={false} blockScroll={true} visible={this.state.visible} position=\"right\" onHide={(e) => this.HideSideBar()} style={{ width: 900 }}>\n\n          <div>\n            <span className=\"text-left float-right\" onClick={(e) => this.HideSideBar()}>\n              <i className=\"fa fa-close\"></i>\n            </span>\n          </div>\n          <ScrollPanel style={{ width: '100%', height: '92%', paddingLeft: \"20px\", paddingRight: \"20px\" }}>\n\n            <Card className=\"mb-0\">\n              <CardHeader id=\"headingOne\">\n                <BTN block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.setState({ addNoteCollapse: !this.state.addNoteCollapse })} aria-expanded={this.state.addNoteCollapse} aria-controls=\"collapseOne\">\n                  <h5 className=\"m-0 p-0\"> {(this.state.isNoteEdit) ? t(\"contactNotes:EditNotes\") : t(\"contactNotes:AddNotes\")} <i style={{ float: \"right\" }} className={this.state.addNoteCollapse ? \"fa fa-chevron-up\" : \"fa fa-chevron-down\"}></i> </h5>\n                </BTN>\n              </CardHeader>\n\n              <Collapse isOpen={this.state.addNoteCollapse} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\n                <form onSubmit={this.handleSubmit} style={{ padding: 10 }}>\n                {CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\" ?\n                                        (<>\n                                        {/* <Row>\n                                            <Col md='2'>\n                                                <label>Contact Mode</label>\n                                            </Col>\n                                            <Col md='3'>\n                                                    <Input type=\"select\" name =\"contactMode\" id=\"contactMode\" onChange={(e) => this.selectType(e.target,'contactMode')} value={this.state.contactMode}>\n                                                    <option value=''>Select</option>\n                                                    {this.state.contactModeList.map((x) => {\n                                                        return(<option value={x.StringMapKey}>{x.StringMapName}</option>)\n                                                    })\n                                                    }\n                                                    </Input>\n                                                    <em id=\"contactModeError\" className=\"error invalid-feedback\"></em>\n                                            </Col>\n                                            <Col md='2'>\n                                                <label> Renewal Month</label>\n                                            </Col>\n                                            <Col md='2'>\n                                                    <Input type=\"select\" name =\"renewalMonth\" id=\"renewalMonth\" onChange={(e) => this.selectType(e.target,'renewalMonth')} value={this.state.renewalMonth}>\n                                                    <option value=''>Select</option>\n                                                    {this.state.renewalMonthList.map((x) => {\n                                                        return(<option value={x.StringMapKey}>{x.StringMapName}</option>)\n                                                    })\n                                                    }    \n                                                    </Input>\n                                                    <em id=\"renewalMonthError\" className=\"error invalid-feedback\"></em>\n                                                \n                                            </Col>\n                                        </Row> */}\n                                                                                <Row>\n                                            <Col md='4'>\n                                                <label>Contact Mode</label>\n\n                                                    <Input type=\"select\" name =\"contactMode\" id=\"contactMode\" onChange={(e) => this.selectType(e.target,'contactMode')} value={this.state.contactMode}>\n                                                    <option value=''>Select</option>\n                                                    {this.state.contactModeList.map((x) => {\n                                                        return(<option value={x.StringMapKey}>{x.StringMapName}</option>)\n                                                    })\n                                                    }\n                                                    </Input>\n                                                    <em id=\"contactModeError\" className=\"error invalid-feedback\"></em>\n\n                                                {/* </div> */}\n                                            </Col>\n                                            {!this.state.isEditRenewalMonth ? \n                                            <Col md='4'>\n                                                <label> Renewal Month : {CommonConfig.isEmpty(this.state.renewalMonth) !== true ? this.state.renewalMonth.label : this.state.renewalMonth}</label>\n                                                <>\n                                                    <BTN style={{ float: \"right\" }} color=\"primary\"\n                                                        onClick={this.state.isEditRenewalMonth ? () => this.editRenewalMonth(\"view\") : () => this.editRenewalMonth(\"edit\")}\n                                                    >\n                                                    <i className=\"fa fa-pencil\"></i>\n                                                        \n                                                    </BTN>\n                                                    </>\n                                            </Col>\n                                            :\n                                            <Col md='4'>\n                                                <>\n                                                <label> Renewal Month :</label>\n\n                                                    <Input type=\"select\" name =\"renewalMonth\" id=\"renewalMonth\" onChange={(e) => this.selectType(e.target,'renewalMonth')} value={this.state.renewalMonth.value}>\n                                                    <option value=''>Select</option>\n                                                    {this.state.renewalMonthList.map((x) => {\n                                                        return(<option value={x.StringMapKey}>{x.StringMapName}</option>)\n                                                    })\n                                                    }    \n                                                    </Input>\n                                                    <em id=\"renewalMonthError\" className=\"error invalid-feedback\"></em>\n                                                {/* </div> */}\n                                                </>\n                                                 \n                                            </Col>\n                                            }\n                                            {!this.state.isEditDate?\n                                            <Col md='4'>\n                                                <label>Inception date: {this.state.notesInceptionDate}</label>\n                                                \n                                                <BTN style={{ float: \"right\" }} color=\"primary\"\n                                                    onClick={this.state.isEditDate ? () => this.editDate(\"view\") : () => this.editDate(\"edit\")}\n                                                >\n                                                <i className=\"fa fa-pencil\"></i>\n                                                </BTN>\n                                                \n                                            </Col>\n                                            :<Col md='4'>\n                                                <label>Inception date: {this.state.notesInceptionDate}</label>\n                                                <div>\n                                                    <Input type=\"date\" name=\"inceptionDate\" id=\"inceptionDate\"\n                                                        placeholder=\"Inception Date\"\n                                                        style={{ width: '80%', display: \"inline-block\" }}\n                                                        onChange={(e) => this.handleChange(e ,'inceptionDate')}\n                                                        value={this.state.notesInceptionDate1}\n                                                    />\n                                                    <em id=\"iceptionDateError\" className=\"error invalid-feedback\"></em>\n                                                </div>\n\n                                                {/* <label>Inception date: </label>\n                                                <Input type=\"date\" id=\"inceptionDate\" name=\"inceptionDate\"\n                                                        value={moment(this.state.notesInceptionDate).format('DD-MM-YYYY')}\n                                                        onChange={(e) => this.handleChange(e, 'inceptionDate')}\n                                                >\n                                                </Input>\n                                                <em id=\"iceptionDateError\" className=\"error invalid-feedback\"></em> */}\n                                            </Col>\n                                            }\n                                        </Row>\n                                        <Row>\n                                            <Col md=\"3\">\n                                                <div className=\"input-box with-icon\">\n                                                    <label>Response*</label>\n                                                    <Input type=\"select\" name=\"responseType\" id=\"responseType\" onChange={(e) => this.selectType(e.target, 'responseType')} value={this.state.responseType}>\n                                                        <option value=''>Select</option>\n                                                        {this.state.ResponseTypeArray.map((ct, i) => {\n                                                            return (<option value={ct.StringMapKey}>{ct.StringMapName}</option>)\n                                                        })\n                                                        }\n                                                    </Input>\n                                                    <em id=\"responseTypeError\" className=\"error invalid-feedback\"></em>\n                                                </div>\n                                            </Col>\n                                            {this.state.showReasonDD ?\n                                                (<Col md=\"6\">\n                                                    <div className=\"input-box with-icon\">\n                                                        <label>Reason</label>\n                                                        <Input type=\"select\" name=\"reasonType\" id=\"reasonType\" onChange={(e) => this.selectType(e.target, 'reasonType')} value={this.state.reasonType}>\n                                                            <option value=''>Select</option>\n                                                            {this.state.ReasonArray.map((ct, i) => {\n                                                                return (<option value={ct.StringMapKey}>{ct.StringMapName}</option>)\n                                                            })\n                                                            }\n                                                        </Input>\n                                                    </div>\n                                                </Col>) : (null)}\n                                        </Row>\n                                        </>) \n                                    : (null)}\n                  <Row>\n                    <Col md=\"6\">\n                    {CommonConfig.loggedInUserData().SecurityGroupName != \"New Business\" ?\n                      (<div className=\"input-box with-icon\">\n                        <label>{t(\"contactNotes:NotesType.label\")}*</label>\n                        <Input type=\"select\" name=\"notesType\" id=\"notesType\" onChange={(e) => this.selectType1(e.target.value, 'notesType')} value={this.state.notesType}>\n                          <option value=''>{t(\"contactNotes:NotesType.placeholder\")}</option>\n                          {this.state.Type.map((ct, i) => {\n                            return (<option value={ct.StringMapKey}>{ct.StringMapName}</option>)\n                          })\n                          }\n                        </Input>\n                        <em className=\"error invalid-feedback\">{t(\"contactNotes:NotesType.error_blank\")}</em>\n                        </div>) : (null)}\n                        <a title={t(\"contactNotes:ImportantNotes\")} href=\"javascript:void(0)\" onClick={() => this.Important()} style={{ color: this.state.isImportant === 0 ? '#aaaaaa' : '#ff0000', fontSize: 25 }}><i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i></a>\n                      {/* </div> */}\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col md=\"12\">\n                      <div className=\"input-box\">\n                        <label>{t(\"contactNotes:Notes.label\")}*</label>\n                        <Input type=\"textarea\" name=\"notesdescription\" id=\"notesdescription\" placeholder={t(\"contactNotes:Notes.placeholder\")} value={this.state.notesdescription} onChange={e => this.handleChange(e)} autoResize={true} />\n                        <em className=\"error invalid-feedback\">{t(\"contactNotes:Notes.error_blank\")}</em>\n                      </div>\n                    </Col>\n                  </Row>\n                  {CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\" ?\n                    (<Row>\n                        <Col md=\"6\">\n                            <div className=\"input-box with-icon\">\n                                <label>Next Follow-Up Date & Time</label>\n                                <Input type=\"datetime-local\" id=\"DateTime\" name=\"DateTime\"\n                                    value={this.state.DateTime}\n                                    onChange={(e) => this.handleChange(e, 'DateTime')}>\n                                </Input>\n                            </div>\n                        </Col>\n                    </Row>)\n                  : (null)}\n                  <Row className=\"text-center\">\n                    <Col>\n                      {(this.state.isNoteEdit) ?\n                        (\n                          (CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\" ?\n                          <div className=\"pull-right\">\n                            <BTN color=\"success\" onClick={() => this.saveNotesNewBusiness()}><i class=\"fa fa-check\"></i> Save</BTN>{' '}\n                            <BTN color=\"primary\" onClick={() => this.resetNewBusiness()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\n                          </div>\n                          :\n                          <div className=\"pull-right\">\n                            <BTN color=\"success\" onClick={() => this.saveNotes()}><i class=\"fa fa-check\"></i> Save</BTN>{' '}\n                            <BTN color=\"primary\" onClick={() => this.reset()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\n                          </div>\n                          )\n                        ) : (\n                          (CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\" ?\n                          <div className=\"pull-right\">\n                            <BTN color=\"success\" onClick={() => this.saveNotesNewBusiness()}><i class=\"fa fa-check\"></i> Save</BTN>{' '}\n                            <BTN color=\"primary\" onClick={() => this.resetNewBusiness()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\n                          </div>\n                          :\n                          <div className=\"pull-right\">\n                            <BTN color=\"success\" onClick={() => this.saveNotes()}><i class=\"fa fa-check\"></i> Save</BTN>{' '}\n                            <BTN color=\"primary\" onClick={() => this.reset()}><i class=\"fa fa-angle-left\"></i> Cancel</BTN>\n                          </div>\n                          )\n                        )\n                      }\n                    </Col>\n                  </Row>\n                </form>\n              </Collapse>\n            </Card>\n\n            <div className=\"added-note-outer\">\n              <h4>{this.state.noteList.length} notes</h4>\n              <ul>\n                {this.state.noteList.map((notes, i) => {\n                  return (\n                    <li>\n                      <div className=\"addednote-left\">\n                        <span style={{ color: notes.IsFlag.data[0] === 0 ? '#aaaaaa' : '#ff0000' }}><i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i></span>\n                        <h3>{notes.NoteType}</h3>\n                        {/* {(CommonConfig.loggedInUserData().SecurityGroupName == \"New Business\") ?\n                          (<div> */}\n                              {(notes.ContactMode == null || notes.ContactMode == '') && (notes.RenewalMonth == null || notes.RenewalMonth == '' ) ? null:\n                              <Row>\n                                {notes.ContactMode == null || notes.ContactMode == ''? null :\n                                <Col md='6'>\n                                  <p><b>Contact Mode:</b> {notes.ContactMode}</p> \n                                </Col>\n                                }\n                                {notes.RenewalMonth == null || notes.RenewalMonth == ''? null:\n                                <Col md='6'>\n                                  <p><b>Renewal Month:</b> {notes.RenewalMonth}</p> \n                                </Col>\n                                }\n                              </Row>\n                              }\n                              {(notes.Response == null || notes.Response == '') && (notes.Reason == null || notes.Reason == '' ) ? null:\n                              <Row>\n                                {notes.Response == null || notes.Response == ''? null:\n                                  <Col md=\"6\">\n                                    <p><b>Response:</b> {notes.Response}</p> \n                                  </Col>\n                                }\n                                <Col md='6'>\n                                {notes.Reason == null || notes.Reason == '' ? null: <p><b>Reason: </b> {notes.Reason}</p> }\n                                </Col>\n                              </Row>\n                              }\n                              {notes.FollowUpDateTime == '0000-00-00 00:00:00' || notes.FollowUpDateTime == null || notes.FollowUpDateTime == \"\" ? null :\n                                <Row>\n                                  <Col>\n                                    <p><b>Follow Up DateTime: </b> {moment(notes.FollowUpDateTime).format(CommonConfig.dateFormat.dateTime)}</p> \n                                  </Col>\n                                </Row>\n                             }\n                            \n                        <p>\n                          <ShowMoreText\n                            lines={2}\n                            more='Show more'\n                            less='Show less'\n                            anchorClass=''\n                            onClick={this.executeOnClick}\n                            expanded={false}>\n                            {notes.NoteText}\n                          </ShowMoreText>\n                        </p>\n                        <Row>\n                          <Col md='8'>\n                            <p><b>Added By</b></p>\n                            <span className=\"date\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i> {notes.CreatedByName +\" \" }</span>\n                            <span className=\"date\"><i class=\"fa fa-calendar\" aria-hidden=\"true\"></i> {moment(notes.CreatedOn).format(CommonConfig.dateFormat.dateTime)}\n                            </span>\n                          </Col>\n                          {(notes.UpdatedByName != null) ? (\n                            <Col md='8'>\n                              <p><b>Updated By</b></p>\n                              <span className=\"date\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i> {notes.UpdatedByName +\" \" }</span>\n                              <span className=\"date\"><i class=\"fa fa-calendar\" aria-hidden=\"true\"></i> {moment(notes.UpdatedOn).format(CommonConfig.dateFormat.dateTime)}</span>\n                            </Col>\n                          ) : (null)}\n                        </Row>\n                      </div>\n\n                      {/* {(notes.NoteTitle == 'Manual Refer Policy' || notes.NoteTitle == 'Manual Refer Policy(H)' || notes.NoteTitle == 'Sum Insured Updated' || notes.NoteTitle == 'System Refer Policy' || notes.NoteTitle == 'System Refer Policy(H)' || notes.NoteTitle == 'Mooring Information Updated') ? (null) : (\n                        <div className=\"addednote-right\">\n                          <Button type=\"button\" icon=\"pi pi-pencil\" tooltip=\"Edit\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.updateNotes(notes)}></Button>\n                        </div>\n                      )} */}\n                    </li>\n                  )\n                })\n                }\n              </ul>\n            </div>\n\n          </ScrollPanel>\n\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(PersonNotes);\n"]},"metadata":{},"sourceType":"module"}