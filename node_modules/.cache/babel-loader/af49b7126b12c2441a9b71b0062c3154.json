{"ast":null,"code":"var _jsxFileName = \"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Binder/BinderManage.js\";\nimport React, { Component } from 'react';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Col, Row, Modal, ModalBody, ModalHeader, ModalFooter, Button as BTN, Input } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport APIConstant from '../../utils/constants';\nimport { CommonConfig } from '../../utils/constants';\nimport api from '../../utils/apiClient';\nimport moment from 'moment';\nimport { toast } from 'react-toastify';\n\nclass BinderManage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPageString = e => {\n      let firstPage = e.first + 1;\n      let l = e.rows * (e.page + 1);\n      let lastPage = l < this.state.binderArray.length ? l : this.state.binderArray.length;\n      var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.binderArray.length + ' records';\n      this.setState({\n        selectedPage: e.first,\n        str: str,\n        rowsPerPage: e.rows\n      });\n    };\n\n    this.openDeleteModal = rowData => {\n      debugger;\n      this.setState({\n        toggleModal: !this.state.toggleModal,\n        BinderId: rowData.BinderId,\n        BinderUMRN: rowData.UMRN,\n        BinderNumber: rowData.BinderCode\n      });\n    };\n\n    this.toggleLarge = () => {\n      this.setState({\n        toggleModal: false,\n        BinderId: \"\",\n        BinderUMRN: \"\",\n        BinderNumber: \"\"\n      });\n    };\n\n    let columns = [{\n      field: \"BinderCode\",\n      header: \"Binder Code\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 0\n    }, {\n      field: \"UMRN\",\n      header: \"UMRN\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 1\n    }, {\n      field: \"BinderName\",\n      header: \"Binder Name\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 3\n    }, {\n      field: \"InsuranceCompanyName\",\n      header: \"Insurance Company\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 4\n    }, {\n      field: \"LiveStartDate\",\n      header: \"Start / End Date\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 5\n    }, {\n      field: \"RunoffStartDate\",\n      header: \"Runoff Date\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 6\n    }, {\n      field: \"IsRated\",\n      header: \"Type\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 7\n    }, {\n      field: \"Status\",\n      header: \"Status\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 8\n    }, {\n      field: \"GrossCommission\",\n      header: \"Loss Ratio\",\n      sortable: true,\n      filter: true,\n      filterMatchMode: 'contains',\n      id: 9\n    }, {\n      body: this.actionTemplate.bind(this),\n      header: \"Action\",\n      sortable: false,\n      filter: false,\n      id: 10\n    }];\n    this.state = {\n      selectedLanguage: props.i18n.language === 'en' ? 'en-GB' : props.i18n.language === 'es' ? 'es-ES' : props.i18n.language === 'ie' ? 'en-IE' : props.i18n.language,\n      cols: columns,\n      binderArray: [],\n      binderOriginalArray: [],\n      selectedPage: 0,\n      rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n      rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n      globalFilter: null,\n      paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n    };\n    this.colOptions = [];\n\n    for (let col of columns) {\n      this.colOptions.push({\n        label: col.header,\n        value: col\n      });\n    }\n\n    this.onColumnToggle = this.onColumnToggle.bind(this);\n    this.actionTemplate = this.actionTemplate.bind(this);\n    this.export = this.export.bind(this);\n  }\n\n  onColumnToggle(event) {\n    let valueInOrder = event.value.sort((x, y) => {\n      return x.id - y.id;\n    });\n    this.setState({\n      cols: valueInOrder\n    });\n  }\n\n  export() {\n    this.dt.exportCSV();\n  }\n\n  actionTemplate(rowData, column) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-eye\",\n      className: \"p-button-warning\",\n      onClick: () => this.editBinder(rowData),\n      style: {\n        marginRight: '.5em'\n      },\n      tooltip: \"View\",\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-trash\",\n      className: \"p-button-danger\",\n      tooltip: \"Delete\",\n      onClick: () => this.openDeleteModal(rowData),\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    this.getBinderList();\n  }\n\n  getBinderList() {\n    let data = {};\n    api.post(APIConstant.path.getBinder, data).then(res => {\n      console.log(res);\n\n      if (res.success) {\n        console.log(\"===========Binder List Data\");\n        console.log(res.data);\n        this.setState({\n          binderOriginalArray: res.data,\n          binderArray: res.data.map(obj => {\n            return {\n              \"BinderId\": obj.BinderId,\n              \"BinderCode\": obj.BinderCode,\n              \"UMRN\": obj.UMRN,\n              \"BinderName\": obj.BinderName,\n              \"InsuranceCompanyId\": obj.InsuranceCompanyId,\n              \"InsuranceCompanyName\": obj.InsuranceCompanyName,\n              \"LiveStartDate\": '(' + (obj.LiveStartDate != null ? moment(obj.LiveStartDate).format(CommonConfig.dateFormat.forDatePicker) : '') + ')' + \"- (\" + (obj.LiveEndDate != null ? moment(obj.LiveEndDate).format(CommonConfig.dateFormat.forDatePicker) : '') + \")\",\n              \"RunoffStartDate\": '(' + (obj.RunoffStartDate != null ? moment(obj.RunoffStartDate).format(CommonConfig.dateFormat.forDatePicker) : '') + ')' + \"- (\" + (obj.RunoffEndDate != null ? moment(obj.RunoffEndDate).format(CommonConfig.dateFormat.forDatePicker) : '') + \")\",\n              \"IsRated\": obj.IsRated.data[0] == 0 ? \"Non Rated\" : \"Rated\",\n              \"Status\": obj.Status,\n              \"GrossCommission\": obj.GrossCommission\n            };\n          })\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  deleteBinder() {\n    let data = {\n      \"BinderId\": this.state.BinderId,\n      \"UserId\": CommonConfig.loggedInUserId()\n    };\n    api.post(APIConstant.path.deleteBinder, data).then(res => {\n      if (res.success) {\n        if (res.data[0][0].ErrorMsg !== \"\") {\n          console.log(res.data[0][0]);\n          toast.error(res.data[0][0].ErrorMsg);\n        } else {\n          toast.success(\"Binder successfully deleted\");\n        }\n\n        this.getBinderList();\n        this.toggleLarge();\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  editBinder(event) {\n    let index = this.state.binderArray.findIndex(x => x.BinderId === event.BinderId);\n\n    if (index !== -1) {\n      let originaldata = this.state.binderOriginalArray[index];\n      this.props.history.push({\n        pathname: '/Master/AddUpdateBinder/' + event.BinderId,\n        search: '',\n        state: {\n          BinderData: originaldata\n        }\n      });\n    }\n  }\n\n  addBinder() {\n    this.props.history.push('/Master/AddUpdateBinder/' + \"\");\n  }\n\n  render() {\n    var header = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MultiSelect, {\n      value: this.state.cols,\n      options: this.colOptions,\n      fixedPlaceholder: true,\n      placeholder: CommonConfig.dataTableConfig.columnToggleIcon,\n      tooltip: \"Show / Hide Column\",\n      onChange: this.onColumnToggle,\n      style: {\n        width: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"pi pi-search\",\n      style: {\n        margin: '4px 4px 0 0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(InputText, {\n      type: \"search\",\n      onInput: e => this.setState({\n        globalFilter: e.target.value\n      }),\n      placeholder: \"Global Search\",\n      size: \"30\",\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-external-link\",\n      iconPos: \"left\",\n      tooltip: \"Export as CSV\",\n      tooltipOptions: {\n        position: 'left'\n      },\n      onClick: this.export,\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    })))));\n    let columns = this.state.cols.map((col, i) => {\n      return /*#__PURE__*/React.createElement(Column, {\n        key: i,\n        field: col.field,\n        header: col.header,\n        body: col.body,\n        sortable: col.sortable,\n        filter: col.filter,\n        filterMatchMode: col.filterMatchMode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basic-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, \"Binders\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-right-option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MultiSelect, {\n      value: this.state.cols,\n      options: this.colOptions,\n      fixedPlaceholder: true,\n      placeholder: CommonConfig.dataTableConfig.columnToggleIcon,\n      tooltip: \"Show / Hide Column\",\n      onChange: this.onColumnToggle,\n      style: {\n        width: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-plus\",\n      tooltip: \"Add Binder\",\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      onClick: () => this.addBinder(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      icon: \"pi pi-external-link\",\n      tooltip: \"Export as CSV\",\n      tooltipOptions: {\n        position: 'bottom'\n      },\n      onClick: this.export,\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DataTable, {\n      ref: el => this.dt = el,\n      value: this.state.binderArray,\n      first: this.state.selectedPage,\n      onPage: e => this.getPageString(e),\n      paginator: true,\n      rows: this.state.rowsPerPage,\n      header: header,\n      totalRecords: this.state.binderArray.length,\n      exportFilename: \"Task List\",\n      currentPageReportTemplate: this.state.str,\n      scrollable: true,\n      scrollHeight: \"250px\",\n      paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\n      rowsPerPageOptions: this.state.rowsPerPageOptions,\n      globalFilter: this.state.globalFilter,\n      emptyMessage: \"No records found\",\n      responsive: true,\n      resizableColumns: true,\n      columnResizeMode: \"fit\",\n      scrollable: true,\n      scrollHeight: \"265px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, columns)), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.toggleModal,\n      toggle: this.toggleLarge,\n      className: 'modal-lg ' + this.props.className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggleLarge,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }, \"Delete Binder\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, \"Are you sure, You want to delete \", this.state.BinderNumber, \" - \", this.state.BinderUMRN, \" Binder?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(BTN, {\n      color: \"success\",\n      onClick: () => this.deleteBinder(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 82\n      }\n    }), \" Delete\"), ' ', /*#__PURE__*/React.createElement(BTN, {\n      color: \"primary\",\n      onClick: this.toggleLarge,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 73\n      }\n    }), \"Cancel\"))));\n  }\n\n}\n\nexport default withTranslation()(BinderManage);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Binder/BinderManage.js"],"names":["React","Component","Col","Row","Modal","ModalBody","ModalHeader","ModalFooter","Button","BTN","Input","withTranslation","DataTable","Column","MultiSelect","InputText","APIConstant","CommonConfig","api","moment","toast","BinderManage","constructor","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","binderArray","length","str","setState","selectedPage","rowsPerPage","openDeleteModal","rowData","toggleModal","BinderId","BinderUMRN","UMRN","BinderNumber","BinderCode","toggleLarge","columns","field","header","sortable","filter","filterMatchMode","id","body","actionTemplate","bind","selectedLanguage","i18n","language","cols","binderOriginalArray","rowsPerPageOptions","dataTableConfig","globalFilter","paginatorTemplate","colOptions","col","push","label","value","onColumnToggle","export","event","valueInOrder","sort","x","y","dt","exportCSV","column","editBinder","marginRight","position","componentWillMount","componentDidMount","getBinderList","data","post","path","getBinder","then","res","console","log","success","map","obj","BinderName","InsuranceCompanyId","InsuranceCompanyName","LiveStartDate","format","dateFormat","forDatePicker","LiveEndDate","RunoffStartDate","RunoffEndDate","IsRated","Status","GrossCommission","catch","err","deleteBinder","loggedInUserId","ErrorMsg","error","index","findIndex","originaldata","history","pathname","search","BinderData","addBinder","render","columnToggleIcon","width","textAlign","margin","target","i","el","className"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Col, Row, Modal, ModalBody, ModalHeader, ModalFooter, Button as BTN, Input } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport APIConstant from '../../utils/constants';\nimport { CommonConfig } from '../../utils/constants';\nimport api from '../../utils/apiClient';\nimport moment from 'moment';\nimport { toast } from 'react-toastify';\n\n\nclass BinderManage extends Component {\n    constructor(props) {\n        super(props);\n        let columns = [\n            { field: \"BinderCode\", header: \"Binder Code\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\n            { field: \"UMRN\", header: \"UMRN\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\n            { field: \"BinderName\", header: \"Binder Name\", sortable: true, filter: true, filterMatchMode: 'contains', id: 3 },\n            { field: \"InsuranceCompanyName\", header: \"Insurance Company\", sortable: true, filter: true, filterMatchMode: 'contains', id: 4 },\n            { field: \"LiveStartDate\", header: \"Start / End Date\", sortable: true, filter: true, filterMatchMode: 'contains', id: 5 },\n            { field: \"RunoffStartDate\", header: \"Runoff Date\", sortable: true, filter: true, filterMatchMode: 'contains', id: 6 },\n            { field: \"IsRated\", header: \"Type\", sortable: true, filter: true, filterMatchMode: 'contains', id: 7 },\n            { field: \"Status\", header: \"Status\", sortable: true, filter: true, filterMatchMode: 'contains', id: 8 },\n            { field: \"GrossCommission\", header: \"Loss Ratio\", sortable: true, filter: true, filterMatchMode: 'contains', id: 9 },\n            { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, id: 10 }\n        ];\n\n        this.state = {\n            selectedLanguage: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\n            cols: columns,\n            binderArray: [],\n            binderOriginalArray: [],\n            selectedPage: 0,\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n            globalFilter: null,\n            paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n        };\n\n        this.colOptions = [];\n        for (let col of columns) {\n            this.colOptions.push({ label: col.header, value: col });\n        }\n\n        this.onColumnToggle = this.onColumnToggle.bind(this);\n        this.actionTemplate = this.actionTemplate.bind(this);\n        this.export = this.export.bind(this);\n    }\n\n    \n    getPageString = (e) => {\n        let firstPage = e.first + 1;\n        let l = e.rows * (e.page + 1);\n        let lastPage = (l < this.state.binderArray.length) ? l : this.state.binderArray.length\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.binderArray.length + ' records';\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\n    }\n\n    onColumnToggle(event) {\n        let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\n        this.setState({ cols: valueInOrder });\n    }\n\n    export() {\n        this.dt.exportCSV();\n    }\n\n    actionTemplate(rowData, column) {\n        return <div>\n            <Button type=\"button\" icon=\"pi pi-eye\" className=\"p-button-warning\" onClick={() => this.editBinder(rowData)}\n                style={{ marginRight: '.5em' }} tooltip=\"View\" tooltipOptions={{ position: 'bottom' }}>\n            </Button>\n            {/* <Button type=\"button\" icon=\"pi pi-trash\" className=\"p-button-danger\" onClick={() => this.deleteBinder(rowData)} tooltip=\"Delete\" tooltipOptions={{ position: 'bottom' }}></Button> */}\n            <Button type=\"button\" icon=\"pi pi-trash\" className=\"p-button-danger\" tooltip=\"Delete\" onClick={() => this.openDeleteModal(rowData)} tooltipOptions={{ position: 'bottom' }}></Button>\n        </div>;\n    }\n\n    componentWillMount() {\n\n    }\n\n    componentDidMount() {\n        this.getBinderList()\n    }\n\n    getBinderList() {\n        let data = {}\n        api.post(APIConstant.path.getBinder, data).then(res => {\n            console.log(res)\n            if (res.success) {\n                console.log(\"===========Binder List Data\")\n                console.log(res.data)\n                this.setState({\n                    binderOriginalArray:res.data,\n                    binderArray: res.data.map((obj) => {\n                        return {\n                            \"BinderId\":obj.BinderId,\n                            \"BinderCode\":obj.BinderCode,\n                            \"UMRN\":obj.UMRN,\n                            \"BinderName\": obj.BinderName,\n                            \"InsuranceCompanyId\":obj.InsuranceCompanyId,\n                            \"InsuranceCompanyName\":obj.InsuranceCompanyName,\n                            \"LiveStartDate\":'(' + (obj.LiveStartDate != null ? moment(obj.LiveStartDate).format(CommonConfig.dateFormat.forDatePicker) : '') + ')' + \"- (\" + (obj.LiveEndDate != null ? moment(obj.LiveEndDate).format(CommonConfig.dateFormat.forDatePicker) : '') + \")\",\n                            \"RunoffStartDate\":'(' + (obj.RunoffStartDate != null ? moment(obj.RunoffStartDate).format(CommonConfig.dateFormat.forDatePicker) : '') + ')' + \"- (\" + (obj.RunoffEndDate != null ? moment(obj.RunoffEndDate).format(CommonConfig.dateFormat.forDatePicker) : '') + \")\",\n                            \"IsRated\":obj.IsRated.data[0] == 0 ? \"Non Rated\" : \"Rated\",\n                            \"Status\":obj.Status,\n                            \"GrossCommission\":obj.GrossCommission,\n                        }\n                    })\n                })\n            }\n        }).catch(err => {\n            console.log(err)\n        });\n    }\n\n    openDeleteModal = (rowData) => {\n        debugger;\n        this.setState({\n            toggleModal: !this.state.toggleModal,\n            BinderId: rowData.BinderId,\n            BinderUMRN: rowData.UMRN,\n            BinderNumber: rowData.BinderCode,\n        });\n    }\n\n    toggleLarge = () => {\n        this.setState({\n            toggleModal: false,\n            BinderId: \"\",\n            BinderUMRN: \"\",\n            BinderNumber: \"\",\n        });\n    }\n\n    deleteBinder() {\n        let data = {\n            \"BinderId\": this.state.BinderId,\n            \"UserId\": CommonConfig.loggedInUserId()\n        }\n        api.post(APIConstant.path.deleteBinder, data).then(res => {\n            if (res.success) {\n                if(res.data[0][0].ErrorMsg !== \"\"){\n                    console.log(res.data[0][0])\n                    toast.error(res.data[0][0].ErrorMsg);\n                } else {\n                    toast.success(\"Binder successfully deleted\");\n                }\n                this.getBinderList();\n                this.toggleLarge();\n                \n            }\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n\n    editBinder(event) {\n        let index = this.state.binderArray.findIndex(x => x.BinderId === event.BinderId);\n        if (index !== -1) {\n            let originaldata = this.state.binderOriginalArray[index]\n            this.props.history.push({\n                pathname: '/Master/AddUpdateBinder/'+ event.BinderId,\n                search: '',\n                state: { BinderData: originaldata }\n              })\n        }\n    }\n\n    addBinder() {\n        this.props.history.push('/Master/AddUpdateBinder/'+ \"\");\n    }\n\n    render() {\n        var header = <div>\n            <Row>\n                <Col md=\"1\">\n                    <MultiSelect value={this.state.cols} options={this.colOptions}\n                        fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\"\n                        onChange={this.onColumnToggle} style={{ width: '50px' }} />\n                </Col>\n                <Col md=\"11\">\n                    <div style={{ textAlign: 'right' }}>\n                        <i className=\"pi pi-search\" style={{ margin: '4px 4px 0 0' }}></i>\n                        <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" size=\"30\" style={{ marginRight: 10 }} />\n\n                        <Button type=\"button\" icon=\"pi pi-external-link\" iconPos=\"left\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'left' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\n                    </div>\n                </Col>\n            </Row>\n        </div>;\n\n        let columns = this.state.cols.map((col, i) => {\n            return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter}  filterMatchMode={col.filterMatchMode} />;\n        });\n\n        return (\n            <div>\n                <div className=\"basic-header\">\n                    <h1>Binders</h1>\n                    <div className=\"header-right-option\">\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\"\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\n                        />\n                        <Button type=\"button\" icon=\"pi pi-plus\" tooltip=\"Add Binder\" tooltipOptions={{ position: 'bottom' }} onClick={() => this.addBinder()}></Button>\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\n                    </div>\n                </div>\n\n                <div className=\"table-custom\">\n                <DataTable ref={(el) => this.dt = el} value={this.state.binderArray} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\n                        paginator={true} rows={this.state.rowsPerPage} header={header} totalRecords={this.state.binderArray.length} exportFilename=\"Task List\"\n                        currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"250px\"\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\n                        responsive={true} resizableColumns={true} columnResizeMode=\"fit\"\n                        scrollable={true} scrollHeight=\"265px\">\n                        {columns}\n                    </DataTable>\n                </div>\n\n                <Modal isOpen={this.state.toggleModal} toggle={this.toggleLarge}\n                    className={'modal-lg ' + this.props.className}>\n                    <ModalHeader toggle={this.toggleLarge}>Delete Binder</ModalHeader>\n                    <ModalBody>\n                        Are you sure, You want to delete {this.state.BinderNumber} - {this.state.BinderUMRN} Binder?\n                    </ModalBody>\n                    <ModalFooter>\n                        <BTN color=\"success\" onClick={() => this.deleteBinder()}><i class=\"fa fa-check\"></i> Delete</BTN>{' '}\n                        <BTN color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-close\"></i>Cancel</BTN>\n                    </ModalFooter>\n                </Modal>\n\n            </div>\n        );\n    }\n}\n\nexport default withTranslation()(BinderManage);"]},"metadata":{},"sourceType":"module"}