{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{MultiSelect}from'primereact/multiselect';import{InputText}from'primereact/inputtext';import{toast}from'react-toastify';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{Button}from'primereact/button';import{Modal,ModalBody,ModalFooter,ModalHeader,Col,Row,Input,Button as BTN}from'reactstrap';import api from'../../../utils/apiClient';import{CommonConfig}from'../../../utils/constants';import{useTranslation,withTranslation,Trans}from'react-i18next';import moment from'moment';var NoClaimBonus=/*#__PURE__*/function(_Component){_inherits(NoClaimBonus,_Component);var _super=_createSuper(NoClaimBonus);function NoClaimBonus(props){var _this;_classCallCheck(this,NoClaimBonus);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.noClaimBonusList.length?l:_this.state.noClaimBonusList.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.noClaimBonusList.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.edit=function(rowData){_this.setState({heading:'Update',buttonName:'Update',toastName:'Updated',years:rowData.years,discount:rowData.discount,NoClaimBonusId:rowData.NoClaimBonusId,// effectiveDate: rowData.effectiveDate,\neffectiveDateError:false,yearsError:false,discountError:false,primary:true});};_this.openDeleteModal=function(rowData){_this.setState({toggleModal:true,NoClaimBonusId:rowData.NoClaimBonusId,years:rowData.years});};_this.goToHistoryPage=function(rowData){console.log(\"rowData\",rowData);var Id=rowData.NoClaimBonusId;_this.props.history.push({pathname:'/Master/NoClaimBonusHistory/'+Id,state:{Id:Id}});};_this.toggleLarge=function(){_this.setState({toggleModal:false,years:'',NoClaimBonusId:''});};_this.Save=function(){// console.log(\"this.state.noClaimBonusList...\", this.state.noClaimBonusList);\nvar t=_this.props.t;if(_this.state.yearsError===false&&_this.state.discountError===false&&_this.state.effectiveDateError===false){var checkNCBYears;if(_this.state.buttonName===\"Save\"){checkNCBYears=_this.state.noClaimBonusList.filter(function(x){return x.years===parseInt(_this.state.years);});if(checkNCBYears.length){toast.error(t(\"masterNoClaimBonus:Toast.error\"));return null;}}if(_this.state.buttonName===\"Update\"){var array=_this.state.noClaimBonusList.filter(function(x){return x.NoClaimBonusId!==_this.state.NoClaimBonusId;});checkNCBYears=array.filter(function(x){return x.years===parseInt(_this.state.years);});if(checkNCBYears.length){toast.error(t(\"masterNoClaimBonus:Toast.error\"));return null;}}var data={NoClaimBonusId:_this.state.NoClaimBonusId,NCBYears:_this.state.years,NCBDiscount:_this.state.discount,LanguageId:_this.state.LanguageId,effectiveDate:_this.state.effectiveDate,CreatedBy:CommonConfig.loggedInUserId()};console.log('data',data);api.post('api/addUpdateNoClaimBonus',data).then(function(res){if(res.success){toast.success(t(\"masterNoClaimBonus:Toast.\"+_this.state.toastName+\"\"));_this.reset();_this.getNoClaimBonusList();}else{toast.error(res.data.message);}}).catch(function(err){});}else{_this.show(\"years\",_this.state.yearsError);_this.show(\"discount\",_this.state.discountError);}};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='years'){if(e.target.value===''||e.target.value===null||e.target.value===undefined){_this.setState({yearsError:true});_this.show(\"years\",true);}else{var invSpace=CommonConfig.RegExp.number;var years=e.target.value;if(!invSpace.test(years)){_this.setState({yearsError:true});_this.show(\"years\",true);}else{_this.setState({yearsError:false,years:e.target.value});_this.show(\"years\",false);}}}if(e.target.name==='discount'){if(e.target.value===''||e.target.value===null||e.target.value===undefined){_this.setState({discountError:true});_this.show(\"discount\",true);}else{var _invSpace=CommonConfig.RegExp.percentageWithNegative;var discount=e.target.value;if(!_invSpace.test(discount)){_this.setState({discountError:true});_this.show(\"discount\",true);}else{_this.setState({discountError:false,discount:e.target.value});_this.show(\"discount\",false);}}}if(e.target.name==='effectiveDate'){if(e.target.value===''||e.target.value===null){_this.setState({effectiveDateError:true});_this.show(\"effectiveDate\",true);}else if(moment(e.target.value).format('YYYY-MM-DD')<moment().format('YYYY-MM-DD')){_this.setState({effectiveDateError:true});_this.show(\"effectiveDate\",true);}else{_this.setState({effectiveDateError:false,effectiveDate:e.target.value});_this.show(\"effectiveDate\",false);}}};_this.reset=function(){_this.setState({years:'',discount:'',effectiveDate:moment().format(CommonConfig.dateFormat.YearMonthDay),effectiveDateError:true,yearsError:true,discountError:true,NoClaimBonusId:'',heading:'Add',buttonName:'Save',toastName:'Saved',primary:false});};_this.export=function(){_this.dt.exportCSV();};var _t=props.t;var columns=[{field:\"years\",header:\"NoofYears\",sortable:true,filter:true,filterMatchMode:'contains',id:0},{field:\"discount\",header:\"DiscountRate\",sortable:true,filter:true,filterMatchMode:'contains',id:1},{field:\"effective_Date\",header:\"Effective Date\",sortable:true,filter:true,filterMatchMode:'contains',id:2},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,filterMatchMode:'contains',id:3}];_this.state={noClaimBonusList:[],cols:columns,LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,heading:'Add',buttonName:'Save',toastName:'Saved',rowData:'',selectedPage:0,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null,years:'',discount:'',primary:false,toggleModal:false,yearsError:true,discountError:true,NoClaimBonusId:'',effectivedate:'Effective Date',effectiveDate:moment().format(CommonConfig.dateFormat.YearMonthDay),effectiveDateError:true};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:_t(\"masterNoClaimBonus:DataTableHeaders.\"+col.header+\"\"),value:col});}_this.onColumnToggle=_this.onColumnToggle.bind(_assertThisInitialized(_this));_this.openModal=_this.openModal.bind(_assertThisInitialized(_this));return _this;}_createClass(NoClaimBonus,[{key:\"onColumnToggle\",value:function onColumnToggle(event){var valueInOrder=event.value.sort(function(x,y){return x.id-y.id;});this.setState({cols:valueInOrder});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getNoClaimBonusList();}},{key:\"getNoClaimBonusList\",value:function getNoClaimBonusList(){var _this2=this;try{api.post('api/getNoClaimBonus').then(function(res){if(res.success){var formattedData=[];for(var i=0;i<res.data.length;i++){// var Updated = (res.data[i].updatedon === undefined || res.data[i].updatedon === null || res.data[i].updatedon === \"\") ? (\"No Updates\") : (Moment(res.data[i].updatedon).format(CommonConfig.dateFormat.dateTime));\nformattedData.push({NoClaimBonusId:res.data[i].NoClaimBonusId,years:res.data[i].YearCount,discount:res.data[i].DiscountRate,effective_Date:moment(res.data[i].StartDate).format(CommonConfig.dateFormat.forDatePicker)});var lastPage=_this2.state.rowsPerPage<formattedData.length?_this2.state.rowsPerPage:formattedData.length;var str='1 to '+lastPage+' out of '+formattedData.length+' records';_this2.setState({noClaimBonusList:formattedData,str:str});}}else{console.log(\"Else\");}}).catch(function(err){});}catch(error){console.log(\"err\",error);}}},{key:\"Delete\",value:function Delete(){var _this3=this;var t=this.props.t;try{var data={NoClaimBonusId:this.state.NoClaimBonusId,CreatedBy:CommonConfig.loggedInUserId()};api.post('api/deleteNoClaimBonus',data).then(function(res){if(res.success){_this3.toggleLarge();toast.success(t(\"masterNoClaimBonus:Toast.Delete\"));_this3.getNoClaimBonusList();}});}catch(error){console.log(\"error\",error);}}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this4=this;var t=this.props.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-pencil\",className:\"p-button-warning\",tooltipOptions:{position:'bottom'},tooltip:t(\"buttons.Edit\"),style:{padding:2},onClick:function onClick(){return _this4.edit(rowData);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-trash\",className:\"p-button-danger\",tooltipOptions:{position:'bottom'},tooltip:t(\"buttons.Delete\"),style:{padding:2},onClick:function onClick(){return _this4.openDeleteModal(rowData);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-clock\",className:\"p-button-primary\",tooltip:\"Show History\",onClick:function onClick(){return _this4.goToHistoryPage(rowData);},tooltipOptions:{position:'bottom'},style:{padding:2}}));}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"openModal\",value:function openModal(){this.setState({primary:true});}},{key:\"render\",value:function render(){var _this5=this;var t=this.props.t;var mandatoryFieldMsg=t(\"mandatoryFieldMsg\");var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{field:col.field,header:t(\"masterNoClaimBonus:DataTableHeaders.\"+col.header+\"\"),body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:\"contains\"});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"h1\",null,t(\"masterNoClaimBonus:Header\")),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'right'}},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{margin:'4px 4px 0 0'}}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this5.setState({globalFilter:e.target.value});},placeholder:t(\"translation:labels.globalSearchLabel\"),size:\"30\",style:{marginRight:10}})),/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltipOptions:{position:'bottom'},tooltip:t(\"translation:labels.shoeHideColumnLabel\"),onChange:this.onColumnToggle,style:{width:'50px'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-plus\",tooltipOptions:{position:'bottom'},tooltip:t(\"masterNoClaimBonus:AddNoClaimBonus\"),onClick:this.openModal}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",tooltipOptions:{position:'bottom'},tooltip:t(\"translation:buttons.exportAsCSVLabel\"),onClick:this.export}))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this5.dt=el;},value:this.state.noClaimBonusList,first:this.state.selectedPage,onPage:function onPage(e){return _this5.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.noClaimBonusList.length,exportFilename:t(\"masterNoClaimBonus:NoClaimBonusList\"),currentPageReportTemplate:this.state.str,paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:t(\"translation:NoRecordsMsg\"),responsive:true,resizableColumns:true,columnResizeMode:\"fit\",scrollable:true,scrollHeight:\"340px\"},columns)),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.primary,toggle:this.reset,className:'modal-primary '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.reset},t(\"masterNoClaimBonus:ModalHeading.\"+this.state.heading+\"\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"form\",{className:\"form\",action:\"#\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"text-right\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},mandatoryFieldMsg))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"masterNoClaimBonus:NoofYears.label\"),\"*\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"years\",id:\"years\",onChange:function onChange(e){return _this5.handleChange(e);},placeholder:t(\"masterNoClaimBonus:NoofYears.placeholder\"),value:this.state.years}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"masterNoClaimBonus:NoofYears.error_blank\"))))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"imput-box\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.effectivedate),/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"effectiveDate\",id:\"effectiveDate\",onChange:function onChange(e){return _this5.handleChange(e);},value:this.state.effectiveDate,min:moment().format(CommonConfig.dateFormat.YearMonthDay),max:moment().add(100,'years').format(CommonConfig.dateFormat.YearMonthDay)}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter valid effective date\")))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"imput-box\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"masterNoClaimBonus:DiscountRate.label\"),\"*\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"discount\",id:\"discount\",onChange:function onChange(e){return _this5.handleChange(e);},placeholder:t(\"masterNoClaimBonus:DiscountRate.placeholder\"),value:this.state.discount}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},t(\"masterNoClaimBonus:DiscountRate.error_blank\"))))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.Save();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" \",t(\"buttons.\"+this.state.buttonName+\"\")),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:function onClick(){return _this5.reset();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\" \",t(\"buttons.Cancel\")))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.toggleModal,toggle:this.toggleLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleLarge},t(\"masterNoClaimBonus:Delete.label\")),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure, You want to delete No Claim Bonus for \",this.state.years,\" years?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(BTN,{color:\"success\",onClick:function onClick(){return _this5.Delete();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\" \",t(\"buttons.Yes\")),' ',/*#__PURE__*/React.createElement(BTN,{color:\"primary\",onClick:this.toggleLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\" \",t(\"buttons.No\")))));}}]);return NoClaimBonus;}(Component);export default withTranslation()(NoClaimBonus);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Master/NoClaimBonus/NoClaimBonus.js"],"names":["React","Component","DataTable","Column","MultiSelect","InputText","toast","Button","Modal","ModalBody","ModalFooter","ModalHeader","Col","Row","Input","BTN","api","CommonConfig","useTranslation","withTranslation","Trans","moment","NoClaimBonus","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","noClaimBonusList","length","str","setState","selectedPage","rowsPerPage","edit","rowData","heading","buttonName","toastName","years","discount","NoClaimBonusId","effectiveDateError","yearsError","discountError","primary","openDeleteModal","toggleModal","goToHistoryPage","console","log","Id","history","push","pathname","toggleLarge","Save","t","checkNCBYears","filter","x","parseInt","error","array","data","NCBYears","NCBDiscount","LanguageId","effectiveDate","CreatedBy","loggedInUserId","post","then","res","success","reset","getNoClaimBonusList","message","catch","err","show","handleChange","target","name","value","undefined","invSpace","RegExp","number","test","percentageWithNegative","format","dateFormat","YearMonthDay","export","dt","exportCSV","columns","field","header","sortable","filterMatchMode","id","body","actionTemplate","bind","cols","i18n","language","rowsPerPageOptions","dataTableConfig","globalFilter","effectivedate","colOptions","col","label","onColumnToggle","openModal","event","valueInOrder","sort","y","formattedData","i","YearCount","DiscountRate","effective_Date","StartDate","forDatePicker","column","position","padding","condition","document","getElementById","className","mandatoryFieldMsg","map","textAlign","margin","marginRight","columnToggleIcon","width","el","color","marginTop","add","Delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { toast } from 'react-toastify';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport { Button } from 'primereact/button';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Col, Row, Input, Button as BTN } from 'reactstrap';\r\nimport api from '../../../utils/apiClient';\r\nimport { CommonConfig } from '../../../utils/constants';\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\nimport moment from 'moment';\r\n\r\nclass NoClaimBonus extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const { t } = props;\r\n        let columns = [\r\n            { field: \"years\", header: \"NoofYears\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\r\n            { field: \"discount\", header: \"DiscountRate\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\r\n            { field: \"effective_Date\", header: \"Effective Date\", sortable: true, filter: true, filterMatchMode: 'contains', id: 2 },\r\n            { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, filterMatchMode: 'contains', id: 3 }\r\n        ];\r\n\r\n        this.state = {\r\n            noClaimBonusList: [],\r\n            cols: columns,\r\n            LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n            heading: 'Add',\r\n            buttonName: 'Save',\r\n            toastName: 'Saved',\r\n            rowData: '',\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            str: '',\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            years: '',\r\n            discount: '',\r\n            primary: false,\r\n            toggleModal: false,\r\n            yearsError: true,\r\n            discountError: true,\r\n            NoClaimBonusId: '',\r\n            effectivedate: 'Effective Date',\r\n            effectiveDate: moment().format(CommonConfig.dateFormat.YearMonthDay),\r\n            effectiveDateError: true,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: t(\"masterNoClaimBonus:DataTableHeaders.\" + col.header + \"\"), value: col });\r\n        }\r\n        this.onColumnToggle = this.onColumnToggle.bind(this);\r\n        this.openModal = this.openModal.bind(this);\r\n    }\r\n\r\n    onColumnToggle(event) {\r\n        let valueInOrder = event.value.sort((x, y) => { return x.id - y.id });\r\n        this.setState({ cols: valueInOrder });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getNoClaimBonusList();\r\n    }\r\n\r\n    getNoClaimBonusList() {\r\n        try {\r\n            api.post('api/getNoClaimBonus').then(res => {\r\n                if (res.success) {\r\n                    var formattedData = [];\r\n                    for (var i = 0; i < res.data.length; i++) {\r\n                        // var Updated = (res.data[i].updatedon === undefined || res.data[i].updatedon === null || res.data[i].updatedon === \"\") ? (\"No Updates\") : (Moment(res.data[i].updatedon).format(CommonConfig.dateFormat.dateTime));\r\n                        formattedData.push({\r\n                            NoClaimBonusId: res.data[i].NoClaimBonusId,\r\n                            years: res.data[i].YearCount,\r\n                            discount: res.data[i].DiscountRate,\r\n                            effective_Date: moment(res.data[i].StartDate).format(CommonConfig.dateFormat.forDatePicker),\r\n                        });\r\n                        let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n                        let str = '1 to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n\r\n                        this.setState({ noClaimBonusList: formattedData, str: str });\r\n                    }\r\n                } else {\r\n                    console.log(\"Else\");\r\n                }\r\n            }).catch(err => {\r\n\r\n            });\r\n        } catch (error) {\r\n            console.log(\"err\", error);\r\n        }\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.noClaimBonusList.length) ? l : this.state.noClaimBonusList.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.noClaimBonusList.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    edit = (rowData) => {\r\n\r\n        this.setState({\r\n            heading: 'Update',\r\n            buttonName: 'Update',\r\n            toastName: 'Updated',\r\n            years: rowData.years,\r\n            discount: rowData.discount,\r\n            NoClaimBonusId: rowData.NoClaimBonusId,\r\n            // effectiveDate: rowData.effectiveDate,\r\n            effectiveDateError: false,\r\n            yearsError: false,\r\n            discountError: false,\r\n            primary: true\r\n        });\r\n    }\r\n\r\n    openDeleteModal = (rowData) => {\r\n        this.setState({\r\n            toggleModal: true,\r\n            NoClaimBonusId: rowData.NoClaimBonusId,\r\n            years: rowData.years\r\n        });\r\n    }\r\n\r\n    goToHistoryPage = (rowData) => {\r\n        console.log(\"rowData\", rowData);\r\n        var Id = rowData.NoClaimBonusId;\r\n        this.props.history.push({\r\n            pathname: '/Master/NoClaimBonusHistory/' + Id,\r\n            state: {\r\n                Id: Id,\r\n            }\r\n        });\r\n    }\r\n\r\n    Delete() {\r\n        const { t } = this.props;\r\n        try {\r\n            let data = {\r\n                NoClaimBonusId: this.state.NoClaimBonusId,\r\n                CreatedBy: CommonConfig.loggedInUserId()\r\n            }\r\n            api.post('api/deleteNoClaimBonus', data).then(res => {\r\n                if (res.success) {\r\n                    this.toggleLarge();\r\n                    toast.success(t(\"masterNoClaimBonus:Toast.Delete\"));\r\n                    this.getNoClaimBonusList();\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    }\r\n\r\n    toggleLarge = () => {\r\n        this.setState({\r\n            toggleModal: false,\r\n            years: '',\r\n            NoClaimBonusId: ''\r\n        });\r\n    }\r\n\r\n    actionTemplate(rowData, column) {\r\n        const { t } = this.props;\r\n\r\n        return <div className=\"text-center\">\r\n            <Button type=\"button\" icon=\"pi pi-pencil\" className=\"p-button-warning\" tooltipOptions={{ position: 'bottom' }}\r\n                tooltip={t(\"buttons.Edit\")} style={{ padding: 2 }} onClick={() => this.edit(rowData)} />\r\n            <Button type=\"button\" icon=\"pi pi-trash\" className=\"p-button-danger\" tooltipOptions={{ position: 'bottom' }}\r\n                tooltip={t(\"buttons.Delete\")} style={{ padding: 2 }} onClick={() => this.openDeleteModal(rowData)} />\r\n            <Button type=\"button\" icon=\"pi pi-clock\" className=\"p-button-primary\" tooltip=\"Show History\" \r\n                onClick={() => this.goToHistoryPage(rowData)} tooltipOptions={{ position: 'bottom' }} style={{ padding: 2 }}></Button>\r\n        </div>;\r\n    }\r\n\r\n    Save = () => {\r\n\r\n        // console.log(\"this.state.noClaimBonusList...\", this.state.noClaimBonusList);\r\n        const { t } = this.props;\r\n        if (\r\n            this.state.yearsError === false &&\r\n            this.state.discountError === false &&\r\n            this.state.effectiveDateError === false\r\n        ) {\r\n            let checkNCBYears;\r\n            if (this.state.buttonName === \"Save\") {\r\n                checkNCBYears = this.state.noClaimBonusList.filter(x => x.years === parseInt(this.state.years));\r\n                if (checkNCBYears.length) {\r\n                    toast.error(t(\"masterNoClaimBonus:Toast.error\"));\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            if (this.state.buttonName === \"Update\") {\r\n                let array = this.state.noClaimBonusList.filter(x => x.NoClaimBonusId !== this.state.NoClaimBonusId);\r\n                checkNCBYears = array.filter(x => x.years === parseInt(this.state.years));\r\n                if (checkNCBYears.length) {\r\n                    toast.error(t(\"masterNoClaimBonus:Toast.error\"));\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            let data = {\r\n                NoClaimBonusId: this.state.NoClaimBonusId,\r\n                NCBYears: this.state.years,\r\n                NCBDiscount: this.state.discount,\r\n                LanguageId: this.state.LanguageId,\r\n                effectiveDate: this.state.effectiveDate,\r\n                CreatedBy: CommonConfig.loggedInUserId()\r\n            }\r\n            console.log('data',data);            \r\n            api.post('api/addUpdateNoClaimBonus', data).then(res => {\r\n                if (res.success) {\r\n                    toast.success(t(\"masterNoClaimBonus:Toast.\" + this.state.toastName + \"\"));\r\n                    this.reset();\r\n                    this.getNoClaimBonusList();\r\n                } else {\r\n                    toast.error(res.data.message);\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        } else {\r\n            this.show(\"years\", this.state.yearsError);\r\n            this.show(\"discount\", this.state.discountError);\r\n        }\r\n    }\r\n\r\n    show(field, condition) {\r\n        if (condition) {\r\n            document.getElementById(field).className = \"form-control is-invalid\";\r\n        } else {\r\n            document.getElementById(field).className = \"form-control\";\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.name === 'years') {\r\n            if (e.target.value === '' || e.target.value === null || e.target.value === undefined) {\r\n                this.setState({ yearsError: true });\r\n                this.show(\"years\", true);\r\n            } else {\r\n                let invSpace = CommonConfig.RegExp.number;\r\n                let years = e.target.value;\r\n                if (!invSpace.test(years)) {\r\n                    this.setState({ yearsError: true });\r\n                    this.show(\"years\", true);\r\n                } else {\r\n                    this.setState({ yearsError: false, years: e.target.value });\r\n                    this.show(\"years\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'discount') {\r\n            if (e.target.value === '' || e.target.value === null || e.target.value === undefined) {\r\n                this.setState({ discountError: true });\r\n                this.show(\"discount\", true);\r\n            } else {\r\n                let invSpace = CommonConfig.RegExp.percentageWithNegative;\r\n                let discount = e.target.value;\r\n                if (!invSpace.test(discount)) {\r\n                    this.setState({ discountError: true });\r\n                    this.show(\"discount\", true);\r\n                } else {\r\n                    this.setState({ discountError: false, discount: e.target.value });\r\n                    this.show(\"discount\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'effectiveDate') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ effectiveDateError: true });\r\n                this.show(\"effectiveDate\", true);\r\n            } else if (moment(e.target.value).format('YYYY-MM-DD') < moment().format('YYYY-MM-DD')) {\r\n                this.setState({ effectiveDateError: true });\r\n                this.show(\"effectiveDate\", true);\r\n            } else {\r\n                this.setState({ effectiveDateError: false, effectiveDate: e.target.value });\r\n                this.show(\"effectiveDate\", false);\r\n            }\r\n        }\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            years: '',\r\n            discount: '',\r\n            effectiveDate: moment().format(CommonConfig.dateFormat.YearMonthDay),\r\n            effectiveDateError: true,\r\n            yearsError: true,\r\n            discountError: true,\r\n            NoClaimBonusId: '',\r\n            heading: 'Add',\r\n            buttonName: 'Save',\r\n            toastName: 'Saved',\r\n            primary: false,\r\n        })\r\n    }\r\n\r\n    export = () => {\r\n        this.dt.exportCSV();\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({\r\n            primary: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { t } = this.props;\r\n        const mandatoryFieldMsg = t(\"mandatoryFieldMsg\");\r\n\r\n        let columns = this.state.cols.map((col, i) => {\r\n            return <Column field={col.field} header={t(\"masterNoClaimBonus:DataTableHeaders.\" + col.header + \"\")} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode=\"contains\" />;\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1>{t(\"masterNoClaimBonus:Header\")}</h1>\r\n                    <div className=\"header-right-option\">\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <i className=\"pi pi-search\" style={{ margin: '4px 4px 0 0' }}></i>\r\n                            <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder={t(\"translation:labels.globalSearchLabel\")} size=\"30\" style={{ marginRight: 10 }} />\r\n                        </div>\r\n\r\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltipOptions={{ position: 'bottom' }} tooltip={t(\"translation:labels.shoeHideColumnLabel\")}\r\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                        />\r\n\r\n                        <Button type=\"button\" icon=\"pi pi-plus\" tooltipOptions={{ position: 'bottom' }} tooltip={t(\"masterNoClaimBonus:AddNoClaimBonus\")} onClick={this.openModal}></Button>\r\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltipOptions={{ position: 'bottom' }} tooltip={t(\"translation:buttons.exportAsCSVLabel\")} onClick={this.export}></Button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"table-custom\">\r\n                    <DataTable\r\n                        ref={(el) => this.dt = el}\r\n                        value={this.state.noClaimBonusList}\r\n                        first={this.state.selectedPage}\r\n                        onPage={(e) => this.getPageString(e)}\r\n                        paginator={true}\r\n                        rows={this.state.rowsPerPage}\r\n                        totalRecords={this.state.noClaimBonusList.length}\r\n                        exportFilename={t(\"masterNoClaimBonus:NoClaimBonusList\")}\r\n                        currentPageReportTemplate={this.state.str}\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        rowsPerPageOptions={this.state.rowsPerPageOptions}\r\n                        globalFilter={this.state.globalFilter}\r\n                        emptyMessage={t(\"translation:NoRecordsMsg\")}\r\n                        responsive={true}\r\n                        resizableColumns={true}\r\n                        columnResizeMode=\"fit\"\r\n                        scrollable={true}\r\n                        scrollHeight=\"340px\">\r\n                        {columns}\r\n                    </DataTable>\r\n                </div>\r\n\r\n                <Modal isOpen={this.state.primary} toggle={this.reset}\r\n                    className={'modal-primary ' + this.props.className}>\r\n                    <ModalHeader toggle={this.reset}>{t(\"masterNoClaimBonus:ModalHeading.\" + this.state.heading + \"\")}{}</ModalHeader>\r\n                    <ModalBody>\r\n                        <form className=\"form\" action=\"#\">\r\n                            <Row>\r\n                                <Col md=\"12\" className=\"text-right\">\r\n                                    <span style={{ color: \"red\" }}>{mandatoryFieldMsg}</span>\r\n                                </Col>\r\n                            </Row>\r\n\r\n                            <Row style={{ marginTop: \"10px\" }}>\r\n                                <Col md=\"6\">\r\n                                    <div className=\"input-box\">\r\n                                        <label>{t(\"masterNoClaimBonus:NoofYears.label\")}*</label>\r\n                                        <Input type=\"text\" name=\"years\" id=\"years\" onChange={e => this.handleChange(e)} placeholder={t(\"masterNoClaimBonus:NoofYears.placeholder\")} value={this.state.years} >\r\n                                        </Input>\r\n                                        <em className=\"error invalid-feedback\">{t(\"masterNoClaimBonus:NoofYears.error_blank\")}</em>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n\r\n                            <Row style={{ marginTop: \"10px\" }}>\r\n                                <Col md=\"6\">\r\n                                    <div className=\"imput-box\">\r\n                                        <label>{this.state.effectivedate}</label>\r\n                                        <Input type=\"date\" name=\"effectiveDate\" id=\"effectiveDate\" onChange={(e) => this.handleChange(e)} value={this.state.effectiveDate}\r\n                                            min={moment().format(CommonConfig.dateFormat.YearMonthDay)}\r\n                                            max={moment().add(100, 'years').format(CommonConfig.dateFormat.YearMonthDay)}\r\n                                        >\r\n                                        </Input>\r\n                                        <em className=\"error invalid-feedback\" >Please enter valid effective date</em>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n\r\n                            <Row style={{ marginTop: \"10px\" }}>\r\n                                <Col md=\"6\">\r\n                                    <div className=\"imput-box\">\r\n                                        <label>{t(\"masterNoClaimBonus:DiscountRate.label\")}*</label>\r\n                                        <Input type=\"text\" name=\"discount\" id=\"discount\" onChange={e => this.handleChange(e)} placeholder={t(\"masterNoClaimBonus:DiscountRate.placeholder\")} value={this.state.discount} >\r\n                                        </Input>\r\n                                        <em className=\"error invalid-feedback\">{t(\"masterNoClaimBonus:DiscountRate.error_blank\")}</em>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        </form>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <BTN color=\"success\" onClick={() => this.Save()}><i class=\"fa fa-check\"></i> {t(\"buttons.\" + this.state.buttonName + \"\")}</BTN>{' '}\r\n                        <BTN color=\"primary\" onClick={() => this.reset()}><i class=\"fa fa-close\"></i> {t(\"buttons.Cancel\")}</BTN>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.toggleModal} toggle={this.toggleLarge}\r\n                    className={'modal-lg ' + this.props.className}>\r\n                    <ModalHeader toggle={this.toggleLarge}>{t(\"masterNoClaimBonus:Delete.label\")}</ModalHeader>\r\n                    <ModalBody>\r\n                        Are you sure, You want to delete No Claim Bonus for {this.state.years} years?\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <BTN color=\"success\" onClick={() => this.Delete()}><i class=\"fa fa-check\"></i> {t(\"buttons.Yes\")}</BTN>{' '}\r\n                        <BTN color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-close\"></i> {t(\"buttons.No\")}</BTN>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(NoClaimBonus);"]},"metadata":{},"sourceType":"module"}