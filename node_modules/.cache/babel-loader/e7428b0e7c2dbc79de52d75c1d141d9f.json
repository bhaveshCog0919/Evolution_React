{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Card,CardBody,Col,Container,Form,Input,InputGroup,InputGroupAddon,InputGroupText,Row}from'reactstrap';import api from\"../../../utils/apiClient\";import Cookies from\"js-cookie\";import APIConstant from\"../../../utils/constants\";import{ToastContainer,toast}from\"react-toastify\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(props,context){var _this;_classCallCheck(this,Register);_this=_super.call(this,props,context);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name===\"username\"){if(e.target.value===\"\"||e.target.value===null){_this.setState({usernameError:true});_this.show(\"username\",true);}else{_this.setState({usernameError:false,username:e.target.value});_this.show(\"username\",false);}}if(e.target.name===\"password\"){if(e.target.value===\"\"||e.target.value===null){_this.setState({passwordError:true});_this.show(\"password\",true);}else{_this.setState({passwordError:false,password:e.target.value});_this.show(\"password\",false);}}};_this.state={password:\"\",username:\"\",passwordError:true,usernameError:true};return _this;}_createClass(Register,[{key:\"validateEmail\",value:function validateEmail(username){var pattern=/[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;var result=pattern.test(username);}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"onRegister\",value:function onRegister(){var _this2=this;// debugger;\nif(this.state.usernameError===false&&this.state.passwordError===false){var form={username:this.state.username,password:this.state.password};api.post(APIConstant.path.register,form).then(function(res){if(res.success){// const expires = 60 * 60 * 24;\n// const inOneHour = new Date(new Date().getTime() + expires);\n// Cookies.set(\"access_token\", res.token, { expires: inOneHour });\nlocalStorage.setItem('access_token',res.token);_this2.props.history.push(\"/login\");toast.success(res.message);}else{toast.error(res.message);}}).catch(function(err){toast.error(err);});}else{this.show(\"username\",this.state.usernameError);this.show(\"password\",this.state.passwordError);}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:\"app flex-row align-items-center\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Col,{md:\"9\",lg:\"7\",xl:\"6\"},/*#__PURE__*/React.createElement(Card,{className:\"mx-4\"},/*#__PURE__*/React.createElement(CardBody,{className:\"p-4\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Register\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Create your account\"),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"icon-user\"}))),/*#__PURE__*/React.createElement(Input,{name:\"username\",type:\"text\",id:\"username\",className:\"\",placeholder:\"Username\",autoComplete:\"username\",onChange:function onChange(e){return _this3.handleChange(e);},value:this.state.username}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter username\")),/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"icon-lock\"}))),/*#__PURE__*/React.createElement(Input,{name:\"password\",id:\"password\",type:\"password\",placeholder:\"Password\",autoComplete:\"current-password\",onChange:function onChange(e){return _this3.handleChange(e);},value:this.state.password}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter password\")),/*#__PURE__*/React.createElement(Button,{color:\"success\",block:true,onClick:function onClick(){return _this3.onRegister();}},\"Create Account\")))))))));}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Pages/Register/Register.js"],"names":["React","Component","Button","Card","CardBody","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","api","Cookies","APIConstant","ToastContainer","toast","Register","props","context","handleChange","e","setState","target","name","value","usernameError","show","username","passwordError","password","state","pattern","result","test","field","condition","document","getElementById","className","form","post","path","register","then","res","success","localStorage","setItem","token","history","push","message","error","catch","err","onRegister"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport { Button, Card, CardBody, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport api from \"../../../utils/apiClient\";\nimport Cookies from \"js-cookie\";\nimport APIConstant from \"../../../utils/constants\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass Register extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      password: \"\",\n      username: \"\",\n      passwordError: true,\n      usernameError: true\n    };\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name === \"username\") {\n      if (e.target.value === \"\" || e.target.value === null) {\n        this.setState({\n          usernameError: true\n        });\n        this.show(\"username\", true);\n      } else {\n        this.setState({\n          usernameError: false,\n          username: e.target.value\n        });\n        this.show(\"username\", false);\n      }\n    }\n\n    if (e.target.name === \"password\") {\n      if (e.target.value === \"\" || e.target.value === null) {\n        this.setState({\n          passwordError: true\n        });\n        this.show(\"password\", true);\n      } else {\n        this.setState({\n          passwordError: false,\n          password: e.target.value\n        });\n        this.show(\"password\", false);\n      }\n    }\n  };\n\n  validateEmail(username) {\n    const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n    const result = pattern.test(username);\n  }\n\n  show(field, condition) {\n    if (condition) {\n      document.getElementById(field).className = \"form-control is-invalid\";\n    } else {\n      document.getElementById(field).className = \"form-control\";\n    }\n  }\n\n  onRegister() {\n    // debugger;\n    if (\n      this.state.usernameError === false &&\n      this.state.passwordError === false\n    ) {\n      const form = {\n        username: this.state.username,\n        password: this.state.password\n      };\n\n      api.post(APIConstant.path.register, form).then(res => {\n          if (res.success) {\n            // const expires = 60 * 60 * 24;\n            // const inOneHour = new Date(new Date().getTime() + expires);\n            // Cookies.set(\"access_token\", res.token, { expires: inOneHour });\n            localStorage.setItem('access_token',  res.token)\n            this.props.history.push(\"/login\");\n            toast.success(res.message);\n          } else {\n            toast.error(res.message);\n          }\n        })\n        .catch(err => {\n          toast.error(err);\n        });\n    } else {\n      this.show(\"username\", this.state.usernameError);\n      this.show(\"password\", this.state.passwordError);\n    }\n  }\n\n  render() {\n    return (\n      <div>\n      <ToastContainer></ToastContainer>\n      <div className=\"app flex-row align-items-center\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md=\"9\" lg=\"7\" xl=\"6\">\n              <Card className=\"mx-4\">\n                <CardBody className=\"p-4\">\n                  <Form>\n                    <h1>Register</h1>\n                    <p className=\"text-muted\">Create your account</p>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-user\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input name=\"username\"\n                            type=\"text\"\n                            id=\"username\"\n                            className=\"\"\n                            placeholder=\"Username\"\n                            autoComplete=\"username\"\n                            onChange={e => this.handleChange(e)}\n                            value={this.state.username} />\n                             <em className=\"error invalid-feedback\">\n                            Please enter username\n                          </em>\n                    </InputGroup>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-lock\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                            name=\"password\"\n                            id=\"password\"\n                            type=\"password\"\n                            placeholder=\"Password\"\n                            autoComplete=\"current-password\"\n                            onChange={e => this.handleChange(e)}\n                            value={this.state.password}\n                          />\n                          <em className=\"error invalid-feedback\">\n                            Please enter password\n                          </em>\n                    </InputGroup>\n                    <Button color=\"success\" block onClick={() => this.onRegister()}>Create Account</Button>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}