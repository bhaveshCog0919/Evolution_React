{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Select from'react-select';import api from'../../utils/apiClient';import moment from'moment';import DatePicker from'react-date-picker';import{withTranslation}from'react-i18next';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{CommonConfig}from'../../utils/constants';import{Button}from'primereact/button';import{MultiSelect}from'primereact/multiselect';import{Collapse,Button as BTN,Input,Card,CardHeader,CardBody,Row,Col}from'reactstrap';import{toast}from'react-toastify';import APIConstant from'../../utils/constants';var Renewal_Forecasting_Report=/*#__PURE__*/function(_Component){_inherits(Renewal_Forecasting_Report,_Component);var _super=_createSuper(Renewal_Forecasting_Report);function Renewal_Forecasting_Report(props){var _this;_classCallCheck(this,Renewal_Forecasting_Report);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.arr.length?l:_this.state.arr.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.arr.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='monthtillDate'){_this.setState({monthtillDate:e.target.value});}if(e.target.name==='fromDate'){_this.setState({fromDate:e.target.value});}if(e.target.name==='toDate'){_this.setState({toDate:e.target.value});}if(e.target.name==='Year'){if(e.target.value===null||e.target.value===undefined||e.target.value===''){_this.setState({Year:e.target.value,YearError:true});_this.show('Year',true,'YearError','Please Enter Year');}else{_this.setState({Year:e.target.value,YearError:false});_this.show('Year',false,'YearError','');}}};var columns=[/*{ body: this.actionTemplate.bind(this), field: \"Select\", header: \"Select\", sortable: false, id: \"checkbox\", style: { 'width': '45px' } },\r\n           { field: \"Action\", header: \"Action\", sortable: true, filter: true, id: 1, style: { 'width': '45px' } },*/{field:\"PolicyNumber\",header:\"Policy Number\",sortable:true,filter:true,id:1,style:{'width':'75px'}},{field:\"ClientName\",header:\"Client Name\",sortable:true,filter:true,id:2,style:{'width':'155px'}},{field:\"RenewalDate\",header:\"Renewal Date\",sortable:true,filter:true,id:3,style:{'width':'85px'}},{field:\"VesselClass\",header:\"Vessel Class\",sortable:true,filter:true,id:4,style:{'width':'125px'}},{field:\"VesselType\",header:\"Vessel Type \",sortable:true,filter:true,id:5,style:{'width':'125px'}},{field:\"Country\",header:\"Country\",sortable:true,filter:true,id:6,style:{'textAlign':'right','width':'85px'}},{field:\"VesselRegistrationLocation\",header:\"Vessel Registration Location\",sortable:true,filter:true,id:7,style:{'textAlign':'right','width':'85px'}},{field:\"SumInsured\",header:\"Sum Insured\",sortable:true,filter:true,id:8,style:{'width':'75px','textAlign':'right'}},{body:_this.ColumnclassName.bind(_assertThisInitialized(_this)),field:\"ProjectedPremium\",header:\"Projected Premium\",sortable:true,filter:true,id:9,style:{'width':'75px','textAlign':'right'}},{field:\"LastRenewalConfirmed\",header:\"Last Renewal Confirmed\",sortable:true,filter:true,id:10,style:{'width':'75px'}},{field:\"DifferenceTotalDue\",header:\"Difference Total Due\",sortable:true,filter:true,id:11,style:{'width':'75px'}},{field:\"PecentageChange\",header:\"Percentage Change\",sortable:true,filter:true,id:12,style:{'width':'75px'}},{field:\"Stage\",header:\"Stage\",sortable:true,filter:true,id:1,style:{'width':'105px'}},{field:\"Recommendation\",header:\"Recommendation\",sortable:true,filter:true,id:14,style:{'width':'75px'}},{field:\"Language\",header:\"Language\",sortable:true,filter:true,id:15,style:{'width':'75px'}},{field:\"Currency\",header:\"Currency\",sortable:true,filter:true,id:16,style:{'width':'75px'}},{field:\"Source\",header:\"Source\",sortable:true,filter:true,filterMatchMode:'contains',id:17,style:{'width':'150px'}},{field:\"SourceName\",header:\"Source Name\",sortable:true,filter:true,filterMatchMode:'contains',id:17,style:{'width':'150px'}},{field:\"MooringName\",header:\"Mooring Name\",sortable:true,filter:true,id:18,style:{'width':'150px'}},{field:\"MooringType\",header:\"Mooring Type\",sortable:true,filter:true,id:19,style:{'width':'150px'}},{field:\"SurveyDueDate\",header:\"Survey Due Date\",sortable:true,filter:true,id:20,style:{'width':'100px'}},{field:\"ClaimReportedsincelastrenewal\",header:\"Claim Reported since last renewal\",sortable:true,filter:true,id:21,style:{'width':'85px'}}];_this.state={LanguageId:props.i18n.language==='en'?'en-GB':props.i18n.language==='es'?'es-ES':props.i18n.language==='ie'?'en-IE':props.i18n.language,cols:columns,arr:[],selectedPage:0,rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,str:'',rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null,searchCollapse:false,DebtorType:'SubAgent',Period:0,selected:{},selectedPolicy:0,selectedAgent:'',selectAll:0,DebtorTypeError:false,agentinfo:'',agentinfoError:false,monthtillDate:moment().format(\"YYYY-MM\"),fromDate:moment().format(\"YYYY-MM-DD\"),toDate:moment().format(\"YYYY-MM-DD\"),MONTHList:[],MONTH:('0'+(new Date().getMonth()+2).toString()).slice(-2),MONTHError:false,Year:'',YearError:false};_this.colOptions=[];for(var _i=0,_columns=columns;_i<_columns.length;_i++){var col=_columns[_i];_this.colOptions.push({label:col.header,value:col});}_this.export=_this.export.bind(_assertThisInitialized(_this));return _this;}_createClass(Renewal_Forecasting_Report,[{key:\"componentDidMount\",value:function componentDidMount(){this.Renewal_Forecasting_Report();this.getOrganazationData(this.state.DebtorType);this.getDropDownValues('MONTH','MONTHList','StringMapKey');}},{key:\"ClientDetails\",value:function ClientDetails(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.ClientName),/*#__PURE__*/React.createElement(\"p\",null,rowData.ClientCode));}},{key:\"AgentDetails\",value:function AgentDetails(rowData){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.AgentName),/*#__PURE__*/React.createElement(\"p\",null,rowData.AgentCode));}},{key:\"toggleRow\",value:function toggleRow(id){var newSelected=Object.assign({},this.state.selected);newSelected[id]=!this.state.selected[id];this.setState({selected:newSelected,selectAll:2});}},{key:\"toggleSelectAll\",value:function toggleSelectAll(){var newSelected={};if(this.state.selectAll===0){this.state.arr.forEach(function(x){newSelected[x.id]=true;});}this.setState({selected:newSelected,selectAll:this.state.selectAll===0?1:0});}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"checkbox\",checked:this.state.selected[rowData.id]===true,onChange:function onChange(){return _this2.toggleRow(rowData.id);}}));}},{key:\"SourceName\",value:function SourceName(rowData){return rowData.Source===\"Direct\"?/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.Source)):/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.Source),/*#__PURE__*/React.createElement(\"p\",null,\"(\",rowData.SourceName,\")\"));}},{key:\"ColumnclassName\",value:function ColumnclassName(rowData,Column){return rowData.DaysOutstanding<=7?/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#008c9a',color:'#fff'},className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.ProjectedPremium)):/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.ProjectedPremium));}},{key:\"getDropDownValues\",value:function getDropDownValues(stringMapType,setStateName,orderBy){var _this3=this;try{var data={stringmaptype:stringMapType,orderby:orderBy};api.post(APIConstant.path.dropdownbycode,data).then(function(res){if(res.success){_this3.setState(_defineProperty({},setStateName,res.data));}else{}}).catch(function(err){});}catch(error){}}},{key:\"Renewal_Forecasting_Report\",value:function Renewal_Forecasting_Report(){var _this4=this;var ShowMonth=this.state.MONTH;console.log(ShowMonth);if(ShowMonth===\"\")this.state.MONTH=new Date().getMonth()+2;else if(ShowMonth===\"All\")this.state.MONTH=1;if(this.state.Year===\"\")this.state.Year=new Date().getFullYear();var startDate=moment([parseInt(this.state.Year),parseInt(this.state.MONTH)-1]).format('YYYY-MM-DD');if(ShowMonth===''||ShowMonth==='All')var endDate=moment(startDate).endOf('year').format('YYYY-MM-DD');else var endDate=moment(startDate).endOf('month').format('YYYY-MM-DD');var data={fromDate:startDate,toDate:endDate};this.state.MONTH=ShowMonth;api.post('api/Renewal_Forecasting_Report',data).then(function(res){if(res.success){var formattedData=[];_this4.setState({selectedPage:0});var dataLength=res.data[0].length;if(dataLength>0){for(var i=0;i<dataLength;i++){var tempData=res.data[0][i];console.log(\"tempData\",tempData);formattedData.push({id:i,PolicyNumber:tempData.PolicyNumber,ClientName:tempData.ClientName,RenewalDate:moment(tempData.RenewalDate).format('DD-MM-YYYY'),VesselClass:tempData.VesselClass,VesselType:tempData.VesselType,Country:tempData.Country,VesselRegistrationLocation:tempData.VesselRegistrationLocation,SumInsured:tempData.SumInsured,ProjectedPremium:tempData.TotalDue,LastRenewalConfirmed:tempData.LastRenewalConfirmed,DifferenceTotalDue:tempData.DifferenceTotalDue,PecentageChange:tempData.PecentageChange?tempData.PecentageChange:'--',Stage:tempData.Stage?tempData.Stage:'--',Recommendation:tempData.Recommendation?tempData.Recommendation:'--',Language:tempData.DocLang,Currency:tempData.Currency,Source:tempData.Source,SourceName:tempData.SourceName,SourceData:tempData.Source+\"\"+tempData.SourceName,DaysOutstanding:tempData.DaysOutstanding,MooringName:tempData.MooringName?tempData.MooringName:'--',MooringType:tempData.MooringType?tempData.MooringType:'--',SurveyDueDate:tempData.SurveyDueDate?moment(tempData.SurveyDueDate).format('DD-MM-YYYY'):'--',ClaimReportedsincelastrenewal:tempData.ClaimReportedsincelastrenewal?tempData.ClaimReportedsincelastrenewal:'--'});}}var firstPage=formattedData.length?'1':'0';var lastPage=_this4.state.rowsPerPage<formattedData.length?_this4.state.rowsPerPage:formattedData.length;var str=firstPage+' to '+lastPage+' out of '+formattedData.length+' records';_this4.setState({arr:formattedData,str:str});}});}},{key:\"export\",value:function _export(){this.dt.exportCSV();}},{key:\"filterData\",value:function filterData(){this.Renewal_Forecasting_Report();}},{key:\"selectType\",value:function selectType(value,type){if(type==='DebtorType'){this.setState({DebtorTypeError:false,DebtorType:value});this.show('DebtorType',false,\"DebtorTypeError\",\"\");this.getOrganazationData(value);}if(type==='agentinfo'){this.setState({agentinfo:value,agentinfoError:false});this.show('agentinfo',false,'agentinfoError','');}if(type==='Period'){this.setState({Period:value});}if(type==='MONTH'){if(CommonConfig.isEmpty(value)){this.setState({MONTHError:true,MONTH:value});this.show('MONTH',true,\"MONTHError\",\"Please select Date Type\");}else{this.setState({MONTHError:false,MONTH:value});this.show('MONTH',false,\"MONTHError\",\"\");}}}},{key:\"getOrganazationData\",value:function getOrganazationData(ContactType){var _this5=this;try{var data={ContactType:ContactType};api.post('api/getOrganazationData',data).then(function(res){if(res.success){var formattedData=[];for(var i=0;i<res.data.length;i++){formattedData.push({label:res.data[i].OrganizationName,value:res.data[i].OrganizationId});}_this5.setState({sourceList:formattedData});}else{console.log('getOrganazationData_error');}}).catch(function(err){console.log('getOrganazationData',err);});}catch(error){console.log('getOrganazationData',error);}}},{key:\"show\",value:function show(field,condition,errorField,message){if(condition){if(document.getElementById(field))document.getElementById(field).className=\"form-control is-invalid\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML='<p>'+message+' </p>';}else{if(document.getElementById(field))document.getElementById(field).className=\"form-control\";if(document.getElementById(errorField))document.getElementById(errorField).innerHTML=null;}}},{key:\"ReferrData\",value:function ReferrData(){var data={};// api.post('api/Renewal_Forecasting_Report', data).then(res => {\n// });\n}},{key:\"render\",value:function render(){var _this6=this;var t=this.props.t;var header=null;var columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode,style:col.style});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Renewal Forecasting Report\"),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right-option\"},/*#__PURE__*/React.createElement(MultiSelect,{value:this.state.cols,options:this.colOptions,fixedPlaceholder:true,placeholder:CommonConfig.dataTableConfig.columnToggleIcon,tooltip:\"Show / Hide Column\",tooltipOptions:{position:'bottom'},onChange:this.onColumnToggle,style:{width:'50px'}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",icon:\"pi pi-external-link\",tooltip:\"Export as CSV\",tooltipOptions:{position:'bottom'},onClick:this.export,style:{marginRight:10}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\",id:\"accordion\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-0\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"headingOne\"},/*#__PURE__*/React.createElement(BTN,{block:true,color:\"link\",className:\"text-left m-0 p-0\",onClick:function onClick(){return _this6.setState({custom:!_this6.state.custom});},\"aria-expanded\":this.state.custom,\"aria-controls\":\"collapseOne\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0 p-0\"},\"Filter\",/*#__PURE__*/React.createElement(\"i\",{style:{float:'right'},className:this.state.custom?\"fa fa-chevron-down\":\"fa fa-chevron-up\"})))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.custom,\"data-parent\":\"#accordion\",id:\"collapseOne\",\"aria-labelledby\":\"headingOne\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"filter-data\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Month\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"MONTH\",id:\"MONTH\",onChange:function onChange(e){return _this6.selectType(e.target.value,'MONTH');},value:this.state.MONTH},/*#__PURE__*/React.createElement(\"option\",{value:\"All\"},\"All\"),this.state.MONTHList.map(function(type,i){return/*#__PURE__*/React.createElement(\"option\",{value:type.StringMapKey},type.StringMapName);})),/*#__PURE__*/React.createElement(\"em\",{id:\"MONTHError\",className:\"error invalid-feedback\"})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Year\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",min:\"1900\",max:\"2099\",id:\"Year\",name:\"Year\",value:this.state.Year,onChange:function onChange(e){return _this6.handleChange(e,'Year');}}),/*#__PURE__*/React.createElement(\"em\",{id:\"YearError\",className:\"error invalid-feedback\"})),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"div\",null,\"\\xA0\"),/*#__PURE__*/React.createElement(BTN,{color:\"success\",title:\"Search\",onClick:function onClick(){return _this6.filterData();}},\" Search \"))),/*#__PURE__*/React.createElement(Row,null)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this6.dt=el;},value:this.state.arr,first:this.state.selectedPage,onPage:function onPage(e){return _this6.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,header:header,totalRecords:this.state.arr.length,exportFilename:\"Renewal Forecasting Report\",currentPageReportTemplate:this.state.str,scrollable:true,paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"expand\"},columns)));}}]);return Renewal_Forecasting_Report;}(Component);export default withTranslation()(Renewal_Forecasting_Report);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Reports/Renewal_Forecasting_Report.js"],"names":["React","Component","Select","api","moment","DatePicker","withTranslation","DataTable","Column","CommonConfig","Button","MultiSelect","Collapse","BTN","Input","Card","CardHeader","CardBody","Row","Col","toast","APIConstant","Renewal_Forecasting_Report","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","arr","length","str","setState","selectedPage","rowsPerPage","handleChange","target","name","value","monthtillDate","fromDate","toDate","undefined","Year","YearError","show","columns","field","header","sortable","filter","id","style","body","ColumnclassName","bind","filterMatchMode","LanguageId","i18n","language","cols","rowsPerPageOptions","dataTableConfig","globalFilter","searchCollapse","DebtorType","Period","selected","selectedPolicy","selectedAgent","selectAll","DebtorTypeError","agentinfo","agentinfoError","format","MONTHList","MONTH","Date","getMonth","toString","slice","MONTHError","colOptions","col","push","label","export","getOrganazationData","getDropDownValues","rowData","ClientName","ClientCode","AgentName","AgentCode","newSelected","Object","assign","forEach","x","column","toggleRow","Source","SourceName","DaysOutstanding","backgroundColor","color","ProjectedPremium","stringMapType","setStateName","orderBy","data","stringmaptype","orderby","post","path","dropdownbycode","then","res","success","catch","err","error","ShowMonth","console","log","getFullYear","startDate","parseInt","endDate","endOf","formattedData","dataLength","i","tempData","PolicyNumber","RenewalDate","VesselClass","VesselType","Country","VesselRegistrationLocation","SumInsured","TotalDue","LastRenewalConfirmed","DifferenceTotalDue","PecentageChange","Stage","Recommendation","Language","DocLang","Currency","SourceData","MooringName","MooringType","SurveyDueDate","ClaimReportedsincelastrenewal","dt","exportCSV","type","isEmpty","ContactType","OrganizationName","OrganizationId","sourceList","condition","errorField","message","document","getElementById","className","innerHTML","t","map","columnToggleIcon","position","onColumnToggle","width","marginRight","custom","float","selectType","StringMapKey","StringMapName","filterData","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport api from '../../utils/apiClient';\r\nimport moment from 'moment';\r\nimport DatePicker from 'react-date-picker';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { CommonConfig } from '../../utils/constants';\r\nimport { Button } from 'primereact/button';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { Collapse, Button as BTN, Input, Card, CardHeader, CardBody, Row, Col } from 'reactstrap';\r\nimport { toast } from 'react-toastify';\r\nimport APIConstant from '../../utils/constants';\r\n\r\n\r\nclass Renewal_Forecasting_Report extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let columns = [\r\n             /*{ body: this.actionTemplate.bind(this), field: \"Select\", header: \"Select\", sortable: false, id: \"checkbox\", style: { 'width': '45px' } },\r\n           { field: \"Action\", header: \"Action\", sortable: true, filter: true, id: 1, style: { 'width': '45px' } },*/\r\n            { field: \"PolicyNumber\", header: \"Policy Number\", sortable: true, filter: true, id: 1, style: { 'width': '75px' } },\r\n            { field: \"ClientName\", header: \"Client Name\", sortable: true, filter: true, id: 2, style: { 'width': '155px' } },\r\n            { field: \"RenewalDate\", header: \"Renewal Date\", sortable: true, filter: true, id: 3, style: { 'width': '85px' } },\r\n            { field: \"VesselClass\", header: \"Vessel Class\", sortable: true, filter: true, id: 4, style: { 'width': '125px' } },\r\n            { field: \"VesselType\", header: \"Vessel Type \", sortable: true, filter: true, id: 5, style: { 'width': '125px' } },\r\n            { field: \"Country\", header: \"Country\", sortable: true, filter: true, id: 6, style: { 'textAlign': 'right','width': '85px'  } },\r\n            { field: \"VesselRegistrationLocation\", header: \"Vessel Registration Location\", sortable: true, filter: true, id: 7, style: { 'textAlign': 'right','width': '85px'  } },\r\n            { field: \"SumInsured\", header: \"Sum Insured\", sortable: true, filter: true, id: 8, style: { 'width': '75px','textAlign':'right' } },\r\n            { body: this.ColumnclassName.bind(this), field: \"ProjectedPremium\", header: \"Projected Premium\", sortable: true, filter: true, id: 9, style: { 'width': '75px','textAlign':'right' } },\r\n            { field: \"LastRenewalConfirmed\", header: \"Last Renewal Confirmed\", sortable: true, filter: true, id: 10, style: { 'width': '75px' } },\r\n            { field: \"DifferenceTotalDue\", header: \"Difference Total Due\", sortable: true, filter: true, id: 11, style: { 'width': '75px' } },\r\n            { field: \"PecentageChange\", header: \"Percentage Change\", sortable: true, filter: true, id: 12, style: { 'width': '75px' } },\r\n            { field: \"Stage\", header: \"Stage\", sortable: true, filter: true, id: 1, style: { 'width': '105px' } },\r\n            { field: \"Recommendation\", header: \"Recommendation\", sortable: true, filter: true, id: 14, style: { 'width': '75px' } },\r\n            { field: \"Language\", header: \"Language\", sortable: true, filter: true, id: 15, style: { 'width': '75px' } },\r\n            { field: \"Currency\", header: \"Currency\", sortable: true, filter: true, id: 16, style: { 'width': '75px' } },\r\n            {field: \"Source\", header: \"Source\", sortable: true, filter: true, filterMatchMode: 'contains', id: 17, style: { 'width': '150px' } },\r\n            { field: \"SourceName\", header: \"Source Name\", sortable: true, filter: true, filterMatchMode: 'contains', id: 17, style: { 'width': '150px' } },\r\n            { field: \"MooringName\", header: \"Mooring Name\", sortable: true, filter: true, id: 18, style: { 'width': '150px' } },\r\n            { field: \"MooringType\", header: \"Mooring Type\", sortable: true, filter: true, id: 19, style: { 'width': '150px' } },\r\n            { field: \"SurveyDueDate\", header: \"Survey Due Date\", sortable: true, filter: true, id: 20, style: { 'width': '100px' } },\r\n            { field: \"ClaimReportedsincelastrenewal\", header: \"Claim Reported since last renewal\", sortable: true, filter: true, id: 21, style: { 'width': '85px' } },\r\n        ];\r\n\r\n        this.state = {\r\n            LanguageId: (props.i18n.language === 'en') ? 'en-GB' : (props.i18n.language === 'es') ? 'es-ES' : (props.i18n.language === 'ie') ? 'en-IE' : props.i18n.language,\r\n            cols: columns,\r\n            arr: [],\r\n            selectedPage: 0,\r\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\r\n            str: '',\r\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\r\n            globalFilter: null,\r\n            searchCollapse: false,\r\n\r\n            DebtorType: 'SubAgent',\r\n            Period: 0,\r\n            selected: {},\r\n            selectedPolicy: 0,\r\n            selectedAgent: '',\r\n            selectAll: 0,\r\n            DebtorTypeError: false,\r\n            agentinfo: '',\r\n            agentinfoError: false,\r\n            monthtillDate: moment().format(\"YYYY-MM\"),\r\n            fromDate: moment().format(\"YYYY-MM-DD\"),\r\n            toDate: moment().format(\"YYYY-MM-DD\"),\r\n            MONTHList: [],\r\n            MONTH: ('0'+(new Date().getMonth() + 2).toString()).slice(-2),\r\n            MONTHError: false,\r\n            Year: '',\r\n            YearError: false,\r\n        };\r\n\r\n        this.colOptions = [];\r\n        for (let col of columns) {\r\n            this.colOptions.push({ label: col.header, value: col });\r\n        }\r\n\r\n        this.export = this.export.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.Renewal_Forecasting_Report();\r\n        this.getOrganazationData(this.state.DebtorType);\r\n        this.getDropDownValues('MONTH', 'MONTHList', 'StringMapKey');\r\n    }\r\n\r\n    ClientDetails(rowData) {\r\n        return (\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.ClientName}</p>\r\n                <p>{rowData.ClientCode}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    AgentDetails(rowData) {\r\n        return (\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.AgentName}</p>\r\n                <p>{rowData.AgentCode}</p>\r\n            </div>\r\n        )\r\n    }\r\n    toggleRow(id) {\r\n        const newSelected = Object.assign({}, this.state.selected);\r\n        newSelected[id] = !this.state.selected[id];\r\n        this.setState({\r\n            selected: newSelected,\r\n            selectAll: 2\r\n        });\r\n    }\r\n    toggleSelectAll() {\r\n        let newSelected = {};\r\n        if (this.state.selectAll === 0) {\r\n            this.state.arr.forEach(x => {\r\n                newSelected[x.id] = true;\r\n            });\r\n        }\r\n        this.setState({\r\n            selected: newSelected,\r\n            selectAll: this.state.selectAll === 0 ? 1 : 0\r\n        });\r\n    }\r\n\r\n    actionTemplate(rowData, column) {\r\n        return <div>\r\n            <input\r\n                type=\"checkbox\"\r\n                className=\"checkbox\"\r\n                checked={this.state.selected[rowData.id] === true}\r\n                onChange={() => this.toggleRow(rowData.id)} />\r\n        </div>;\r\n    }\r\n    SourceName(rowData) {\r\n        return (rowData.Source === \"Direct\")?\r\n\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.Source}</p>\r\n               \r\n            </div> :\r\n            \r\n\r\n            <div className=\"policy-list-data\">\r\n                <p>{rowData.Source}</p>\r\n                <p>({rowData.SourceName})</p>\r\n            </div>\r\n        ;\r\n    }\r\n    ColumnclassName(rowData,Column) {\r\n \r\n  \r\n        return (rowData.DaysOutstanding <=7)? <div style={{backgroundColor:'#008c9a',color:'#fff'}} className = \"policy-list-data\">\r\n        <p>{rowData.ProjectedPremium}</p>     \r\n    </div> :<div className = \"policy-list-data\" >\r\n                 <p>{rowData.ProjectedPremium}</p>     \r\n             </div>;\r\n        \r\n            \r\n     }\r\n\r\n    getDropDownValues(stringMapType, setStateName, orderBy) {\r\n        try {\r\n            const data = {\r\n                stringmaptype: stringMapType,\r\n                orderby: orderBy\r\n            };\r\n            api.post(APIConstant.path.dropdownbycode, data).then(res => {\r\n                if (res.success) {\r\n                    this.setState({ [setStateName]: res.data });\r\n                } else {\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n\r\n    Renewal_Forecasting_Report() {\r\n        var ShowMonth = this.state.MONTH; console.log(ShowMonth);\r\n        if (ShowMonth ===\"\")\r\n        this.state.MONTH = new Date().getMonth() + 2;\r\n        else\r\n            if (ShowMonth ===\"All\")\r\n            this.state.MONTH = 1;\r\n        if (this.state.Year ===\"\")\r\n        this.state.Year = new Date().getFullYear();\r\n        \r\n        var startDate = moment([parseInt(this.state.Year), parseInt(this.state.MONTH) - 1]).format('YYYY-MM-DD');\r\n\r\n        if(ShowMonth ==='' || ShowMonth ==='All')\r\n        var endDate =  moment(startDate).endOf('year').format('YYYY-MM-DD');\r\n        else \r\n        var endDate =  moment(startDate).endOf('month').format('YYYY-MM-DD');\r\n        var data = {\r\n            fromDate:  startDate,\r\n            toDate: endDate,\r\n        };\r\n        this.state.MONTH = ShowMonth;\r\n        api.post('api/Renewal_Forecasting_Report', data).then(res => {\r\n            if (res.success) {\r\n                var formattedData = [];\r\n                this.setState({\r\n                    selectedPage: 0\r\n                });\r\n                var dataLength = res.data[0].length;\r\n                if (dataLength > 0) {\r\n                    for (let i = 0; i < dataLength; i++) {\r\n                        var tempData = res.data[0][i];\r\n                        console.log(\"tempData\", tempData);\r\n                        formattedData.push({\r\n                            id:i,\r\n                            PolicyNumber: tempData.PolicyNumber,\r\n                            ClientName: tempData.ClientName,\r\n                            RenewalDate: moment(tempData.RenewalDate).format('DD-MM-YYYY'),\r\n                            VesselClass: tempData.VesselClass,\r\n                            VesselType: tempData.VesselType,\r\n                            Country: tempData.Country,\r\n                            VesselRegistrationLocation: tempData.VesselRegistrationLocation,\r\n                            SumInsured: tempData.SumInsured,\r\n                            ProjectedPremium: tempData.TotalDue,\r\n                            LastRenewalConfirmed: tempData.LastRenewalConfirmed,\r\n                            DifferenceTotalDue: tempData.DifferenceTotalDue,\r\n                            PecentageChange: tempData.PecentageChange ? tempData.PecentageChange : '--',\r\n                            Stage: tempData.Stage ? tempData.Stage : '--',\r\n                            Recommendation: tempData.Recommendation ? tempData.Recommendation : '--',\r\n                            Language: tempData.DocLang,\r\n                            Currency: tempData.Currency,\r\n                            Source: tempData.Source,\r\n                            SourceName: tempData.SourceName,\r\n                            SourceData: tempData.Source + \"\" + tempData.SourceName,\r\n                            DaysOutstanding: tempData.DaysOutstanding,\r\n                            MooringName: tempData.MooringName ? tempData.MooringName : '--',\r\n                            MooringType: tempData.MooringType ? tempData.MooringType : '--',\r\n                            SurveyDueDate: tempData.SurveyDueDate ? moment(tempData.SurveyDueDate).format('DD-MM-YYYY') : '--',\r\n                            ClaimReportedsincelastrenewal: tempData.ClaimReportedsincelastrenewal ? tempData.ClaimReportedsincelastrenewal : '--',\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                let firstPage = (formattedData.length) ? '1' : '0';\r\n                let lastPage = (this.state.rowsPerPage < formattedData.length) ? this.state.rowsPerPage : formattedData.length;\r\n                let str = firstPage + ' to ' + lastPage + ' out of ' + formattedData.length + ' records';\r\n                this.setState({ arr: formattedData, str: str });\r\n            }\r\n        });\r\n    }\r\n\r\n    getPageString = (e) => {\r\n        let firstPage = e.first + 1;\r\n        let l = e.rows * (e.page + 1);\r\n        let lastPage = (l < this.state.arr.length) ? l : this.state.arr.length\r\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.arr.length + ' records';\r\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\r\n    }\r\n\r\n    export() {\r\n        this.dt.exportCSV();\r\n    }\r\n\r\n    filterData() {\r\n        this.Renewal_Forecasting_Report();\r\n    }\r\n\r\n    handleChange = (e) => {\r\n\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.name === 'monthtillDate') {\r\n            this.setState({ monthtillDate: e.target.value });\r\n        }\r\n\r\n        if (e.target.name === 'fromDate') {\r\n            this.setState({ fromDate: e.target.value });\r\n        }\r\n\r\n        if (e.target.name === 'toDate') {\r\n            this.setState({ toDate: e.target.value });\r\n        }\r\n\r\n        if (e.target.name === 'Year') {\r\n\r\n            if (e.target.value === null || e.target.value === undefined || e.target.value === '') {\r\n                this.setState({ Year: e.target.value, YearError: true });\r\n                this.show('Year', true, 'YearError', 'Please Enter Year');\r\n            } else {\r\n                this.setState({ Year: e.target.value, YearError: false });\r\n                this.show('Year', false, 'YearError', '');\r\n            }\r\n        }\r\n    }\r\n\r\n    selectType(value, type) {\r\n\r\n        if (type === 'DebtorType') {\r\n\r\n            this.setState({ DebtorTypeError: false, DebtorType: value });\r\n            this.show('DebtorType', false, \"DebtorTypeError\", \"\");\r\n            this.getOrganazationData(value)\r\n\r\n        }\r\n\r\n        if (type === 'agentinfo') {\r\n\r\n            this.setState({ agentinfo: value, agentinfoError: false });\r\n            this.show('agentinfo', false, 'agentinfoError', '');\r\n\r\n        }\r\n\r\n        if (type === 'Period') {\r\n            this.setState({ Period: value });\r\n        }\r\n\r\n        if (type === 'MONTH') {\r\n            if (CommonConfig.isEmpty(value)) {\r\n                this.setState({ MONTHError: true, MONTH: value });\r\n                this.show('MONTH', true, \"MONTHError\", \"Please select Date Type\");\r\n            } else {\r\n                this.setState({ MONTHError: false, MONTH: value });\r\n                this.show('MONTH', false, \"MONTHError\", \"\");\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    getOrganazationData(ContactType) {\r\n        try {\r\n            let data = { ContactType: ContactType };\r\n            api.post('api/getOrganazationData', data).then(res => {\r\n                if (res.success) {\r\n                    var formattedData = [];\r\n                    for (let i = 0; i < res.data.length; i++) {\r\n                        formattedData.push({\r\n                            label: res.data[i].OrganizationName,\r\n                            value: res.data[i].OrganizationId,\r\n                        })\r\n                    }\r\n                    this.setState({ sourceList: formattedData });\r\n                } else {\r\n                    console.log('getOrganazationData_error');\r\n                }\r\n            }).catch(err => {\r\n                console.log('getOrganazationData', err);\r\n            });\r\n        } catch (error) {\r\n            console.log('getOrganazationData', error);\r\n        }\r\n    }\r\n\r\n    show(field, condition, errorField, message) {\r\n        if (condition) {\r\n            if (document.getElementById(field))\r\n                document.getElementById(field).className = \"form-control is-invalid\";\r\n\r\n            if (document.getElementById(errorField))\r\n                document.getElementById(errorField).innerHTML = '<p>' + message + ' </p>';\r\n        } else {\r\n            if (document.getElementById(field))\r\n                document.getElementById(field).className = \"form-control\";\r\n\r\n            if (document.getElementById(errorField))\r\n                document.getElementById(errorField).innerHTML = null;\r\n        }\r\n    }\r\n\r\n    ReferrData(){\r\n        var data = {\r\n                   };\r\n               \r\n        // api.post('api/Renewal_Forecasting_Report', data).then(res => {\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        var header = null;\r\n\r\n        let columns = this.state.cols.map((col, i) => {\r\n            return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} style={col.style}\r\n            />;\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1>Renewal Forecasting Report</h1>\r\n                    <div className=\"header-right-option\">\r\n                        <MultiSelect value={this.state.cols} options={this.colOptions}\r\n                            fixedPlaceholder={true} placeholder={CommonConfig.dataTableConfig.columnToggleIcon} tooltip=\"Show / Hide Column\" tooltipOptions={{ position: 'bottom' }}\r\n                            onChange={this.onColumnToggle} style={{ width: '50px' }}\r\n                        />\r\n\r\n                        <Button type=\"button\" icon=\"pi pi-external-link\" tooltip=\"Export as CSV\" tooltipOptions={{ position: 'bottom' }} onClick={this.export} style={{ marginRight: 10 }}></Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"input-box\" id=\"accordion\">\r\n                    <Card className=\"mb-0\">\r\n                        <CardHeader id=\"headingOne\">\r\n                            <BTN block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.setState({ custom: !this.state.custom })} aria-expanded={this.state.custom} aria-controls=\"collapseOne\">\r\n                                <h5 className=\"m-0 p-0\">\r\n                                    Filter\r\n                        <i style={{ float: 'right' }} className={this.state.custom ? \"fa fa-chevron-down\" : \"fa fa-chevron-up\"}></i>\r\n                                </h5>\r\n                            </BTN>\r\n                        </CardHeader>\r\n                        <Collapse isOpen={this.state.custom} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                            <CardBody>\r\n                                <div className=\"filter-data\">\r\n                                    <Row>\r\n                                        <Col md='3'>\r\n                                            <label>Month</label>\r\n                                            <Input type=\"select\" name=\"MONTH\" id=\"MONTH\" onChange={(e) => this.selectType(e.target.value, 'MONTH')} value={this.state.MONTH}>\r\n                                            <option value='All'>All</option>\r\n                                                {this.state.MONTHList.map((type, i) => {\r\n                                                    return (<option value={type.StringMapKey}>{type.StringMapName}</option>)\r\n                                                })\r\n                                                }\r\n                                            </Input>\r\n                                            <em id=\"MONTHError\" className=\"error invalid-feedback\"></em>\r\n                                        </Col>\r\n                                        <Col md='3'>\r\n\r\n                                            <label>Year</label>\r\n                                            <Input type=\"number\" min=\"1900\" max=\"2099\" id=\"Year\" name=\"Year\"\r\n                                                value={this.state.Year}\r\n                                                onChange={(e) => this.handleChange(e, 'Year')}\r\n                                            ></Input>\r\n\r\n                                            <em id=\"YearError\" className=\"error invalid-feedback\"></em>\r\n                                        </Col>\r\n                                        <Col md='2'>\r\n                                            <div>&nbsp;</div>\r\n                                            <BTN color=\"success\" title=\"Search\" onClick={() => this.filterData()}> Search </BTN>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        {/* <Col md='3'>\r\n                                            <label>Month</label>\r\n                                            <Input type=\"select\" name=\"MONTH\" id=\"MONTH\" onChange={(e) => this.selectType(e.target.value, 'MONTH')} value={this.state.MONTH}>\r\n                                                {this.state.MONTHList.map((type, i) => {\r\n                                                    return (<option value={type.StringMapKey}>{type.StringMapName}</option>)\r\n                                                })\r\n                                                }\r\n                                            </Input>\r\n                                            <em id=\"MONTHError\" className=\"error invalid-feedback\"></em>\r\n                                        </Col> */}\r\n\r\n                                       {/*} <Col md='2'>\r\n                                            <div>&nbsp;</div>\r\n                                            <BTN color=\"success\" title=\"Search\" onClick={() => this.ReferrData()}> Refer </BTN>\r\n                                    </Col>*/}\r\n                                    </Row>\r\n                                </div>\r\n                            </CardBody>\r\n                        </Collapse>\r\n                    </Card>\r\n                </div>\r\n\r\n                <div className=\"table-custom\">\r\n                    <DataTable ref={(el) => this.dt = el} value={this.state.arr} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\r\n                        paginator={true} rows={this.state.rowsPerPage} header={header} totalRecords={this.state.arr.length} exportFilename=\"Renewal Forecasting Report\"\r\n                        currentPageReportTemplate={this.state.str}\r\n                        scrollable={true}\r\n                        paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\r\n                        responsive={true} resizableColumns={true} columnResizeMode=\"expand\">\r\n                        {columns}\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default withTranslation()(Renewal_Forecasting_Report);\r\n"]},"metadata":{},"sourceType":"module"}