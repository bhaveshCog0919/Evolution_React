{"ast":null,"code":"import _defineProperty from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{toast}from'react-toastify';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import moment from'moment';import{Container,Form,Col,Row,Input,Card,CardBody,Button,Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';import api from'../../../utils/apiClient';import APIConstant,{CommonConfig}from'../../../utils/constants';import{PickList}from'primereact/picklist';var targetLength=0;var AddMooringZone=/*#__PURE__*/function(_Component){_inherits(AddMooringZone,_Component);var _super=_createSuper(AddMooringZone);function AddMooringZone(props){var _this;_classCallCheck(this,AddMooringZone);_this=_super.call(this,props);_this.onChange=function(event){console.log(\"event\",event);_this.setState({arr:event.source,target:event.target});targetLength=event.target.length;console.log(\"event\",targetLength);};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));if(e.target.name==='mooringTitle'){if(e.target.value===''||e.target.value===null){_this.setState({mooringTitleError:true});_this.show(\"mooringTitle\",true);}else{var invSpace=CommonConfig.RegExp.allowAllWithSpace;var mooringTitle=e.target.value;if(!invSpace.test(mooringTitle)){_this.setState({mooringTitleError:true});_this.show(\"mooringTitle\",true);}else{_this.setState({mooringTitleError:false,mooringTitle:e.target.value});_this.show(\"mooringTitle\",false);}}}if(e.target.name==='mooringSummary'){if(e.target.value===''||e.target.value===null){_this.setState({mooringSummaryError:true});_this.show(\"mooringSummary\",true);}else{var _invSpace=CommonConfig.RegExp.allowAllWithSpace;var mooringSummary=e.target.value;if(!_invSpace.test(mooringSummary)){_this.setState({mooringSummaryError:true});_this.show(\"mooringSummary\",true);}else{_this.setState({mooringSummaryError:false,mooringSummary:e.target.value});_this.show(\"mooringSummary\",false);}}}if(e.target.name==='effectiveDate'){if(e.target.value===''||e.target.value===null){_this.setState({effectiveDateError:true});_this.show(\"effectiveDate\",true);}else{_this.setState({effectiveDateError:false,effectiveDate:e.target.value});_this.show(\"effectiveDate\",false);}}};_this.toggleLarge=function(){_this.setState({isDeleteModel:false,MooringZoneId:''});};_this.state={Id:'',mooringtitle:'Title',mooringTitle:'',mooringTitleError:true,mooringsummary:'Summary',mooringSummary:'',mooringSummaryError:true,effectivedate:'Effective Date',effectiveDate:moment().format('YYYY-MM-DD'),effectiveDateError:false,MooringName:'',nameArray:[],MooringZoneId:'',arr:[],source:[],target:[],isEdit:false,targetError:true,sourceHeader:\"Available to assign\",targetHeader:\"Assigned\",isDeleteModel:false};_this.mooringZoneTemp=_this.mooringZoneTemp.bind(_assertThisInitialized(_this));return _this;}_createClass(AddMooringZone,[{key:\"componentDidMount\",value:function componentDidMount(){targetLength=0;this.getMooringZones();this.getMooringZoneTitla();}},{key:\"getMooringZoneTitla\",value:function getMooringZoneTitla(){var _this2=this;api.post('api/getMooringZone').then(function(res){console.log(\"getMooringZone\",res);if(res.success){var nameArray=[];for(var i=0;i<res.data.length;i++){nameArray.push({MooringZoneId:res.data[i].MooringZoneId,Title:res.data[i].MooringZoneName});_this2.setState({nameArray:nameArray});}}else{console.log(\"Else\");}}).catch(function(err){});}},{key:\"getMooringZoneDetails\",value:function getMooringZoneDetails(Id,MooringData){var _this3=this;console.log(\"getMooringZoneDetails\",Id,MooringData);try{var data={Id:Id};api.post('api/getMooringZoneDetails',data).then(function(res){if(res.success){console.log(\"getMooringZoneDetails\",res.data);_this3.setState({mooringTitle:res.data[0].MooringZoneName,mooringSummary:res.data[0].Summary,effectiveDate:moment(res.data[0].StartDate).format('YYYY-MM-DD'),mooringTitleError:false,mooringSummaryError:false,effectiveDateError:false,MooringZoneId:Id});api.post('api/getMooringZoneLocationsById',data).then(function(res){if(res.success){var targetMooringGuideIdArr=MooringData;for(var i=0;i<res.data.length;i++){var targetMooringGuideId=res.data[i].MooringGuideId;targetMooringGuideIdArr=targetMooringGuideIdArr.filter(function(e){return e.MooringGuideId!=targetMooringGuideId;});}targetLength=res.data.length;_this3.setState({arr:targetMooringGuideIdArr,target:res.data});}else{}});}});}catch(error){console.log(\"error\",error);}}},{key:\"mooringZoneTemp\",value:function mooringZoneTemp(car){return/*#__PURE__*/React.createElement(\"div\",{className:\"p-clearfix\"},/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'14px',float:'left',margin:'15px 5px 0 0'}},car.MooringName));}},{key:\"getMooringZones\",value:function getMooringZones(){var _this4=this;api.post('api/getMooringGuide').then(function(res){if(res.success){if(_this4.props.match.params.constructor===Object&&Object.keys(_this4.props.match.params).length!==0){_this4.getMooringZoneDetails(_this4.props.match.params.Id,res.data);_this4.setState({isEdit:true});}else{_this4.setState({arr:res.data});}}else{console.log(\"Else\");}}).catch(function(err){});}},{key:\"show\",value:function show(field,condition){if(condition){document.getElementById(field).className=\"form-control is-invalid\";}else{document.getElementById(field).className=\"form-control\";}}},{key:\"saveMooringZone\",value:function saveMooringZone(){var _this5=this;debugger;if(this.state.mooringTitleError===true){this.show(\"mooringTitle\",this.state.mooringTitleError);}else if(this.state.mooringSummaryError===true){this.show(\"mooringSummary\",this.state.mooringSummaryError);}else if(this.state.effectiveDateError===true){this.show(\"effectiveDate\",this.state.effectiveDateError);}else{var checkTitleName;if(this.state.isEdit==true){var array=this.state.nameArray.filter(function(x){return x.MooringZoneId!==_this5.state.MooringZoneId;});checkTitleName=array.filter(function(x){return x.Title===_this5.state.mooringTitle;});if(checkTitleName.length){toast.error(\"MooringZone title already exist\");return null;}}if(this.state.isEdit==false){checkTitleName=this.state.nameArray.filter(function(x){return x.Title===_this5.state.mooringTitle;});if(checkTitleName.length){toast.error(\"MooringZone title already exist\");return null;}}var data={MooringZoneId:this.state.MooringZoneId,mooringTitle:this.state.mooringTitle,mooringSummary:this.state.mooringSummary,target:this.state.target,effectiveDate:this.state.effectiveDate,LoggedInUserId:CommonConfig.loggedInUserId()};api.post('api/addUpdateMooringZone',data).then(function(res){if(res.success){// debugger\ntoast.success('Mooring Zone added successfully');_this5.cancelMooringZone();}else{}}).catch(function(err){});}}},{key:\"resetMooringZone\",value:function resetMooringZone(){this.setState({mooringTitle:'',mooringSummary:'',target:[]});}},{key:\"cancelMooringZone\",value:function cancelMooringZone(){this.resetMooringZone();this.props.history.push({pathname:'/Master/MooringZone'});}},{key:\"deleteMooringZone\",value:function deleteMooringZone(){this.setState({isDeleteModel:true});}},{key:\"Delete\",value:function Delete(){var _this6=this;try{var data={MooringZoneId:this.state.MooringZoneId,LoggedInUserId:CommonConfig.loggedInUserId()};api.post('api/deleteMooringZone',data).then(function(res){if(res.success){toast.success(\"Mooring Zone deleted successfully\");_this6.cancelMooringZone();}});}catch(error){console.log(\"error\",error);}}},{key:\"render\",value:function render(){var _this7=this;console.log(\"thi.state.arr\",this.state.arr);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"basic-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\" \",this.state.isEdit?\"Edit Mooring Zone\":\"Add Mooring Zone\",\" \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Form,{encType:\"multipart/form-data\",autoComplete:\"of\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.mooringtitle)),/*#__PURE__*/React.createElement(Col,{md:\"10\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"mooringTitle\",id:\"mooringTitle\",onChange:function onChange(e){return _this7.handleChange(e);},value:this.state.mooringTitle}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter mooring zone title\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.mooringsummary)),/*#__PURE__*/React.createElement(Col,{md:\"10\"},/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"mooringSummary\",id:\"mooringSummary\",onChange:function onChange(e){return _this7.handleChange(e);},value:this.state.mooringSummary}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter mooring zone summary\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(\"label\",null,this.state.effectivedate)),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"effectiveDate\",id:\"effectiveDate\",onChange:function onChange(e){return _this7.handleChange(e);},value:this.state.effectiveDate,min:moment().format('YYYY-MM-DD'),max:moment().add(100,'years').format('YYYY-MM-DD')}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter effective date\"))))))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-box\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PickList,{source:this.state.arr,target:this.state.target,itemTemplate:this.mooringZoneTemp,showTargetControls:false,showSourceControls:false,sourceHeader:this.state.sourceHeader,targetHeader:this.state.targetHeader+' ('+targetLength+')',responsive:true,sourceStyle:{height:'250px',padding:'0px'},targetStyle:{height:'250px',padding:'0px !important'},onChange:function onChange(e){return _this7.onChange(e);}}),/*#__PURE__*/React.createElement(\"em\",{className:\"error invalid-feedback\"},\"Please enter mooring locations in active mooring locations\")))))),/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"15px\"}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Button,{style:{marginLeft:\"10px\"},color:\"primary\",onClick:function onClick(){return _this7.saveMooringZone();}},/*#__PURE__*/React.createElement(\"i\",{style:{marginRight:\"10px\"},className:\"fa fa-check\"}),\"Save\"),/*#__PURE__*/React.createElement(Button,{style:{marginLeft:\"10px\"},onClick:function onClick(){return _this7.resetMooringZone();}},\"Reset\"),this.state.isEdit==true?/*#__PURE__*/React.createElement(Button,{style:{marginLeft:\"10px\"},color:\"danger\",onClick:function onClick(){return _this7.deleteMooringZone();}},/*#__PURE__*/React.createElement(\"i\",{style:{marginRight:\"10px\"},className:\"fa fa-check\"}),\"Delete\"):null,/*#__PURE__*/React.createElement(Button,{style:{marginLeft:\"10px\"},onClick:function onClick(){return _this7.cancelMooringZone();}},/*#__PURE__*/React.createElement(\"i\",{style:{marginRight:\"10px\"},className:\"fa fa-times\"}),\"Cancel\"))))))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.isDeleteModel,toggle:this.toggleLarge,className:'modal-lg '+this.props.className},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleLarge},\"Delete MooringZone\"),/*#__PURE__*/React.createElement(ModalBody,null,\"Are you sure, You want to delete this MooringZone \",this.state.mooringTitle,\"?\"),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:function onClick(){return _this7.Delete();}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\"}),\"Yes\"),' ',/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:this.toggleLarge},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-close\"}),\"No\"))));}}]);return AddMooringZone;}(Component);export default AddMooringZone;","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Master/MooringZones/AddMooringZone.js"],"names":["React","Component","toast","moment","Container","Form","Col","Row","Input","Card","CardBody","Button","Modal","ModalBody","ModalFooter","ModalHeader","api","APIConstant","CommonConfig","PickList","targetLength","AddMooringZone","props","onChange","event","console","log","setState","arr","source","target","length","handleChange","e","name","value","mooringTitleError","show","invSpace","RegExp","allowAllWithSpace","mooringTitle","test","mooringSummaryError","mooringSummary","effectiveDateError","effectiveDate","toggleLarge","isDeleteModel","MooringZoneId","state","Id","mooringtitle","mooringsummary","effectivedate","format","MooringName","nameArray","isEdit","targetError","sourceHeader","targetHeader","mooringZoneTemp","bind","getMooringZones","getMooringZoneTitla","post","then","res","success","i","data","push","Title","MooringZoneName","catch","err","MooringData","Summary","StartDate","targetMooringGuideIdArr","targetMooringGuideId","MooringGuideId","filter","error","car","fontSize","float","margin","match","params","constructor","Object","keys","getMooringZoneDetails","field","condition","document","getElementById","className","checkTitleName","array","x","LoggedInUserId","loggedInUserId","cancelMooringZone","resetMooringZone","history","pathname","add","height","padding","marginLeft","saveMooringZone","marginRight","deleteMooringZone","Delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport moment from 'moment';\r\nimport { Container, Form, Col, Row, Input, Card, CardBody, Button, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport api from '../../../utils/apiClient';\r\nimport APIConstant, { CommonConfig } from '../../../utils/constants';\r\nimport { PickList } from 'primereact/picklist';\r\nvar targetLength = 0;\r\nclass AddMooringZone extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            Id: '',\r\n            mooringtitle: 'Title',\r\n            mooringTitle: '',\r\n            mooringTitleError: true,\r\n\r\n            mooringsummary: 'Summary',\r\n            mooringSummary: '',\r\n            mooringSummaryError: true,\r\n\r\n            effectivedate: 'Effective Date',\r\n            effectiveDate: moment().format('YYYY-MM-DD'),\r\n            effectiveDateError: false,\r\n\r\n            MooringName: '',\r\n            nameArray: [],\r\n            MooringZoneId: '',\r\n\r\n            arr: [],\r\n            source: [],\r\n            target: [],\r\n            isEdit: false,\r\n            targetError: true,\r\n            sourceHeader: \"Available to assign\",\r\n            targetHeader: \"Assigned\",\r\n            isDeleteModel: false,\r\n        };\r\n        this.mooringZoneTemp = this.mooringZoneTemp.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        targetLength = 0;\r\n        this.getMooringZones();\r\n        this.getMooringZoneTitla();\r\n    }\r\n\r\n    getMooringZoneTitla() {\r\n        api.post('api/getMooringZone').then(res => {\r\n            console.log(\"getMooringZone\", res);\r\n            if (res.success) {\r\n                var nameArray = [];\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    nameArray.push({\r\n                        MooringZoneId: res.data[i].MooringZoneId,\r\n                        Title: res.data[i].MooringZoneName,\r\n                    });\r\n                    this.setState({ nameArray: nameArray });\r\n                }\r\n            } else {\r\n                console.log(\"Else\");\r\n\r\n            }\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    getMooringZoneDetails(Id, MooringData) {\r\n        console.log(\"getMooringZoneDetails\", Id, MooringData);\r\n        try {\r\n            let data = {\r\n                Id: Id\r\n            }\r\n            api.post('api/getMooringZoneDetails', data).then(res => {\r\n                if (res.success) {\r\n                    console.log(\"getMooringZoneDetails\", res.data);\r\n                    this.setState({ mooringTitle: res.data[0].MooringZoneName, mooringSummary: res.data[0].Summary, effectiveDate: moment(res.data[0].StartDate).format('YYYY-MM-DD'), mooringTitleError: false, mooringSummaryError: false, effectiveDateError: false, MooringZoneId: Id });\r\n                    api.post('api/getMooringZoneLocationsById', data).then(res => {\r\n                        if (res.success) {\r\n                            var targetMooringGuideIdArr = MooringData;\r\n                            for (var i = 0; i < res.data.length; i++) {\r\n                                var targetMooringGuideId = res.data[i].MooringGuideId;\r\n                                targetMooringGuideIdArr = targetMooringGuideIdArr.filter(function (e) {\r\n                                    return e.MooringGuideId != targetMooringGuideId;\r\n                                })\r\n                            }\r\n                            targetLength = res.data.length;\r\n                            this.setState({\r\n                                arr: targetMooringGuideIdArr,\r\n                                target: res.data\r\n                            });\r\n                        } else {\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    }\r\n\r\n    mooringZoneTemp(car) {\r\n        return (\r\n            <div className='p-clearfix'>\r\n                <div style={{ fontSize: '14px', float: 'left', margin: '15px 5px 0 0' }}>\r\n                    {car.MooringName}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onChange = (event) => {\r\n        console.log(\"event\", event);\r\n        this.setState({\r\n            arr: event.source,\r\n            target: event.target,\r\n        });\r\n        targetLength = event.target.length;\r\n        console.log(\"event\", targetLength);\r\n    }\r\n\r\n    getMooringZones() {\r\n        api.post('api/getMooringGuide').then(res => {\r\n            if (res.success) {\r\n\r\n                if (this.props.match.params.constructor === Object && Object.keys(this.props.match.params).length !== 0) {\r\n                    this.getMooringZoneDetails(this.props.match.params.Id, res.data);\r\n                    this.setState({ isEdit: true })\r\n                } else {\r\n                    this.setState({ arr: res.data });\r\n                }\r\n            } else {\r\n                console.log(\"Else\");\r\n            }\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n        if (e.target.name === 'mooringTitle') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ mooringTitleError: true });\r\n                this.show(\"mooringTitle\", true);\r\n            } else {\r\n                let invSpace = CommonConfig.RegExp.allowAllWithSpace;\r\n                let mooringTitle = e.target.value;\r\n                if (!invSpace.test(mooringTitle)) {\r\n                    this.setState({ mooringTitleError: true });\r\n                    this.show(\"mooringTitle\", true);\r\n                } else {\r\n                    this.setState({ mooringTitleError: false, mooringTitle: e.target.value });\r\n                    this.show(\"mooringTitle\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'mooringSummary') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ mooringSummaryError: true });\r\n                this.show(\"mooringSummary\", true);\r\n            } else {\r\n                let invSpace = CommonConfig.RegExp.allowAllWithSpace;\r\n                let mooringSummary = e.target.value;\r\n                if (!invSpace.test(mooringSummary)) {\r\n                    this.setState({ mooringSummaryError: true });\r\n                    this.show(\"mooringSummary\", true);\r\n                } else {\r\n                    this.setState({ mooringSummaryError: false, mooringSummary: e.target.value });\r\n                    this.show(\"mooringSummary\", false);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (e.target.name === 'effectiveDate') {\r\n            if (e.target.value === '' || e.target.value === null) {\r\n                this.setState({ effectiveDateError: true });\r\n                this.show(\"effectiveDate\", true);\r\n            } else {\r\n                this.setState({ effectiveDateError: false, effectiveDate: e.target.value });\r\n                this.show(\"effectiveDate\", false);\r\n            }\r\n        }\r\n    }\r\n\r\n    show(field, condition) {\r\n        if (condition) {\r\n            document.getElementById(field).className = \"form-control is-invalid\";\r\n        } else {\r\n            document.getElementById(field).className = \"form-control\";\r\n        }\r\n    }\r\n\r\n    saveMooringZone() {\r\n        debugger\r\n        if (this.state.mooringTitleError === true) {\r\n            this.show(\"mooringTitle\", this.state.mooringTitleError);\r\n        } else if (this.state.mooringSummaryError === true) {\r\n            this.show(\"mooringSummary\", this.state.mooringSummaryError);\r\n        } else if (this.state.effectiveDateError === true) {\r\n            this.show(\"effectiveDate\", this.state.effectiveDateError);\r\n        } else {\r\n            var checkTitleName;\r\n            if (this.state.isEdit == true) {\r\n                let array = this.state.nameArray.filter(x => x.MooringZoneId !== this.state.MooringZoneId);\r\n                checkTitleName = array.filter(x => x.Title === this.state.mooringTitle);\r\n                if (checkTitleName.length) {\r\n                    toast.error(\"MooringZone title already exist\");\r\n                    return null;\r\n                }\r\n            }\r\n            if (this.state.isEdit == false) {\r\n                checkTitleName = this.state.nameArray.filter(x => x.Title === this.state.mooringTitle);\r\n                if (checkTitleName.length) {\r\n                    toast.error(\"MooringZone title already exist\");\r\n                    return null;\r\n                }\r\n            }\r\n            var data = {\r\n                MooringZoneId: this.state.MooringZoneId,\r\n                mooringTitle: this.state.mooringTitle,\r\n                mooringSummary: this.state.mooringSummary,\r\n                target: this.state.target,\r\n                effectiveDate: this.state.effectiveDate,\r\n                LoggedInUserId: CommonConfig.loggedInUserId()\r\n            }\r\n            api.post('api/addUpdateMooringZone', data).then(res => {\r\n                if (res.success) {\r\n                    // debugger\r\n                    toast.success('Mooring Zone added successfully');\r\n                    this.cancelMooringZone();\r\n                } else {\r\n\r\n                }\r\n            }).catch(err => {\r\n            });\r\n        }\r\n    }\r\n\r\n    resetMooringZone() {\r\n        this.setState({\r\n            mooringTitle: '', mooringSummary: '',\r\n            target: []\r\n        });\r\n    }\r\n\r\n    cancelMooringZone() {\r\n        this.resetMooringZone();\r\n        this.props.history.push({\r\n            pathname: '/Master/MooringZone'\r\n        });\r\n    }\r\n\r\n    deleteMooringZone() {\r\n        this.setState({ isDeleteModel: true });\r\n    }\r\n\r\n    toggleLarge = () => {\r\n        this.setState({\r\n            isDeleteModel: false,\r\n            MooringZoneId: '',\r\n        });\r\n    }\r\n\r\n    Delete() {\r\n        try {\r\n            let data = {\r\n                MooringZoneId: this.state.MooringZoneId,\r\n                LoggedInUserId: CommonConfig.loggedInUserId()\r\n            }\r\n            api.post('api/deleteMooringZone', data).then(res => {\r\n                if (res.success) {\r\n                    toast.success(\"Mooring Zone deleted successfully\");\r\n                    this.cancelMooringZone();\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(\"thi.state.arr\", this.state.arr);\r\n        return (\r\n            <div>\r\n                <div className=\"basic-header\">\r\n                    <h1> {this.state.isEdit ? \"Edit Mooring Zone\" : \"Add Mooring Zone\"} </h1>\r\n                </div>\r\n                <div>\r\n                    <Container>\r\n                        <Form encType=\"multipart/form-data\" autoComplete=\"of\">\r\n                            <Col>\r\n                                <Card>\r\n                                    <CardBody>\r\n                                        <div className=\"input-box\">\r\n                                            <Row>\r\n                                                <Col md=\"2\">\r\n                                                    <label>{this.state.mooringtitle}</label>\r\n                                                </Col>\r\n                                                <Col md=\"10\">\r\n                                                    <div>\r\n                                                        <Input type=\"text\" name=\"mooringTitle\" id=\"mooringTitle\" onChange={(e) => this.handleChange(e)} value={this.state.mooringTitle}>\r\n                                                        </Input>\r\n                                                        <em className=\"error invalid-feedback\" >Please enter mooring zone title</em>\r\n                                                    </div>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </div>\r\n\r\n                                        <div className=\"input-box\">\r\n                                            <Row>\r\n                                                <Col md=\"2\">\r\n                                                    <label>{this.state.mooringsummary}</label>\r\n                                                </Col>\r\n                                                <Col md=\"10\">\r\n                                                    <Input type=\"textarea\" name=\"mooringSummary\" id=\"mooringSummary\" onChange={(e) => this.handleChange(e)} value={this.state.mooringSummary}>\r\n                                                    </Input>\r\n                                                    <em className=\"error invalid-feedback\" >Please enter mooring zone summary</em>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </div>\r\n\r\n                                        <div className=\"input-box\">\r\n                                            <Row>\r\n                                                <Col md=\"2\">\r\n                                                    <label>{this.state.effectivedate}</label>\r\n                                                </Col>\r\n                                                <Col md=\"3\">\r\n                                                    <Input type=\"date\" name=\"effectiveDate\" id=\"effectiveDate\" onChange={(e) => this.handleChange(e)} value={this.state.effectiveDate}\r\n                                                        min={moment().format('YYYY-MM-DD')}\r\n                                                        max={moment().add(100, 'years').format('YYYY-MM-DD')}\r\n                                                    >\r\n                                                    </Input>\r\n                                                    <em className=\"error invalid-feedback\" >Please enter effective date</em>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </div>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col>\r\n                                <Card>\r\n                                    <CardBody>\r\n                                        <div className=\"input-box\">\r\n                                            <div>\r\n                                                <PickList source={this.state.arr} target={this.state.target} itemTemplate={this.mooringZoneTemp} showTargetControls={false} showSourceControls={false}\r\n                                                    sourceHeader={this.state.sourceHeader} targetHeader={this.state.targetHeader + ' (' + targetLength + ')'}\r\n                                                    responsive={true} sourceStyle={{ height: '250px', padding: '0px' }} targetStyle={{ height: '250px', padding: '0px !important' }}\r\n                                                    onChange={(e) => this.onChange(e)} />\r\n\r\n                                                <em className=\"error invalid-feedback\" >Please enter mooring locations in active mooring locations</em>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col md=\"12\">\r\n                                <div style={{ margin: \"15px\" }}>\r\n                                    <Row >\r\n                                        <Button style={{ marginLeft: \"10px\" }} color=\"primary\" onClick={() => this.saveMooringZone()}>\r\n                                            <i style={{ marginRight: \"10px\" }} className=\"fa fa-check\"></i>\r\n                                            Save\r\n                                            </Button>\r\n\r\n                                        <Button style={{ marginLeft: \"10px\" }} onClick={() => this.resetMooringZone()}>\r\n                                            {/* <i style={{ marginRight: \"10px\" }} className=\"fa fa-check\"></i> */}\r\n                                            Reset\r\n                                            </Button>\r\n\r\n                                        {(this.state.isEdit == true) ? (\r\n                                            <Button style={{ marginLeft: \"10px\" }} color=\"danger\" onClick={() => this.deleteMooringZone()}>\r\n                                                <i style={{ marginRight: \"10px\" }} className=\"fa fa-check\"></i>\r\n                                                Delete\r\n                                            </Button>\r\n                                        ) : (\r\n                                                null\r\n                                            )}\r\n\r\n                                        <Button style={{ marginLeft: \"10px\" }} onClick={() => this.cancelMooringZone()}>\r\n                                            <i style={{ marginRight: \"10px\" }} className=\"fa fa-times\"></i>\r\n                                            Cancel\r\n                                            </Button>\r\n                                    </Row>\r\n                                </div>\r\n                            </Col>\r\n                        </Form>\r\n                    </Container>\r\n                </div>\r\n                <Modal isOpen={this.state.isDeleteModel} toggle={this.toggleLarge}\r\n                    className={'modal-lg ' + this.props.className}>\r\n                    <ModalHeader toggle={this.toggleLarge}>Delete MooringZone</ModalHeader>\r\n                    <ModalBody>\r\n                        Are you sure, You want to delete this MooringZone {this.state.mooringTitle}?\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"success\" onClick={() => this.Delete()}><i class=\"fa fa-check\"></i>Yes</Button>{' '}\r\n                        <Button color=\"primary\" onClick={this.toggleLarge}><i class=\"fa fa-close\"></i>No</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddMooringZone;"]},"metadata":{},"sourceType":"module"}