{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{TabView,TabPanel}from'primereact/tabview';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import api from'../../utils/apiClient';import{Button as BTN}from'primereact/button';import{Card,CardBody,Col,Table,Row,Input,Button,CardHeader,Collapse,Nav,NavItem,NavLink,TabContent,TabPane,Modal,ModalHeader,ModalBody,ModalFooter,InputGroup,Form,UncontrolledTooltip}from'reactstrap';import APIConstant,{CommonConfig}from'../../utils/constants';import{withTranslation}from'react-i18next';import{InputText}from'primereact/inputtext';import moment from'moment';var ClaimList=/*#__PURE__*/function(_Component){_inherits(ClaimList,_Component);var _super=_createSuper(ClaimList);function ClaimList(props){var _this;_classCallCheck(this,ClaimList);_this=_super.call(this,props);_this.getPageString=function(e){var firstPage=e.first+1;var l=e.rows*(e.page+1);var lastPage=l<_this.state.claimsList.length?l:_this.state.claimsList.length;var str=firstPage+' to '+lastPage+' out of '+_this.state.claimsList.length+' records';_this.setState({selectedPage:e.first,str:str,rowsPerPage:e.rows});};var columns=[{body:_this.claimDataTemplate.bind(_assertThisInitialized(_this)),header:\"Claim Number [Policy Number]\",sortable:true,filter:true,filterMatchMode:'contains',id:0},{body:_this.VesselClaimTemplate.bind(_assertThisInitialized(_this)),header:\"Vessel / Claim Type\",sortable:true,filter:true,filterMatchMode:'contains',id:1},{field:\"Name\",header:\"Full Name\",sortable:true,filter:true,filterMatchMode:'contains',id:2},{body:_this.dateTemplate.bind(_assertThisInitialized(_this)),header:\"Loss Date / Date Reported / Binder Year\",sortable:true,filter:true,filterMatchMode:'contains',id:3},{body:_this.stageDataTemplate.bind(_assertThisInitialized(_this)),header:\"Stage\",sortable:true,filter:true,filterMatchMode:'contains',id:4},{field:\"HandledBy\",header:\"Handler\",sortable:true,filter:true,filterMatchMode:'contains',id:5},{body:_this.actionTemplate.bind(_assertThisInitialized(_this)),header:\"Action\",sortable:false,filter:false,filterMatchMode:'contains',id:13}];_this.state={claimsList:[],cols:columns,paginatorTemplate:\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",rowsPerPageOptions:CommonConfig.dataTableConfig.rowsPerPageOptions,rowsPerPage:CommonConfig.dataTableConfig.rowsPerPage,globalFilter:null};_this.dateTemplate=_this.dateTemplate.bind(_assertThisInitialized(_this));_this.VesselClaimTemplate=_this.VesselClaimTemplate.bind(_assertThisInitialized(_this));_this.claimDataTemplate=_this.claimDataTemplate.bind(_assertThisInitialized(_this));_this.actionTemplate=_this.actionTemplate.bind(_assertThisInitialized(_this));_this.stageDataTemplate=_this.stageDataTemplate.bind(_assertThisInitialized(_this));return _this;}_createClass(ClaimList,[{key:\"stageDataTemplate\",value:function stageDataTemplate(rowData,column){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.Stage));}},{key:\"dateTemplate\",value:function dateTemplate(rowData,column){return/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,moment(rowData.DateReported).format(CommonConfig.dateFormat.forDatePicker),\"/\",moment(rowData.BinderYear).format(CommonConfig.dateFormat.forDatePicker)));}},{key:\"claimDataTemplate\",value:function claimDataTemplate(rowData,column){// debugger;\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.ClaimNumber));}},{key:\"VesselClaimTemplate\",value:function VesselClaimTemplate(rowData,column){// debugger;\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"policy-list-data\"},/*#__PURE__*/React.createElement(\"p\",null,rowData.ClaimType));}},{key:\"getClaimList\",value:function getClaimList(){var _this2=this;var data={//\"PolicyId\":this.state.PolicyId\n\"PolicyId\":\"10502036-f2ff-4ff6-a43b-1a2336bfa5c4\"};api.post(APIConstant.path.getClaimList,data).then(function(res){console.log(res);if(res.success){_this2.setState({claimsList:res.data});}}).catch(function(err){console.log(err);});}},{key:\"openDetail\",value:function openDetail(rowData){this.props.history.push({pathname:'/ClaimsDetail',state:{claimID:rowData.ClaimId}});}},{key:\"actionTemplate\",value:function actionTemplate(rowData,column){var _this3=this;// debugger;\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BTN,{type:\"button\",icon:\"pi pi-eye\",className:\"p-button-warning\",onClick:function onClick(){return _this3.openDetail(rowData);},style:{marginRight:'.5em'},tooltip:\"View\",tooltipOptions:{position:'bottom'}}));}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.getClaimList();case 1:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){}},{key:\"render\",value:function render(){var _this4=this;var columns='';columns=this.state.cols.map(function(col,i){return/*#__PURE__*/React.createElement(Column,{key:i,field:col.field,header:col.header,body:col.body,sortable:col.sortable,filter:col.filter,filterMatchMode:col.filterMatchMode});});return/*#__PURE__*/React.createElement(\"div\",{className:\"animated fadeIn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-custom\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"group float-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"p-input-icon-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\"}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",onInput:function onInput(e){return _this4.setState({globalFilter:e.target.value});},placeholder:\"Global Search\"}))))),/*#__PURE__*/React.createElement(DataTable,{ref:function ref(el){return _this4.dt=el;},value:this.state.claimsList,first:this.state.selectedPage,onPage:function onPage(e){return _this4.getPageString(e);},paginator:true,rows:this.state.rowsPerPage,totalRecords:this.state.claimsList.length,exportFilename:\"Claims List\",currentPageReportTemplate:this.state.str,scrollable:true,scrollHeight:\"340px\",paginatorTemplate:this.state.paginatorTemplate,rowsPerPageOptions:this.state.rowsPerPageOptions,globalFilter:this.state.globalFilter,emptyMessage:\"No records found\",responsive:true,resizableColumns:true,columnResizeMode:\"fit\"//stateKey=\"contactList\" stateStorage=\"local\" header={header} \n},columns)));}}]);return ClaimList;}(Component);export default withTranslation()(ClaimList);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Claims/ClaimList.js"],"names":["React","Component","TabView","TabPanel","DataTable","Column","api","Button","BTN","Card","CardBody","Col","Table","Row","Input","CardHeader","Collapse","Nav","NavItem","NavLink","TabContent","TabPane","Modal","ModalHeader","ModalBody","ModalFooter","InputGroup","Form","UncontrolledTooltip","APIConstant","CommonConfig","withTranslation","InputText","moment","ClaimList","props","getPageString","e","firstPage","first","l","rows","page","lastPage","state","claimsList","length","str","setState","selectedPage","rowsPerPage","columns","body","claimDataTemplate","bind","header","sortable","filter","filterMatchMode","id","VesselClaimTemplate","field","dateTemplate","stageDataTemplate","actionTemplate","cols","paginatorTemplate","rowsPerPageOptions","dataTableConfig","globalFilter","rowData","column","Stage","DateReported","format","dateFormat","forDatePicker","BinderYear","ClaimNumber","ClaimType","data","post","path","getClaimList","then","res","console","log","success","catch","err","history","push","pathname","claimID","ClaimId","openDetail","marginRight","position","map","col","i","target","value","el","dt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { TabView, TabPanel } from 'primereact/tabview';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport api from '../../utils/apiClient';\nimport { Button as BTN } from 'primereact/button';\nimport { Card, CardBody, Col, Table, Row, Input, Button, CardHeader, Collapse, Nav, NavItem, NavLink, TabContent, TabPane, Modal, ModalHeader, ModalBody, ModalFooter, InputGroup, Form, UncontrolledTooltip } from 'reactstrap';\nimport APIConstant, { CommonConfig } from '../../utils/constants';\nimport { withTranslation } from 'react-i18next';\nimport { InputText } from 'primereact/inputtext';\nimport moment from 'moment';\n\nclass ClaimList extends Component {\n\n    constructor(props) {\n        super(props);\n        let columns = [\n            { body: this.claimDataTemplate.bind(this), header: \"Claim Number [Policy Number]\", sortable: true, filter: true, filterMatchMode: 'contains', id: 0 },\n            { body: this.VesselClaimTemplate.bind(this), header: \"Vessel / Claim Type\", sortable: true, filter: true, filterMatchMode: 'contains', id: 1 },\n            { field: \"Name\", header: \"Full Name\", sortable: true, filter: true, filterMatchMode: 'contains', id: 2 },\n            { body: this.dateTemplate.bind(this), header: \"Loss Date / Date Reported / Binder Year\", sortable: true, filter: true, filterMatchMode: 'contains', id: 3 },\n            { body: this.stageDataTemplate.bind(this), header: \"Stage\", sortable: true, filter: true, filterMatchMode: 'contains', id: 4 },\n            { field: \"HandledBy\", header: \"Handler\", sortable: true, filter: true, filterMatchMode: 'contains', id: 5 },\n            { body: this.actionTemplate.bind(this), header: \"Action\", sortable: false, filter: false, filterMatchMode: 'contains', id: 13 }\n        ];\n\n        this.state = {\n            claimsList: [],\n            cols: columns,\n            paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\n            rowsPerPageOptions: CommonConfig.dataTableConfig.rowsPerPageOptions,\n            rowsPerPage: CommonConfig.dataTableConfig.rowsPerPage,\n            globalFilter: null\n        };\n        this.dateTemplate = this.dateTemplate.bind(this);\n        this.VesselClaimTemplate = this.VesselClaimTemplate.bind(this);\n        this.claimDataTemplate = this.claimDataTemplate.bind(this);\n        this.actionTemplate = this.actionTemplate.bind(this);\n        this.stageDataTemplate = this.stageDataTemplate.bind(this);\n    }\n\n    stageDataTemplate(rowData, column) {\n        return <div className=\"policy-list-data\">\n            <p>{rowData.Stage}</p>\n        </div>\n    }\n\n    dateTemplate(rowData, column) {\n        return <div className=\"policy-list-data\">\n            <p>{moment(rowData.DateReported).format(CommonConfig.dateFormat.forDatePicker)}/{moment(rowData.BinderYear).format(CommonConfig.dateFormat.forDatePicker)}</p>\n        </div>\n    }\n\n    claimDataTemplate(rowData, column) {\n        // debugger;\n        return <div className=\"policy-list-data\">\n            <p>{rowData.ClaimNumber}</p>\n        </div>\n    }\n\n    VesselClaimTemplate(rowData, column) {\n        // debugger;\n        return <div className=\"policy-list-data\">\n            <p>{rowData.ClaimType}</p>\n        </div>\n    }\n\n    getClaimList() {\n        let data = {\n            //\"PolicyId\":this.state.PolicyId\n            \"PolicyId\": \"10502036-f2ff-4ff6-a43b-1a2336bfa5c4\"\n        }\n        api.post(APIConstant.path.getClaimList, data).then(res => {\n            console.log(res)\n            if (res.success) {\n                this.setState({ claimsList: res.data });\n            }\n        }).catch(err => {\n            console.log(err)\n        });\n    }\n\n    getPageString = (e) => {\n        let firstPage = e.first + 1;\n        let l = e.rows * (e.page + 1);\n        let lastPage = (l < this.state.claimsList.length) ? l : this.state.claimsList.length\n        var str = firstPage + ' to ' + lastPage + ' out of ' + this.state.claimsList.length + ' records';\n        this.setState({ selectedPage: e.first, str: str, rowsPerPage: e.rows });\n    }\n\n    openDetail(rowData) {\n        this.props.history.push({\n            pathname: '/ClaimsDetail',\n            state: {\n                claimID: rowData.ClaimId\n            }\n        });\n    }\n\n    actionTemplate(rowData, column) {\n        // debugger;\n        return <div>\n            <BTN type=\"button\" icon=\"pi pi-eye\" className=\"p-button-warning\" onClick={() => this.openDetail(rowData)}\n                style={{ marginRight: '.5em' }} tooltip=\"View\" tooltipOptions={{ position: 'bottom' }}>\n            </BTN>\n        </div>;\n    }\n\n    async componentDidMount() {\n        this.getClaimList()\n    }\n\n\n    componentWillUnmount() {\n\n    }\n\n    render() {\n        let columns = '';\n        columns = this.state.cols.map((col, i) => {\n            return <Column key={i} field={col.field} header={col.header} body={col.body} sortable={col.sortable} filter={col.filter} filterMatchMode={col.filterMatchMode} />;\n        });\n\n        return (\n            <div className=\"animated fadeIn\">\n                <div className=\"table-custom\">\n                    <Row>\n                        <CardBody>\n                            <div className=\"group float-right\">\n                                <span className=\"p-input-icon-left\">\n                                    <i className=\"pi pi-search\" />\n                                    <InputText type=\"search\" onInput={(e) => this.setState({ globalFilter: e.target.value })} placeholder=\"Global Search\" />\n                                </span>\n                            </div>\n                        </CardBody>\n                    </Row>\n                    <DataTable ref={(el) => this.dt = el} value={this.state.claimsList} first={this.state.selectedPage} onPage={(e) => this.getPageString(e)}\n                        paginator={true} rows={this.state.rowsPerPage} totalRecords={this.state.claimsList.length} exportFilename=\"Claims List\"\n                        currentPageReportTemplate={this.state.str} scrollable={true} scrollHeight=\"340px\"\n                        paginatorTemplate={this.state.paginatorTemplate}\n                        rowsPerPageOptions={this.state.rowsPerPageOptions} globalFilter={this.state.globalFilter} emptyMessage=\"No records found\"\n                        responsive={true} resizableColumns={true} columnResizeMode=\"fit\" //stateKey=\"contactList\" stateStorage=\"local\" header={header} \n                    >\n                        {columns}\n                    </DataTable>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withTranslation()(ClaimList);\n"]},"metadata":{},"sourceType":"module"}