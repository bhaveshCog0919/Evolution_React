{"ast":null,"code":"var _jsxFileName = \"/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Pages/Login/Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Card, CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from \"reactstrap\";\nimport uuid from \"uuid\";\nimport api from \"../../../utils/apiClient\";\nimport Cookies from \"js-cookie\";\nimport APIConstant from \"../../../utils/constants\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\nimport { CommonConfig } from '../../../utils/constants';\nimport logo from '../../../assets/img/yachtsman_logo.png';\n\nfunction Page() {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lan-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => changeLanguage('de'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"de\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => changeLanguage('en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"en\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => changeLanguage('es'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"es\"));\n}\n\nclass Login extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n\n      if (e.target.name === \"username\") {\n        if (e.target.value === \"\" || e.target.value === null) {\n          this.setState({\n            usernameError: true\n          });\n          this.show(\"username\", true);\n        } else {\n          this.setState({\n            usernameError: false,\n            username: e.target.value\n          });\n          this.show(\"username\", false);\n        }\n      }\n\n      if (e.target.name === \"password\") {\n        if (e.target.value === \"\" || e.target.value === null) {\n          this.setState({\n            passwordError: true\n          });\n          this.show(\"password\", true);\n        } else {\n          this.setState({\n            passwordError: false,\n            password: e.target.value\n          });\n          this.show(\"password\", false);\n        }\n      }\n    };\n\n    this.state = {\n      password: \"\",\n      username: \"\",\n      passwordError: true,\n      usernameError: true\n    };\n  }\n\n  validateEmail(username) {\n    const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n    const result = pattern.test(username);\n  }\n\n  show(field, condition) {\n    if (condition) {\n      document.getElementById(field).className = \"form-control is-invalid\";\n    } else {\n      document.getElementById(field).className = \"form-control\";\n    }\n  }\n\n  onLogin() {\n    if (this.state.usernameError === false && this.state.passwordError === false) {\n      const form = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      api.post(APIConstant.path.login, form).then(res => {\n        if (res.success) {\n          toast.success(res.message);\n          var PolicyDetailPageTimer = CommonConfig.getSysConfigByKey('PolicyDetailPageTimer');\n          var PolicyDetailModalTimer = CommonConfig.getSysConfigByKey('PolicyDetailModalTimer'); // const expires = 60 * 600 * 1000;\n          // const inOneHour = new Date(new Date().getTime() + expires);\n          // console.log(\"DSgf\", inOneHour, res);\n          // Cookies.set(\"access_token\", res.token, { expires: inOneHour });\n          // Cookies.set(\"loggedInUserData\", JSON.stringify(res.data[0]), { expires: inOneHour });\n\n          localStorage.setItem('access_token', res.token);\n          localStorage.setItem('batchMessageHeaderId', uuid.v4());\n          localStorage.setItem('loggedInUserData', JSON.stringify(res.data[0]));\n          this.props.history.push(\"/dashboard\");\n        } else {\n          toast.error(res.message);\n        }\n      }).catch(err => {\n        toast.error(err);\n      });\n    } else {\n      this.show(\"username\", this.state.usernameError);\n      this.show(\"password\", this.state.passwordError);\n    }\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Page, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app flex-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"\",\n      style: {\n        marginBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: e => e.preventDefault(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, t('loginData.title')), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }, t('loginData.description')), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(Input, {\n      name: \"username\",\n      type: \"text\",\n      id: \"username\",\n      className: \"\",\n      placeholder: t('loginData.username.placeholder'),\n      autoComplete: t('loginData.username.placeholder'),\n      onChange: e => this.handleChange(e),\n      value: this.state.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"em\", {\n      className: \"error invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 27\n      }\n    }, t('loginData.username.error'))), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(InputGroupText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(Input, {\n      name: \"password\",\n      id: \"password\",\n      type: \"password\",\n      placeholder: t('loginData.password.placeholder'),\n      autoComplete: \"current-password\",\n      onChange: e => this.handleChange(e),\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"em\", {\n      className: \"error invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 27\n      }\n    }, t('loginData.password.error'))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      className: \"px-4\",\n      onClick: () => this.onLogin(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    }, t('loginData.button'))), /*#__PURE__*/React.createElement(Col, {\n      xs: \"6\",\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"link\",\n      className: \"px-0\",\n      onClick: e => this.props.history.push('/forgotpassword'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, t('loginData.forgotpassword'))))))), /*#__PURE__*/React.createElement(Card, {\n      className: \"text-white bg-primary py-5 d-md-down-none\",\n      style: {\n        width: \"44%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }\n    }, t('loginData.signup')), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, t('loginData.registerdescription')), /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      className: \"mt-3\",\n      active: true,\n      tabIndex: -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 27\n      }\n    }, t('loginData.registerbutton'))))))))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 10,\n        textAlign: \"center\",\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, \"Verison: \", CommonConfig.appVerison), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 10,\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, \"Region: \", CommonConfig.appRegion))))));\n  }\n\n}\n\nexport default withTranslation()(Login);","map":{"version":3,"sources":["/Users/bhavik/Downloads/Cognisun/Evolution/Evolution_React/evolution_new/src/views/Pages/Login/Login.js"],"names":["React","Component","Link","Button","Card","CardBody","CardGroup","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","uuid","api","Cookies","APIConstant","ToastContainer","toast","useTranslation","withTranslation","Trans","CommonConfig","logo","Page","t","i18n","changeLanguage","lng","window","location","reload","Login","constructor","props","context","handleChange","e","setState","target","name","value","usernameError","show","username","passwordError","password","state","validateEmail","pattern","result","test","field","condition","document","getElementById","className","onLogin","form","post","path","login","then","res","success","message","PolicyDetailPageTimer","getSysConfigByKey","PolicyDetailModalTimer","localStorage","setItem","token","v4","JSON","stringify","data","history","push","error","catch","err","render","marginBottom","preventDefault","width","fontSize","textAlign","marginTop","appVerison","appRegion"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardGroup,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  Row\r\n} from \"reactstrap\";\r\nimport uuid from \"uuid\";\r\nimport api from \"../../../utils/apiClient\";\r\nimport Cookies from \"js-cookie\";\r\nimport APIConstant from \"../../../utils/constants\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\nimport { CommonConfig } from '../../../utils/constants';\r\n\r\nimport logo from '../../../assets/img/yachtsman_logo.png';\r\n\r\nfunction Page() {\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const changeLanguage = lng => {\r\n    i18n.changeLanguage(lng);\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className=\"lan-buttons\">\r\n      <button onClick={() => changeLanguage('de')}>de</button>\r\n      <button onClick={() => changeLanguage('en')}>en</button>\r\n      <button onClick={() => changeLanguage('es')}>es</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      password: \"\",\r\n      username: \"\",\r\n      passwordError: true,\r\n      usernameError: true\r\n    };\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n\r\n    if (e.target.name === \"username\") {\r\n      if (e.target.value === \"\" || e.target.value === null) {\r\n        this.setState({\r\n          usernameError: true\r\n        });\r\n        this.show(\"username\", true);\r\n      } else {\r\n        this.setState({\r\n          usernameError: false,\r\n          username: e.target.value\r\n        });\r\n        this.show(\"username\", false);\r\n      }\r\n    }\r\n\r\n    if (e.target.name === \"password\") {\r\n      if (e.target.value === \"\" || e.target.value === null) {\r\n        this.setState({\r\n          passwordError: true\r\n        });\r\n        this.show(\"password\", true);\r\n      } else {\r\n        this.setState({\r\n          passwordError: false,\r\n          password: e.target.value\r\n        });\r\n        this.show(\"password\", false);\r\n      }\r\n    }\r\n  };\r\n\r\n  validateEmail(username) {\r\n    const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\r\n    const result = pattern.test(username);\r\n  }\r\n\r\n  show(field, condition) {\r\n    if (condition) {\r\n      document.getElementById(field).className = \"form-control is-invalid\";\r\n    } else {\r\n      document.getElementById(field).className = \"form-control\";\r\n    }\r\n  }\r\n\r\n  onLogin() {\r\n    if (\r\n      this.state.usernameError === false &&\r\n      this.state.passwordError === false\r\n    ) {\r\n      const form = {\r\n        username: this.state.username,\r\n        password: this.state.password\r\n      };\r\n\r\n      api\r\n        .post(APIConstant.path.login, form)\r\n        .then(res => {\r\n          if (res.success) {\r\n            toast.success(res.message);\r\n            var PolicyDetailPageTimer = CommonConfig.getSysConfigByKey('PolicyDetailPageTimer');\r\n            var PolicyDetailModalTimer = CommonConfig.getSysConfigByKey('PolicyDetailModalTimer');\r\n            // const expires = 60 * 600 * 1000;\r\n            // const inOneHour = new Date(new Date().getTime() + expires);\r\n            // console.log(\"DSgf\", inOneHour, res);\r\n            // Cookies.set(\"access_token\", res.token, { expires: inOneHour });\r\n            // Cookies.set(\"loggedInUserData\", JSON.stringify(res.data[0]), { expires: inOneHour });\r\n            localStorage.setItem('access_token',  res.token)\r\n\r\n              localStorage.setItem('batchMessageHeaderId', uuid.v4())\r\n            localStorage.setItem('loggedInUserData', JSON.stringify(res.data[0]))\r\n            this.props.history.push(\"/dashboard\");\r\n          } else {\r\n            toast.error(res.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          toast.error(err);\r\n        });\r\n    } else {\r\n      this.show(\"username\", this.state.usernameError);\r\n      this.show(\"password\", this.state.passwordError);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Page />\r\n\r\n        <ToastContainer></ToastContainer>\r\n\r\n        <div className=\"app flex-row align-items-center\">\r\n          <Container>\r\n            <Row className=\"justify-content-center\">\r\n              <Col md=\"3\">\r\n                <img src={logo} className=\"\" style={{ marginBottom: 20 }} />\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"justify-content-center\">\r\n              <Col md=\"8\">\r\n                <CardGroup>\r\n                  <Card className=\"p-4\">\r\n                    <CardBody>\r\n                      <Form onSubmit={e => e.preventDefault()}>\r\n                        <h1>{t('loginData.title')}</h1>\r\n\r\n                        <p className=\"text-muted\">{t('loginData.description')}</p>\r\n\r\n                        <InputGroup className=\"mb-3\">\r\n                          <InputGroupAddon addonType=\"prepend\">\r\n                            <InputGroupText>\r\n                              <i className=\"icon-user\"></i>\r\n                            </InputGroupText>\r\n                          </InputGroupAddon>\r\n\r\n                          <Input\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            className=\"\"\r\n                            placeholder={t('loginData.username.placeholder')}\r\n                            autoComplete={t('loginData.username.placeholder')}\r\n                            onChange={e => this.handleChange(e)}\r\n                            value={this.state.username}\r\n                          />\r\n                          {/* <Input id=\"username\" type=\"text\" className=\"form-control is-invalid\" placeholder=\"Username\" autoComplete=\"username\" value={this.state.username} /> */}\r\n                          <em className=\"error invalid-feedback\">{t('loginData.username.error')}</em>\r\n                        </InputGroup>\r\n\r\n                        <InputGroup className=\"mb-4\">\r\n                          <InputGroupAddon addonType=\"prepend\">\r\n                            <InputGroupText>\r\n                              <i className=\"icon-lock\"></i>\r\n                            </InputGroupText>\r\n                          </InputGroupAddon>\r\n\r\n                          <Input\r\n                            name=\"password\"\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            placeholder={t('loginData.password.placeholder')}\r\n                            autoComplete=\"current-password\"\r\n                            onChange={e => this.handleChange(e)}\r\n                            value={this.state.password}\r\n                          />\r\n                          <em className=\"error invalid-feedback\">{t('loginData.password.error')}</em>\r\n                        </InputGroup>\r\n\r\n                        <Row>\r\n                          <Col xs=\"6\">\r\n                            <Button\r\n                              type=\"submit\"\r\n                              color=\"primary\"\r\n                              className=\"px-4\"\r\n                              onClick={() => this.onLogin()}\r\n                            >\r\n                              {t('loginData.button')}\r\n                            </Button>\r\n                          </Col>\r\n\r\n                          <Col xs=\"6\" className=\"text-right\">\r\n                            {/* <Link to=\"/forgotpassword\"> */}\r\n                            <Button color=\"link\" className=\"px-0\" onClick={e => this.props.history.push('/forgotpassword')}>\r\n                              {t('loginData.forgotpassword')}\r\n                            </Button>\r\n                            {/* </Link> */}\r\n                          </Col>\r\n                          {/* <Col xs=\"6\" className=\"text-right\">\r\n                          <Link to=\"/forgotpassword\">\r\n                            <Button color=\"link\" className=\"px-0\">\r\n                            {t('loginData.forgotpassword')}\r\n                            </Button>\r\n                          </Link>\r\n                        </Col> */}\r\n                        </Row>\r\n                      </Form>\r\n                    </CardBody>\r\n                  </Card>\r\n                  <Card\r\n                    className=\"text-white bg-primary py-5 d-md-down-none\"\r\n                    style={{ width: \"44%\" }}\r\n                  >\r\n                    <CardBody className=\"text-center\">\r\n                      <div>\r\n                        <h2>{t('loginData.signup')}</h2>\r\n                        <p>\r\n                          {t('loginData.registerdescription')}\r\n                        </p>\r\n                        <Link to=\"/register\">\r\n                          <Button\r\n                            color=\"primary\"\r\n                            className=\"mt-3\"\r\n                            active\r\n                            tabIndex={-1}\r\n                          >\r\n                            {t('loginData.registerbutton')}\r\n                          </Button>\r\n                        </Link>\r\n                      </div>\r\n                    </CardBody>\r\n                  </Card>\r\n                </CardGroup>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row className=\"justify-content-center\">\r\n              <Col md=\"3\">\r\n                <div style={{ fontSize: 10, textAlign: \"center\", marginTop: 10 }}>\r\n                  Verison: {CommonConfig.appVerison}\r\n                </div>\r\n                <div style={{ fontSize: 10, textAlign: \"center\" }}>\r\n                  Region: {CommonConfig.appRegion}\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default withTranslation()(Login);\r\n"]},"metadata":{},"sourceType":"module"}